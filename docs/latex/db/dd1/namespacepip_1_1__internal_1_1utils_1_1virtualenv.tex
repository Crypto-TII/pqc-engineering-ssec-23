\doxysection{pip.\+\_\+internal.\+utils.\+virtualenv Namespace Reference}
\hypertarget{namespacepip_1_1__internal_1_1utils_1_1virtualenv}{}\label{namespacepip_1_1__internal_1_1utils_1_1virtualenv}\index{pip.\_internal.utils.virtualenv@{pip.\_internal.utils.virtualenv}}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{namespacepip_1_1__internal_1_1utils_1_1virtualenv_a8dd56ce07625991501866bf7beca1518}{\+\_\+running\+\_\+under\+\_\+venv}} ()
\item 
bool \mbox{\hyperlink{namespacepip_1_1__internal_1_1utils_1_1virtualenv_a5496f2aa34633c27104b68fded06c675}{\+\_\+running\+\_\+under\+\_\+legacy\+\_\+virtualenv}} ()
\item 
bool \mbox{\hyperlink{namespacepip_1_1__internal_1_1utils_1_1virtualenv_ac75af5dbb9d564141011b69cee1f9157}{running\+\_\+under\+\_\+virtualenv}} ()
\item 
Optional\mbox{[}List\mbox{[}str\mbox{]}\mbox{]} \mbox{\hyperlink{namespacepip_1_1__internal_1_1utils_1_1virtualenv_a8ab48bab2123cf6ad0f7e9af349f65b7}{\+\_\+get\+\_\+pyvenv\+\_\+cfg\+\_\+lines}} ()
\item 
bool \mbox{\hyperlink{namespacepip_1_1__internal_1_1utils_1_1virtualenv_a9afe56965cd48222b80c5e2dff0032ac}{\+\_\+no\+\_\+global\+\_\+under\+\_\+venv}} ()
\item 
bool \mbox{\hyperlink{namespacepip_1_1__internal_1_1utils_1_1virtualenv_a8830a0064a4ad8e39975af8e08703d67}{\+\_\+no\+\_\+global\+\_\+under\+\_\+legacy\+\_\+virtualenv}} ()
\item 
bool \mbox{\hyperlink{namespacepip_1_1__internal_1_1utils_1_1virtualenv_a064b52a4fcc71c4a573ad86c883f11c2}{virtualenv\+\_\+no\+\_\+global}} ()
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacepip_1_1__internal_1_1utils_1_1virtualenv_a0b14e488ae28d98d262453f3e9cd6e4d}{logger}} = logging.\+get\+Logger(\+\_\+\+\_\+name\+\_\+\+\_\+)
\item 
\mbox{\hyperlink{namespacepip_1_1__internal_1_1utils_1_1virtualenv_a6af29ee0be812257847038c8e64c04af}{\+\_\+\+INCLUDE\+\_\+\+SYSTEM\+\_\+\+SITE\+\_\+\+PACKAGES\+\_\+\+REGEX}}
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{namespacepip_1_1__internal_1_1utils_1_1virtualenv_a8ab48bab2123cf6ad0f7e9af349f65b7}\label{namespacepip_1_1__internal_1_1utils_1_1virtualenv_a8ab48bab2123cf6ad0f7e9af349f65b7} 
\index{pip.\_internal.utils.virtualenv@{pip.\_internal.utils.virtualenv}!\_get\_pyvenv\_cfg\_lines@{\_get\_pyvenv\_cfg\_lines}}
\index{\_get\_pyvenv\_cfg\_lines@{\_get\_pyvenv\_cfg\_lines}!pip.\_internal.utils.virtualenv@{pip.\_internal.utils.virtualenv}}
\doxysubsubsection{\texorpdfstring{\_get\_pyvenv\_cfg\_lines()}{\_get\_pyvenv\_cfg\_lines()}}
{\footnotesize\ttfamily  Optional\mbox{[}List\mbox{[}str\mbox{]}\mbox{]} \+\_\+get\+\_\+pyvenv\+\_\+cfg\+\_\+lines (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Reads {sys.prefix}/pyvenv.cfg and returns its contents as list of lines

Returns None, if it could not read/access the file.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{virtualenv_8py_source_l00036}{36}} of file \mbox{\hyperlink{virtualenv_8py_source}{virtualenv.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00036\ \textcolor{keyword}{def\ }\_get\_pyvenv\_cfg\_lines()\ -\/>\ Optional[List[str]]:}
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Reads\ \{sys.prefix\}/pyvenv.cfg\ and\ returns\ its\ contents\ as\ list\ of\ lines}}
\DoxyCodeLine{00038\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00039\ \textcolor{stringliteral}{\ \ \ \ Returns\ None,\ if\ it\ could\ not\ read/access\ the\ file.}}
\DoxyCodeLine{00040\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00041\ \ \ \ \ pyvenv\_cfg\_file\ =\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.path.join}}(\mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{sys.prefix}},\ \textcolor{stringliteral}{"{}pyvenv.cfg"{}})}
\DoxyCodeLine{00042\ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Although\ PEP\ 405\ does\ not\ specify,\ the\ built-\/in\ venv\ module\ always}}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ writes\ with\ UTF-\/8.\ (pypa/pip\#8717)}}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \textcolor{keyword}{with}\ open(pyvenv\_cfg\_file,\ encoding=\textcolor{stringliteral}{"{}utf-\/8"{}})\ \textcolor{keyword}{as}\ f:}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{f.read}}().\mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{splitlines}}()\ \ \textcolor{comment}{\#\ avoids\ trailing\ newlines}}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keywordflow}{except}\ OSError:}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ }

\end{DoxyCode}


References \mbox{\hyperlink{prime__search_8m_source_l00010}{i}}.



Referenced by \mbox{\hyperlink{virtualenv_8py_source_l00051}{pip.\+\_\+internal.\+utils.\+virtualenv.\+\_\+no\+\_\+global\+\_\+under\+\_\+venv()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd1/namespacepip_1_1__internal_1_1utils_1_1virtualenv_a8ab48bab2123cf6ad0f7e9af349f65b7_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacepip_1_1__internal_1_1utils_1_1virtualenv_a8830a0064a4ad8e39975af8e08703d67}\label{namespacepip_1_1__internal_1_1utils_1_1virtualenv_a8830a0064a4ad8e39975af8e08703d67} 
\index{pip.\_internal.utils.virtualenv@{pip.\_internal.utils.virtualenv}!\_no\_global\_under\_legacy\_virtualenv@{\_no\_global\_under\_legacy\_virtualenv}}
\index{\_no\_global\_under\_legacy\_virtualenv@{\_no\_global\_under\_legacy\_virtualenv}!pip.\_internal.utils.virtualenv@{pip.\_internal.utils.virtualenv}}
\doxysubsubsection{\texorpdfstring{\_no\_global\_under\_legacy\_virtualenv()}{\_no\_global\_under\_legacy\_virtualenv()}}
{\footnotesize\ttfamily  bool \+\_\+no\+\_\+global\+\_\+under\+\_\+legacy\+\_\+virtualenv (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Check if "no-global-site-packages.txt" exists beside site.py

This mirrors logic in pypa/virtualenv for determining whether system
site-packages are visible in the virtual environment.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{virtualenv_8py_source_l00080}{80}} of file \mbox{\hyperlink{virtualenv_8py_source}{virtualenv.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00080\ \textcolor{keyword}{def\ }\_no\_global\_under\_legacy\_virtualenv()\ -\/>\ bool:}
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Check\ if\ "{}no-\/global-\/site-\/packages.txt"{}\ exists\ beside\ site.py}}
\DoxyCodeLine{00082\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00083\ \textcolor{stringliteral}{\ \ \ \ This\ mirrors\ logic\ in\ pypa/virtualenv\ for\ determining\ whether\ system}}
\DoxyCodeLine{00084\ \textcolor{stringliteral}{\ \ \ \ site-\/packages\ are\ visible\ in\ the\ virtual\ environment.}}
\DoxyCodeLine{00085\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00086\ \ \ \ \ site\_mod\_dir\ =\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.path.dirname}}(\mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.path.abspath}}(\mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{site.\_\_file\_\_}}))}
\DoxyCodeLine{00087\ \ \ \ \ no\_global\_site\_packages\_file\ =\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.path.join}}(}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ site\_mod\_dir,}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}no-\/global-\/site-\/packages.txt"{}},}
\DoxyCodeLine{00090\ \ \ \ \ )}
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.path.exists}}(no\_global\_site\_packages\_file)}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ }

\end{DoxyCode}


References \mbox{\hyperlink{prime__search_8m_source_l00010}{i}}.



Referenced by \mbox{\hyperlink{virtualenv_8py_source_l00094}{pip.\+\_\+internal.\+utils.\+virtualenv.\+virtualenv\+\_\+no\+\_\+global()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd1/namespacepip_1_1__internal_1_1utils_1_1virtualenv_a8830a0064a4ad8e39975af8e08703d67_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacepip_1_1__internal_1_1utils_1_1virtualenv_a9afe56965cd48222b80c5e2dff0032ac}\label{namespacepip_1_1__internal_1_1utils_1_1virtualenv_a9afe56965cd48222b80c5e2dff0032ac} 
\index{pip.\_internal.utils.virtualenv@{pip.\_internal.utils.virtualenv}!\_no\_global\_under\_venv@{\_no\_global\_under\_venv}}
\index{\_no\_global\_under\_venv@{\_no\_global\_under\_venv}!pip.\_internal.utils.virtualenv@{pip.\_internal.utils.virtualenv}}
\doxysubsubsection{\texorpdfstring{\_no\_global\_under\_venv()}{\_no\_global\_under\_venv()}}
{\footnotesize\ttfamily  bool \+\_\+no\+\_\+global\+\_\+under\+\_\+venv (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Check `{sys.prefix}/pyvenv.cfg` for system site-packages inclusion

PEP 405 specifies that when system site-packages are not supposed to be
visible from a virtual environment, `pyvenv.cfg` must contain the following
line:

    include-system-site-packages = false

Additionally, log a warning if accessing the file fails.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{virtualenv_8py_source_l00051}{51}} of file \mbox{\hyperlink{virtualenv_8py_source}{virtualenv.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00051\ \textcolor{keyword}{def\ }\_no\_global\_under\_venv()\ -\/>\ bool:}
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Check\ \`{}\{sys.prefix\}/pyvenv.cfg\`{}\ for\ system\ site-\/packages\ inclusion}}
\DoxyCodeLine{00053\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00054\ \textcolor{stringliteral}{\ \ \ \ PEP\ 405\ specifies\ that\ when\ system\ site-\/packages\ are\ not\ supposed\ to\ be}}
\DoxyCodeLine{00055\ \textcolor{stringliteral}{\ \ \ \ visible\ from\ a\ virtual\ environment,\ \`{}pyvenv.cfg\`{}\ must\ contain\ the\ following}}
\DoxyCodeLine{00056\ \textcolor{stringliteral}{\ \ \ \ line:}}
\DoxyCodeLine{00057\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00058\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ include-\/system-\/site-\/packages\ =\ false}}
\DoxyCodeLine{00059\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00060\ \textcolor{stringliteral}{\ \ \ \ Additionally,\ log\ a\ warning\ if\ accessing\ the\ file\ fails.}}
\DoxyCodeLine{00061\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00062\ \ \ \ \ cfg\_lines\ =\ \_get\_pyvenv\_cfg\_lines()}
\DoxyCodeLine{00063\ \ \ \ \ \textcolor{keywordflow}{if}\ cfg\_lines\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ We're\ not\ in\ a\ "{}sane"{}\ venv,\ so\ assume\ there\ is\ no\ system}}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ site-\/packages\ access\ (since\ that's\ PEP\ 405's\ default\ state).}}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{logger.warning}}(}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Could\ not\ access\ 'pyvenv.cfg'\ despite\ a\ virtual\ environment\ "{}}}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}being\ active.\ Assuming\ global\ site-\/packages\ is\ not\ accessible\ "{}}}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}in\ this\ environment."{}}}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{True}}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{keywordflow}{for}\ line\ \textcolor{keywordflow}{in}\ cfg\_lines:}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ match\ =\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{\_INCLUDE\_SYSTEM\_SITE\_PACKAGES\_REGEX.match}}(line)}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ match\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{and}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{match.group}}(\textcolor{stringliteral}{"{}value"{}})\ ==\ \textcolor{stringliteral}{"{}false"{}}:}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{True}}
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{False}}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ }

\end{DoxyCode}


References \mbox{\hyperlink{virtualenv_8py_source_l00036}{pip.\+\_\+internal.\+utils.\+virtualenv.\+\_\+get\+\_\+pyvenv\+\_\+cfg\+\_\+lines()}}, and \mbox{\hyperlink{prime__search_8m_source_l00010}{i}}.



Referenced by \mbox{\hyperlink{virtualenv_8py_source_l00094}{pip.\+\_\+internal.\+utils.\+virtualenv.\+virtualenv\+\_\+no\+\_\+global()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd1/namespacepip_1_1__internal_1_1utils_1_1virtualenv_a9afe56965cd48222b80c5e2dff0032ac_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd1/namespacepip_1_1__internal_1_1utils_1_1virtualenv_a9afe56965cd48222b80c5e2dff0032ac_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacepip_1_1__internal_1_1utils_1_1virtualenv_a5496f2aa34633c27104b68fded06c675}\label{namespacepip_1_1__internal_1_1utils_1_1virtualenv_a5496f2aa34633c27104b68fded06c675} 
\index{pip.\_internal.utils.virtualenv@{pip.\_internal.utils.virtualenv}!\_running\_under\_legacy\_virtualenv@{\_running\_under\_legacy\_virtualenv}}
\index{\_running\_under\_legacy\_virtualenv@{\_running\_under\_legacy\_virtualenv}!pip.\_internal.utils.virtualenv@{pip.\_internal.utils.virtualenv}}
\doxysubsubsection{\texorpdfstring{\_running\_under\_legacy\_virtualenv()}{\_running\_under\_legacy\_virtualenv()}}
{\footnotesize\ttfamily  bool \+\_\+running\+\_\+under\+\_\+legacy\+\_\+virtualenv (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Checks if sys.real_prefix is set.

This handles virtual environments created with pypa's virtualenv.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{virtualenv_8py_source_l00022}{22}} of file \mbox{\hyperlink{virtualenv_8py_source}{virtualenv.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00022\ \textcolor{keyword}{def\ }\_running\_under\_legacy\_virtualenv()\ -\/>\ bool:}
\DoxyCodeLine{00023\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Checks\ if\ sys.real\_prefix\ is\ set.}}
\DoxyCodeLine{00024\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00025\ \textcolor{stringliteral}{\ \ \ \ This\ handles\ virtual\ environments\ created\ with\ pypa's\ virtualenv.}}
\DoxyCodeLine{00026\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00027\ \ \ \ \ \textcolor{comment}{\#\ pypa/virtualenv\ case}}
\DoxyCodeLine{00028\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{hasattr}}(sys,\ \textcolor{stringliteral}{"{}real\_prefix"{}})}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ }

\end{DoxyCode}


References \mbox{\hyperlink{prime__search_8m_source_l00010}{i}}.



Referenced by \mbox{\hyperlink{virtualenv_8py_source_l00031}{pip.\+\_\+internal.\+utils.\+virtualenv.\+running\+\_\+under\+\_\+virtualenv()}}, and \mbox{\hyperlink{virtualenv_8py_source_l00094}{pip.\+\_\+internal.\+utils.\+virtualenv.\+virtualenv\+\_\+no\+\_\+global()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd1/namespacepip_1_1__internal_1_1utils_1_1virtualenv_a5496f2aa34633c27104b68fded06c675_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacepip_1_1__internal_1_1utils_1_1virtualenv_a8dd56ce07625991501866bf7beca1518}\label{namespacepip_1_1__internal_1_1utils_1_1virtualenv_a8dd56ce07625991501866bf7beca1518} 
\index{pip.\_internal.utils.virtualenv@{pip.\_internal.utils.virtualenv}!\_running\_under\_venv@{\_running\_under\_venv}}
\index{\_running\_under\_venv@{\_running\_under\_venv}!pip.\_internal.utils.virtualenv@{pip.\_internal.utils.virtualenv}}
\doxysubsubsection{\texorpdfstring{\_running\_under\_venv()}{\_running\_under\_venv()}}
{\footnotesize\ttfamily  bool \+\_\+running\+\_\+under\+\_\+venv (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Checks if sys.base_prefix and sys.prefix match.

This handles PEP 405 compliant virtual environments.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{virtualenv_8py_source_l00014}{14}} of file \mbox{\hyperlink{virtualenv_8py_source}{virtualenv.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00014\ \textcolor{keyword}{def\ }\_running\_under\_venv()\ -\/>\ bool:}
\DoxyCodeLine{00015\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Checks\ if\ sys.base\_prefix\ and\ sys.prefix\ match.}}
\DoxyCodeLine{00016\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00017\ \textcolor{stringliteral}{\ \ \ \ This\ handles\ PEP\ 405\ compliant\ virtual\ environments.}}
\DoxyCodeLine{00018\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00019\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{sys.prefix}}\ !=\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{getattr}}(sys,\ \textcolor{stringliteral}{"{}base\_prefix"{}},\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{sys.prefix}})}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ }

\end{DoxyCode}


References \mbox{\hyperlink{prime__search_8m_source_l00010}{i}}.



Referenced by \mbox{\hyperlink{virtualenv_8py_source_l00031}{pip.\+\_\+internal.\+utils.\+virtualenv.\+running\+\_\+under\+\_\+virtualenv()}}, and \mbox{\hyperlink{virtualenv_8py_source_l00094}{pip.\+\_\+internal.\+utils.\+virtualenv.\+virtualenv\+\_\+no\+\_\+global()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd1/namespacepip_1_1__internal_1_1utils_1_1virtualenv_a8dd56ce07625991501866bf7beca1518_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacepip_1_1__internal_1_1utils_1_1virtualenv_ac75af5dbb9d564141011b69cee1f9157}\label{namespacepip_1_1__internal_1_1utils_1_1virtualenv_ac75af5dbb9d564141011b69cee1f9157} 
\index{pip.\_internal.utils.virtualenv@{pip.\_internal.utils.virtualenv}!running\_under\_virtualenv@{running\_under\_virtualenv}}
\index{running\_under\_virtualenv@{running\_under\_virtualenv}!pip.\_internal.utils.virtualenv@{pip.\_internal.utils.virtualenv}}
\doxysubsubsection{\texorpdfstring{running\_under\_virtualenv()}{running\_under\_virtualenv()}}
{\footnotesize\ttfamily  bool running\+\_\+under\+\_\+virtualenv (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\begin{DoxyVerb}True if we're running inside a virtual environment, False otherwise.\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{virtualenv_8py_source_l00031}{31}} of file \mbox{\hyperlink{virtualenv_8py_source}{virtualenv.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00031\ \textcolor{keyword}{def\ }running\_under\_virtualenv()\ -\/>\ bool:}
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}True\ if\ we're\ running\ inside\ a\ virtual\ environment,\ False\ otherwise."{}"{}"{}}}
\DoxyCodeLine{00033\ \ \ \ \ \textcolor{keywordflow}{return}\ \_running\_under\_venv()\ \textcolor{keywordflow}{or}\ \_running\_under\_legacy\_virtualenv()}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ }

\end{DoxyCode}


References \mbox{\hyperlink{virtualenv_8py_source_l00022}{pip.\+\_\+internal.\+utils.\+virtualenv.\+\_\+running\+\_\+under\+\_\+legacy\+\_\+virtualenv()}}, and \mbox{\hyperlink{virtualenv_8py_source_l00014}{pip.\+\_\+internal.\+utils.\+virtualenv.\+\_\+running\+\_\+under\+\_\+venv()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd1/namespacepip_1_1__internal_1_1utils_1_1virtualenv_ac75af5dbb9d564141011b69cee1f9157_cgraph}
\end{center}
\end{figure}
\Hypertarget{namespacepip_1_1__internal_1_1utils_1_1virtualenv_a064b52a4fcc71c4a573ad86c883f11c2}\label{namespacepip_1_1__internal_1_1utils_1_1virtualenv_a064b52a4fcc71c4a573ad86c883f11c2} 
\index{pip.\_internal.utils.virtualenv@{pip.\_internal.utils.virtualenv}!virtualenv\_no\_global@{virtualenv\_no\_global}}
\index{virtualenv\_no\_global@{virtualenv\_no\_global}!pip.\_internal.utils.virtualenv@{pip.\_internal.utils.virtualenv}}
\doxysubsubsection{\texorpdfstring{virtualenv\_no\_global()}{virtualenv\_no\_global()}}
{\footnotesize\ttfamily  bool virtualenv\+\_\+no\+\_\+global (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\begin{DoxyVerb}Returns a boolean, whether running in venv with no system site-packages.\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{virtualenv_8py_source_l00094}{94}} of file \mbox{\hyperlink{virtualenv_8py_source}{virtualenv.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00094\ \textcolor{keyword}{def\ }virtualenv\_no\_global()\ -\/>\ bool:}
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Returns\ a\ boolean,\ whether\ running\ in\ venv\ with\ no\ system\ site-\/packages."{}"{}"{}}}
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{comment}{\#\ PEP\ 405\ compliance\ needs\ to\ be\ checked\ first\ since\ virtualenv\ >=20\ would}}
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{comment}{\#\ return\ True\ for\ both\ checks,\ but\ is\ only\ able\ to\ use\ the\ PEP\ 405\ config.}}
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{keywordflow}{if}\ \_running\_under\_venv():}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_no\_global\_under\_venv()}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \ \ \ \ \textcolor{keywordflow}{if}\ \_running\_under\_legacy\_virtualenv():}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_no\_global\_under\_legacy\_virtualenv()}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{False}}

\end{DoxyCode}


References \mbox{\hyperlink{virtualenv_8py_source_l00080}{pip.\+\_\+internal.\+utils.\+virtualenv.\+\_\+no\+\_\+global\+\_\+under\+\_\+legacy\+\_\+virtualenv()}}, \mbox{\hyperlink{virtualenv_8py_source_l00051}{pip.\+\_\+internal.\+utils.\+virtualenv.\+\_\+no\+\_\+global\+\_\+under\+\_\+venv()}}, \mbox{\hyperlink{virtualenv_8py_source_l00022}{pip.\+\_\+internal.\+utils.\+virtualenv.\+\_\+running\+\_\+under\+\_\+legacy\+\_\+virtualenv()}}, and \mbox{\hyperlink{virtualenv_8py_source_l00014}{pip.\+\_\+internal.\+utils.\+virtualenv.\+\_\+running\+\_\+under\+\_\+venv()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd1/namespacepip_1_1__internal_1_1utils_1_1virtualenv_a064b52a4fcc71c4a573ad86c883f11c2_cgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\Hypertarget{namespacepip_1_1__internal_1_1utils_1_1virtualenv_a6af29ee0be812257847038c8e64c04af}\label{namespacepip_1_1__internal_1_1utils_1_1virtualenv_a6af29ee0be812257847038c8e64c04af} 
\index{pip.\_internal.utils.virtualenv@{pip.\_internal.utils.virtualenv}!\_INCLUDE\_SYSTEM\_SITE\_PACKAGES\_REGEX@{\_INCLUDE\_SYSTEM\_SITE\_PACKAGES\_REGEX}}
\index{\_INCLUDE\_SYSTEM\_SITE\_PACKAGES\_REGEX@{\_INCLUDE\_SYSTEM\_SITE\_PACKAGES\_REGEX}!pip.\_internal.utils.virtualenv@{pip.\_internal.utils.virtualenv}}
\doxysubsubsection{\texorpdfstring{\_INCLUDE\_SYSTEM\_SITE\_PACKAGES\_REGEX}{\_INCLUDE\_SYSTEM\_SITE\_PACKAGES\_REGEX}}
{\footnotesize\ttfamily \+\_\+\+INCLUDE\+\_\+\+SYSTEM\+\_\+\+SITE\+\_\+\+PACKAGES\+\_\+\+REGEX\hspace{0.3cm}{\ttfamily [protected]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ =\ \ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{re.compile}}(}
\DoxyCodeLine{00002\ \ \ \ \ \textcolor{stringliteral}{r"{}include-\/system-\/site-\/packages\(\backslash\)s*=\(\backslash\)s*(?P<value>true|false)"{}}}
\DoxyCodeLine{00003\ )}

\end{DoxyCode}


Definition at line \mbox{\hyperlink{virtualenv_8py_source_l00009}{9}} of file \mbox{\hyperlink{virtualenv_8py_source}{virtualenv.\+py}}.

\Hypertarget{namespacepip_1_1__internal_1_1utils_1_1virtualenv_a0b14e488ae28d98d262453f3e9cd6e4d}\label{namespacepip_1_1__internal_1_1utils_1_1virtualenv_a0b14e488ae28d98d262453f3e9cd6e4d} 
\index{pip.\_internal.utils.virtualenv@{pip.\_internal.utils.virtualenv}!logger@{logger}}
\index{logger@{logger}!pip.\_internal.utils.virtualenv@{pip.\_internal.utils.virtualenv}}
\doxysubsubsection{\texorpdfstring{logger}{logger}}
{\footnotesize\ttfamily logger = logging.\+get\+Logger(\+\_\+\+\_\+name\+\_\+\+\_\+)}



Definition at line \mbox{\hyperlink{virtualenv_8py_source_l00008}{8}} of file \mbox{\hyperlink{virtualenv_8py_source}{virtualenv.\+py}}.

