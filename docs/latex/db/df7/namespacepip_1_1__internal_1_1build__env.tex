\doxysection{pip.\+\_\+internal.\+build\+\_\+env Namespace Reference}
\hypertarget{namespacepip_1_1__internal_1_1build__env}{}\label{namespacepip_1_1__internal_1_1build__env}\index{pip.\_internal.build\_env@{pip.\_internal.build\_env}}
\doxysubsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classpip_1_1__internal_1_1build__env_1_1__Prefix}{\+\_\+\+Prefix}}
\item 
class \mbox{\hyperlink{classpip_1_1__internal_1_1build__env_1_1BuildEnvironment}{Build\+Environment}}
\item 
class \mbox{\hyperlink{classpip_1_1__internal_1_1build__env_1_1NoOpBuildEnvironment}{No\+Op\+Build\+Environment}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
Union\mbox{[}Tuple\mbox{[}str\mbox{]}, Tuple\mbox{[}str, str\mbox{]}\mbox{]} \mbox{\hyperlink{namespacepip_1_1__internal_1_1build__env_a20fa17bc521a3460d92508d07c7908fd}{\+\_\+dedup}} (str \mbox{\hyperlink{to__model_8m_ae72ab0a319852f0c6d43e6937c1063bd}{a}}, str b)
\item 
str \mbox{\hyperlink{namespacepip_1_1__internal_1_1build__env_a848d7b5dc820ed66cf52b62d05410f7e}{get\+\_\+runnable\+\_\+pip}} ()
\item 
Set\mbox{[}str\mbox{]} \mbox{\hyperlink{namespacepip_1_1__internal_1_1build__env_a73239df605b6493cc43b1e3fe5ad6cc5}{\+\_\+get\+\_\+system\+\_\+sitepackages}} ()
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacepip_1_1__internal_1_1build__env_a0b14e488ae28d98d262453f3e9cd6e4d}{logger}} = logging.\+get\+Logger(\+\_\+\+\_\+name\+\_\+\+\_\+)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}Build Environment used for isolation during sdist building
\end{DoxyVerb}
 

\doxysubsection{Function Documentation}
\Hypertarget{namespacepip_1_1__internal_1_1build__env_a20fa17bc521a3460d92508d07c7908fd}\label{namespacepip_1_1__internal_1_1build__env_a20fa17bc521a3460d92508d07c7908fd} 
\index{pip.\_internal.build\_env@{pip.\_internal.build\_env}!\_dedup@{\_dedup}}
\index{\_dedup@{\_dedup}!pip.\_internal.build\_env@{pip.\_internal.build\_env}}
\doxysubsubsection{\texorpdfstring{\_dedup()}{\_dedup()}}
{\footnotesize\ttfamily  Union\mbox{[}Tuple\mbox{[}str\mbox{]}, Tuple\mbox{[}str, str\mbox{]}\mbox{]} \+\_\+dedup (\begin{DoxyParamCaption}\item[{str}]{a,  }\item[{str}]{b }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{build__env_8py_source_l00031}{31}} of file \mbox{\hyperlink{build__env_8py_source}{build\+\_\+env.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00031\ \textcolor{keyword}{def\ }\_dedup(a:\ str,\ b:\ str)\ -\/>\ Union[Tuple[str],\ Tuple[str,\ str]]:}
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{keywordflow}{return}\ (a,\ b)\ \textcolor{keywordflow}{if}\ a\ !=\ b\ \textcolor{keywordflow}{else}\ (a,)}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ }

\end{DoxyCode}
\Hypertarget{namespacepip_1_1__internal_1_1build__env_a73239df605b6493cc43b1e3fe5ad6cc5}\label{namespacepip_1_1__internal_1_1build__env_a73239df605b6493cc43b1e3fe5ad6cc5} 
\index{pip.\_internal.build\_env@{pip.\_internal.build\_env}!\_get\_system\_sitepackages@{\_get\_system\_sitepackages}}
\index{\_get\_system\_sitepackages@{\_get\_system\_sitepackages}!pip.\_internal.build\_env@{pip.\_internal.build\_env}}
\doxysubsubsection{\texorpdfstring{\_get\_system\_sitepackages()}{\_get\_system\_sitepackages()}}
{\footnotesize\ttfamily  Set\mbox{[}str\mbox{]} \+\_\+get\+\_\+system\+\_\+sitepackages (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Get system site packages

Usually from site.getsitepackages,
but fallback on `get_purelib()/get_platlib()` if unavailable
(e.g. in a virtualenv created by virtualenv<20)

Returns normalized set of strings.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{build__env_8py_source_l00060}{60}} of file \mbox{\hyperlink{build__env_8py_source}{build\+\_\+env.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00060\ \textcolor{keyword}{def\ }\_get\_system\_sitepackages()\ -\/>\ Set[str]:}
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Get\ system\ site\ packages}}
\DoxyCodeLine{00062\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00063\ \textcolor{stringliteral}{\ \ \ \ Usually\ from\ site.getsitepackages,}}
\DoxyCodeLine{00064\ \textcolor{stringliteral}{\ \ \ \ but\ fallback\ on\ \`{}get\_purelib()/get\_platlib()\`{}\ if\ unavailable}}
\DoxyCodeLine{00065\ \textcolor{stringliteral}{\ \ \ \ (e.g.\ in\ a\ virtualenv\ created\ by\ virtualenv<20)}}
\DoxyCodeLine{00066\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00067\ \textcolor{stringliteral}{\ \ \ \ Returns\ normalized\ set\ of\ strings.}}
\DoxyCodeLine{00068\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{keywordflow}{if}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{hasattr}}(site,\ \textcolor{stringliteral}{"{}getsitepackages"{}}):}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ system\_sites\ =\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{site.getsitepackages}}()}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ virtualenv\ <\ 20\ overwrites\ site.py\ without\ getsitepackages}}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ fallback\ on\ get\_purelib/get\_platlib.}}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ this\ is\ known\ to\ miss\ things,\ but\ shouldn't\ in\ the\ cases}}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ where\ getsitepackages()\ has\ been\ removed\ (inside\ a\ virtualenv)}}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ system\_sites\ =\ [get\_purelib(),\ get\_platlib()]}
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keywordflow}{return}\ \{\mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.path.normcase}}(path)\ \textcolor{keywordflow}{for}\ path\ \textcolor{keywordflow}{in}\ system\_sites\}}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ }

\end{DoxyCode}


References \mbox{\hyperlink{prime__search_8m_source_l00010}{i}}.

\Hypertarget{namespacepip_1_1__internal_1_1build__env_a848d7b5dc820ed66cf52b62d05410f7e}\label{namespacepip_1_1__internal_1_1build__env_a848d7b5dc820ed66cf52b62d05410f7e} 
\index{pip.\_internal.build\_env@{pip.\_internal.build\_env}!get\_runnable\_pip@{get\_runnable\_pip}}
\index{get\_runnable\_pip@{get\_runnable\_pip}!pip.\_internal.build\_env@{pip.\_internal.build\_env}}
\doxysubsubsection{\texorpdfstring{get\_runnable\_pip()}{get\_runnable\_pip()}}
{\footnotesize\ttfamily  str get\+\_\+runnable\+\_\+pip (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\begin{DoxyVerb}Get a file to pass to a Python executable, to run the currently-running pip.

This is used to run a pip subprocess, for installing requirements into the build
environment.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{build__env_8py_source_l00044}{44}} of file \mbox{\hyperlink{build__env_8py_source}{build\+\_\+env.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00044\ \textcolor{keyword}{def\ }get\_runnable\_pip()\ -\/>\ str:}
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Get\ a\ file\ to\ pass\ to\ a\ Python\ executable,\ to\ run\ the\ currently-\/running\ pip.}}
\DoxyCodeLine{00046\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00047\ \textcolor{stringliteral}{\ \ \ \ This\ is\ used\ to\ run\ a\ pip\ subprocess,\ for\ installing\ requirements\ into\ the\ build}}
\DoxyCodeLine{00048\ \textcolor{stringliteral}{\ \ \ \ environment.}}
\DoxyCodeLine{00049\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00050\ \ \ \ \ source\ =\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{pathlib.Path}}(pip\_location).resolve().parent}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{source.is\_dir}}():}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ This\ would\ happen\ if\ someone\ is\ using\ pip\ from\ inside\ a\ zip\ file.\ In\ that}}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ case,\ we\ can\ use\ that\ directly.}}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ str(source)}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.fsdecode}}(source\ /\ \textcolor{stringliteral}{"{}\_\_pip-\/runner\_\_.py"{}})}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ }

\end{DoxyCode}


References \mbox{\hyperlink{prime__search_8m_source_l00010}{i}}.



Referenced by \mbox{\hyperlink{build__env_8py_source_l00211}{Build\+Environment.\+install\+\_\+requirements()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/df7/namespacepip_1_1__internal_1_1build__env_a848d7b5dc820ed66cf52b62d05410f7e_icgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\Hypertarget{namespacepip_1_1__internal_1_1build__env_a0b14e488ae28d98d262453f3e9cd6e4d}\label{namespacepip_1_1__internal_1_1build__env_a0b14e488ae28d98d262453f3e9cd6e4d} 
\index{pip.\_internal.build\_env@{pip.\_internal.build\_env}!logger@{logger}}
\index{logger@{logger}!pip.\_internal.build\_env@{pip.\_internal.build\_env}}
\doxysubsubsection{\texorpdfstring{logger}{logger}}
{\footnotesize\ttfamily logger = logging.\+get\+Logger(\+\_\+\+\_\+name\+\_\+\+\_\+)}



Definition at line \mbox{\hyperlink{build__env_8py_source_l00028}{28}} of file \mbox{\hyperlink{build__env_8py_source}{build\+\_\+env.\+py}}.

