\doxysection{filesize.\+py}
\hypertarget{filesize_8py_source}{}\label{filesize_8py_source}\index{/home/liwuen/projects\_dev/pqc-\/engineering-\/ssec-\/23/venv/lib/python3.12/site-\/packages/pip/\_vendor/rich/filesize.py@{/home/liwuen/projects\_dev/pqc-\/engineering-\/ssec-\/23/venv/lib/python3.12/site-\/packages/pip/\_vendor/rich/filesize.py}}
\mbox{\hyperlink{filesize_8py}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00001}\mbox{\hyperlink{namespacepip_1_1__vendor_1_1rich_1_1filesize}{00001}}\ \textcolor{comment}{\#\ coding:\ utf-\/8}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00002}00002\ \textcolor{stringliteral}{"{}"{}"{}Functions\ for\ reporting\ filesizes.\ Borrowed\ from\ https://github.com/PyFilesystem/pyfilesystem2}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00003}00003\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00004}00004\ \textcolor{stringliteral}{The\ functions\ declared\ in\ this\ module\ should\ cover\ the\ different}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00005}00005\ \textcolor{stringliteral}{use\ cases\ needed\ to\ generate\ a\ string\ representation\ of\ a\ file\ size}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00006}00006\ \textcolor{stringliteral}{using\ several\ different\ units.\ Since\ there\ are\ many\ standards\ regarding}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00007}00007\ \textcolor{stringliteral}{file\ size\ units,\ three\ different\ functions\ have\ been\ implemented.}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00008}00008\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00009}00009\ \textcolor{stringliteral}{See\ Also:}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00010}00010\ \textcolor{stringliteral}{\ \ \ \ *\ \`{}Wikipedia:\ Binary\ prefix\ <https://en.wikipedia.org/wiki/Binary\_prefix>\`{}\_}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00011}00011\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00012}00012\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00014}00014\ \_\_all\_\_\ =\ [\textcolor{stringliteral}{"{}decimal"{}}]}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00015}00015\ }
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00016}00016\ \textcolor{keyword}{from}\ typing\ \textcolor{keyword}{import}\ Iterable,\ List,\ Optional,\ Tuple}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00017}00017\ }
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00018}00018\ }
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00019}\mbox{\hyperlink{namespacepip_1_1__vendor_1_1rich_1_1filesize_a418f1f49c2fa58336b9c6b7c0703b0d3}{00019}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepip_1_1__vendor_1_1rich_1_1filesize_a418f1f49c2fa58336b9c6b7c0703b0d3}{\_to\_str}}(}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00020}00020\ \ \ \ \ size:\ int,}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00021}00021\ \ \ \ \ suffixes:\ Iterable[str],}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00022}00022\ \ \ \ \ base:\ int,}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00023}00023\ \ \ \ \ *,}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00024}00024\ \ \ \ \ precision:\ Optional[int]\ =\ 1,}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00025}00025\ \ \ \ \ separator:\ Optional[str]\ =\ \textcolor{stringliteral}{"{}\ "{}},}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00026}00026\ )\ -\/>\ str:}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00027}00027\ \ \ \ \ \textcolor{keywordflow}{if}\ size\ ==\ 1:}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00028}00028\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}1\ byte"{}}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00029}00029\ \ \ \ \ \textcolor{keywordflow}{elif}\ size\ <\ base:}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00030}00030\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}\{:,\}\ bytes"{}}.format(size)}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00031}00031\ }
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00032}00032\ \ \ \ \ \textcolor{keywordflow}{for}\ i,\ suffix\ \textcolor{keywordflow}{in}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{enumerate}}(suffixes,\ 2):\ \ \textcolor{comment}{\#\ noqa:\ B007}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00033}00033\ \ \ \ \ \ \ \ \ unit\ =\ base**i}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00034}00034\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ size\ <\ unit:}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00035}00035\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00036}00036\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}\{:,.\{precision\}f\}\{separator\}\{\}"{}}.format(}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00037}00037\ \ \ \ \ \ \ \ \ (base\ *\ size\ /\ unit),}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00038}00038\ \ \ \ \ \ \ \ \ suffix,}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00039}00039\ \ \ \ \ \ \ \ \ precision=precision,}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00040}00040\ \ \ \ \ \ \ \ \ separator=separator,}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00041}00041\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00042}00042\ }
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00043}00043\ }
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00044}\mbox{\hyperlink{namespacepip_1_1__vendor_1_1rich_1_1filesize_a386bc7449d8392e7fe7f85b9ce23c962}{00044}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepip_1_1__vendor_1_1rich_1_1filesize_a386bc7449d8392e7fe7f85b9ce23c962}{pick\_unit\_and\_suffix}}(size:\ int,\ suffixes:\ List[str],\ base:\ int)\ -\/>\ Tuple[int,\ str]:}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00045}00045\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Pick\ a\ suffix\ and\ base\ for\ the\ given\ size."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00046}00046\ \ \ \ \ \textcolor{keywordflow}{for}\ i,\ suffix\ \textcolor{keywordflow}{in}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{enumerate}}(suffixes):}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00047}00047\ \ \ \ \ \ \ \ \ unit\ =\ base**i}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00048}00048\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ size\ <\ unit\ *\ base:}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00049}00049\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00050}00050\ \ \ \ \ \textcolor{keywordflow}{return}\ unit,\ suffix}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00051}00051\ }
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00052}00052\ }
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00053}\mbox{\hyperlink{namespacepip_1_1__vendor_1_1rich_1_1filesize_a8ab9fda3b85ff48885de413958c6443a}{00053}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepip_1_1__vendor_1_1rich_1_1filesize_a8ab9fda3b85ff48885de413958c6443a}{decimal}}(}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00054}00054\ \ \ \ \ size:\ int,}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00055}00055\ \ \ \ \ *,}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00056}00056\ \ \ \ \ precision:\ Optional[int]\ =\ 1,}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00057}00057\ \ \ \ \ separator:\ Optional[str]\ =\ \textcolor{stringliteral}{"{}\ "{}},}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00058}00058\ )\ -\/>\ str:}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00059}00059\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Convert\ a\ filesize\ in\ to\ a\ string\ (powers\ of\ 1000,\ SI\ prefixes).}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00060}00060\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00061}00061\ \textcolor{stringliteral}{\ \ \ \ In\ this\ convention,\ \`{}\`{}1000\ B\ =\ 1\ kB\`{}\`{}.}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00062}00062\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00063}00063\ \textcolor{stringliteral}{\ \ \ \ This\ is\ typically\ the\ format\ used\ to\ advertise\ the\ storage}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00064}00064\ \textcolor{stringliteral}{\ \ \ \ capacity\ of\ USB\ flash\ drives\ and\ the\ like\ (*256\ MB*\ meaning}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00065}00065\ \textcolor{stringliteral}{\ \ \ \ actually\ a\ storage\ capacity\ of\ more\ than\ *256\ 000\ 000\ B*),}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00066}00066\ \textcolor{stringliteral}{\ \ \ \ or\ used\ by\ **Mac\ OS\ X**\ since\ v10.6\ to\ report\ file\ sizes.}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00067}00067\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00068}00068\ \textcolor{stringliteral}{\ \ \ \ Arguments:}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00069}00069\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ int\ (size):\ A\ file\ size.}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00070}00070\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ int\ (precision):\ The\ number\ of\ decimal\ places\ to\ include\ (default\ =\ 1).}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00071}00071\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ str\ (separator):\ The\ string\ to\ separate\ the\ value\ from\ the\ units\ (default\ =\ "{}\ "{}).}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00072}00072\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00073}00073\ \textcolor{stringliteral}{\ \ \ \ Returns:}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00074}00074\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \`{}str\`{}:\ A\ string\ containing\ a\ abbreviated\ file\ size\ and\ units.}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00075}00075\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00076}00076\ \textcolor{stringliteral}{\ \ \ \ Example:}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00077}00077\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ >>>\ filesize.decimal(30000)}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00078}00078\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ '30.0\ kB'}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00079}00079\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ >>>\ filesize.decimal(30000,\ precision=2,\ separator="{}"{})}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00080}00080\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ '30.00kB'}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00081}00081\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00082}00082\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00083}00083\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacepip_1_1__vendor_1_1rich_1_1filesize_a418f1f49c2fa58336b9c6b7c0703b0d3}{\_to\_str}}(}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00084}00084\ \ \ \ \ \ \ \ \ size,}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00085}00085\ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}kB"{}},\ \textcolor{stringliteral}{"{}MB"{}},\ \textcolor{stringliteral}{"{}GB"{}},\ \textcolor{stringliteral}{"{}TB"{}},\ \textcolor{stringliteral}{"{}PB"{}},\ \textcolor{stringliteral}{"{}EB"{}},\ \textcolor{stringliteral}{"{}ZB"{}},\ \textcolor{stringliteral}{"{}YB"{}}),}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00086}00086\ \ \ \ \ \ \ \ \ 1000,}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00087}00087\ \ \ \ \ \ \ \ \ precision=precision,}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00088}00088\ \ \ \ \ \ \ \ \ separator=separator,}
\DoxyCodeLine{\Hypertarget{filesize_8py_source_l00089}00089\ \ \ \ \ )}

\end{DoxyCode}
