\doxysection{ext.\+py}
\hypertarget{ext_8py_source}{}\label{ext_8py_source}\index{E:/pqc-\/engineering-\/ssec-\/23/venv/lib/python3.12/site-\/packages/pip/\_vendor/msgpack/ext.py@{E:/pqc-\/engineering-\/ssec-\/23/venv/lib/python3.12/site-\/packages/pip/\_vendor/msgpack/ext.py}}
\mbox{\hyperlink{ext_8py}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00001}\mbox{\hyperlink{namespacepip_1_1__vendor_1_1msgpack_1_1ext}{00001}}\ \textcolor{comment}{\#\ coding:\ utf-\/8}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00002}00002\ \textcolor{keyword}{from}\ collections\ \textcolor{keyword}{import}\ namedtuple}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00003}00003\ \textcolor{keyword}{import}\ datetime}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00004}00004\ \textcolor{keyword}{import}\ sys}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00005}00005\ \textcolor{keyword}{import}\ struct}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00006}00006\ }
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00007}00007\ }
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00008}\mbox{\hyperlink{namespacepip_1_1__vendor_1_1msgpack_1_1ext_ac095c6921ddf8b58ebfdbc1078f73a66}{00008}}\ PY2\ =\ sys.version\_info[0]\ ==\ 2}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00009}00009\ }
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00010}00010\ \textcolor{keywordflow}{if}\ PY2:}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00011}\mbox{\hyperlink{namespacepip_1_1__vendor_1_1msgpack_1_1ext_ad7ef408adb8f0d84aeda9a1ef4d206fa}{00011}}\ \ \ \ \ int\_types\ =\ (int,\ long)}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00012}\mbox{\hyperlink{namespacepip_1_1__vendor_1_1msgpack_1_1ext_aeb8cdb0e2f75cde0034a9abbfc766862}{00012}}\ \ \ \ \ \_utc\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00013}00013\ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00014}00014\ \ \ \ \ int\_types\ =\ int}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00015}00015\ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00016}00016\ \ \ \ \ \ \ \ \ \_utc\ =\ datetime.timezone.utc}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00017}00017\ \ \ \ \ \textcolor{keywordflow}{except}\ AttributeError:}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00018}00018\ \ \ \ \ \ \ \ \ \_utc\ =\ datetime.timezone(datetime.timedelta(0))}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00019}00019\ }
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00020}00020\ }
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00021}\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_ext_type}{00021}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_ext_type}{ExtType}}(namedtuple(\textcolor{stringliteral}{"{}ExtType"{}},\ \textcolor{stringliteral}{"{}code\ data"{}})):}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00022}00022\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}ExtType\ represents\ ext\ type\ in\ msgpack."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00023}00023\ }
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00024}\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_ext_type_aee5c29c390be19cb1c1fa57ba3e339c2}{00024}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_ext_type_aee5c29c390be19cb1c1fa57ba3e339c2}{\_\_new\_\_}}(cls,\ code,\ data):}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00025}00025\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ isinstance(code,\ int):}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00026}00026\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ TypeError(\textcolor{stringliteral}{"{}code\ must\ be\ int"{}})}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00027}00027\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ isinstance(data,\ bytes):}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00028}00028\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ TypeError(\textcolor{stringliteral}{"{}data\ must\ be\ bytes"{}})}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00029}00029\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ 0\ <=\ code\ <=\ 127:}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00030}00030\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ ValueError(\textcolor{stringliteral}{"{}code\ must\ be\ 0\string~127"{}})}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00031}00031\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ super(ExtType,\ cls).\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_ext_type_aee5c29c390be19cb1c1fa57ba3e339c2}{\_\_new\_\_}}(cls,\ code,\ data)}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00032}00032\ }
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00033}00033\ }
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00034}\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp}{00034}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp}{Timestamp}}(object):}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00035}00035\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Timestamp\ represents\ the\ Timestamp\ extension\ type\ in\ msgpack.}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00036}00036\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00037}00037\ \textcolor{stringliteral}{\ \ \ \ When\ built\ with\ Cython,\ msgpack\ uses\ C\ methods\ to\ pack\ and\ unpack\ \`{}Timestamp\`{}.\ When\ using\ pure-\/Python}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00038}00038\ \textcolor{stringliteral}{\ \ \ \ msgpack,\ :func:\`{}to\_bytes\`{}\ and\ :func:\`{}from\_bytes\`{}\ are\ used\ to\ pack\ and\ unpack\ \`{}Timestamp\`{}.}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00039}00039\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00040}00040\ \textcolor{stringliteral}{\ \ \ \ This\ class\ is\ immutable:\ Do\ not\ override\ seconds\ and\ nanoseconds.}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00041}00041\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00042}00042\ }
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00043}00043\ \ \ \ \ \_\_slots\_\_\ =\ [\textcolor{stringliteral}{"{}seconds"{}},\ \textcolor{stringliteral}{"{}nanoseconds"{}}]}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00044}00044\ }
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00045}\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a64113d7fea1a5dba7d77ca5af337ee07}{00045}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a64113d7fea1a5dba7d77ca5af337ee07}{\_\_init\_\_}}(self,\ seconds,\ nanoseconds=0):}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00046}00046\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Initialize\ a\ Timestamp\ object.}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00047}00047\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00048}00048\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ :param\ int\ seconds:}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00049}00049\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ Number\ of\ seconds\ since\ the\ UNIX\ epoch\ (00:00:00\ UTC\ Jan\ 1\ 1970,\ minus\ leap\ seconds).}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00050}00050\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ May\ be\ negative.}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00051}00051\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00052}00052\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ :param\ int\ nanoseconds:}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00053}00053\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ Number\ of\ nanoseconds\ to\ add\ to\ \`{}seconds\`{}\ to\ get\ fractional\ time.}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00054}00054\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ Maximum\ is\ 999\_999\_999.\ \ Default\ is\ 0.}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00055}00055\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00056}00056\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Note:\ Negative\ times\ (before\ the\ UNIX\ epoch)\ are\ represented\ as\ negative\ seconds\ +\ positive\ ns.}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00057}00057\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00058}00058\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ isinstance(seconds,\ int\_types):}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00059}00059\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ TypeError(\textcolor{stringliteral}{"{}seconds\ must\ be\ an\ integer"{}})}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00060}00060\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ isinstance(nanoseconds,\ int\_types):}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00061}00061\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ TypeError(\textcolor{stringliteral}{"{}nanoseconds\ must\ be\ an\ integer"{}})}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00062}00062\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ (0\ <=\ nanoseconds\ <\ 10**9):}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00063}00063\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ ValueError(}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00064}00064\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}nanoseconds\ must\ be\ a\ non-\/negative\ integer\ less\ than\ 999999999."{}}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00065}00065\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00066}\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a50a97477ff59a28b3dd9315b21e66a23}{00066}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a50a97477ff59a28b3dd9315b21e66a23}{seconds}}\ =\ seconds}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00067}\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a644ab20a1bba8785051add732a1553a2}{00067}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a644ab20a1bba8785051add732a1553a2}{nanoseconds}}\ =\ nanoseconds}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00068}00068\ }
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00069}\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a61a1f3a6a4df93d491cd753f617782a2}{00069}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a61a1f3a6a4df93d491cd753f617782a2}{\_\_repr\_\_}}(self):}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00070}00070\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}String\ representation\ of\ Timestamp."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00071}00071\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}Timestamp(seconds=\{0\},\ nanoseconds=\{1\})"{}}.format(}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00072}00072\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a50a97477ff59a28b3dd9315b21e66a23}{seconds}},\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a644ab20a1bba8785051add732a1553a2}{nanoseconds}}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00073}00073\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00074}00074\ }
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00075}\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a909a2bc6a3c96fc53d3ae93305e81486}{00075}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a909a2bc6a3c96fc53d3ae93305e81486}{\_\_eq\_\_}}(self,\ other):}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00076}00076\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Check\ for\ equality\ with\ another\ Timestamp\ object"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00077}00077\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ type(other)\ \textcolor{keywordflow}{is}\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_aa4b68bfe0711b94066ba4ab5d33c62e1}{\_\_class\_\_}}:}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00078}00078\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00079}00079\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a50a97477ff59a28b3dd9315b21e66a23}{seconds}}\ ==\ other.seconds\ \textcolor{keywordflow}{and}\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a644ab20a1bba8785051add732a1553a2}{nanoseconds}}\ ==\ other.nanoseconds}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00080}00080\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00081}00081\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00082}00082\ }
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00083}\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a939522e66c0597dfb811b626acacb484}{00083}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a939522e66c0597dfb811b626acacb484}{\_\_ne\_\_}}(self,\ other):}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00084}00084\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}not-\/equals\ method\ (see\ :func:\`{}\_\_eq\_\_()\`{})"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00085}00085\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keywordflow}{not}\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a909a2bc6a3c96fc53d3ae93305e81486}{\_\_eq\_\_}}(other)}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00086}00086\ }
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00087}\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a171e6903c0464958dd8a214b15a038cb}{00087}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a171e6903c0464958dd8a214b15a038cb}{\_\_hash\_\_}}(self):}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00088}00088\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ hash((self.\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a50a97477ff59a28b3dd9315b21e66a23}{seconds}},\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a644ab20a1bba8785051add732a1553a2}{nanoseconds}}))}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00089}00089\ }
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00090}00090\ \ \ \ \ \textcolor{preprocessor}{@staticmethod}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00091}\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a1cfc3ae714345e471fd0443a984bb5c4}{00091}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a1cfc3ae714345e471fd0443a984bb5c4}{from\_bytes}}(b):}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00092}00092\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Unpack\ bytes\ into\ a\ \`{}Timestamp\`{}\ object.}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00093}00093\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00094}00094\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Used\ for\ pure-\/Python\ msgpack\ unpacking.}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00095}00095\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00096}00096\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ :param\ b:\ Payload\ from\ msgpack\ ext\ message\ with\ code\ -\/1}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00097}00097\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ :type\ b:\ bytes}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00098}00098\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00099}00099\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ :returns:\ Timestamp\ object\ unpacked\ from\ msgpack\ ext\ payload}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00100}00100\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ :rtype:\ Timestamp}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00101}00101\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00102}00102\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ len(b)\ ==\ 4:}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00103}00103\ \ \ \ \ \ \ \ \ \ \ \ \ seconds\ =\ struct.unpack(\textcolor{stringliteral}{"{}!L"{}},\ b)[0]}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00104}00104\ \ \ \ \ \ \ \ \ \ \ \ \ nanoseconds\ =\ 0}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00105}00105\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ len(b)\ ==\ 8:}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00106}00106\ \ \ \ \ \ \ \ \ \ \ \ \ data64\ =\ struct.unpack(\textcolor{stringliteral}{"{}!Q"{}},\ b)[0]}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00107}00107\ \ \ \ \ \ \ \ \ \ \ \ \ seconds\ =\ data64\ \&\ 0x00000003FFFFFFFF}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00108}00108\ \ \ \ \ \ \ \ \ \ \ \ \ nanoseconds\ =\ data64\ >>\ 34}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00109}00109\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ len(b)\ ==\ 12:}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00110}00110\ \ \ \ \ \ \ \ \ \ \ \ \ nanoseconds,\ seconds\ =\ struct.unpack(\textcolor{stringliteral}{"{}!Iq"{}},\ b)}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00111}00111\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00112}00112\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ ValueError(}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00113}00113\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Timestamp\ type\ can\ only\ be\ created\ from\ 32,\ 64,\ or\ 96-\/bit\ byte\ objects"{}}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00114}00114\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00115}00115\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp}{Timestamp}}(seconds,\ nanoseconds)}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00116}00116\ }
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00117}\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_ae574541a81ffa3bd8225d3e6828ae641}{00117}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_ae574541a81ffa3bd8225d3e6828ae641}{to\_bytes}}(self):}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00118}00118\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Pack\ this\ Timestamp\ object\ into\ bytes.}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00119}00119\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00120}00120\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Used\ for\ pure-\/Python\ msgpack\ packing.}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00121}00121\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00122}00122\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ :returns\ data:\ Payload\ for\ EXT\ message\ with\ code\ -\/1\ (timestamp\ type)}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00123}00123\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ :rtype:\ bytes}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00124}00124\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00125}00125\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (self.\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a50a97477ff59a28b3dd9315b21e66a23}{seconds}}\ >>\ 34)\ ==\ 0:\ \ \textcolor{comment}{\#\ seconds\ is\ non-\/negative\ and\ fits\ in\ 34\ bits}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00126}00126\ \ \ \ \ \ \ \ \ \ \ \ \ data64\ =\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a644ab20a1bba8785051add732a1553a2}{nanoseconds}}\ <<\ 34\ |\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a50a97477ff59a28b3dd9315b21e66a23}{seconds}}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00127}00127\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ data64\ \&\ 0xFFFFFFFF00000000\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00128}00128\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ nanoseconds\ is\ zero\ and\ seconds\ <\ 2**32,\ so\ timestamp\ 32}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00129}00129\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data\ =\ struct.pack(\textcolor{stringliteral}{"{}!L"{}},\ data64)}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00130}00130\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00131}00131\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ timestamp\ 64}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00132}00132\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data\ =\ struct.pack(\textcolor{stringliteral}{"{}!Q"{}},\ data64)}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00133}00133\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00134}00134\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ timestamp\ 96}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00135}00135\ \ \ \ \ \ \ \ \ \ \ \ \ data\ =\ struct.pack(\textcolor{stringliteral}{"{}!Iq"{}},\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a644ab20a1bba8785051add732a1553a2}{nanoseconds}},\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a50a97477ff59a28b3dd9315b21e66a23}{seconds}})}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00136}00136\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ data}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00137}00137\ }
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00138}00138\ \ \ \ \ \textcolor{preprocessor}{@staticmethod}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00139}\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a1ad95d8e458121e115c417c2b5f0a6d8}{00139}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a1ad95d8e458121e115c417c2b5f0a6d8}{from\_unix}}(unix\_sec):}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00140}00140\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Create\ a\ Timestamp\ from\ posix\ timestamp\ in\ seconds.}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00141}00141\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00142}00142\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ :param\ unix\_float:\ Posix\ timestamp\ in\ seconds.}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00143}00143\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ :type\ unix\_float:\ int\ or\ float.}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00144}00144\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00145}00145\ \ \ \ \ \ \ \ \ seconds\ =\ int(unix\_sec\ //\ 1)}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00146}00146\ \ \ \ \ \ \ \ \ nanoseconds\ =\ int((unix\_sec\ \%\ 1)\ *\ 10**9)}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00147}00147\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp}{Timestamp}}(seconds,\ nanoseconds)}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00148}00148\ }
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00149}\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a3eccb4a3f92da8ccb4d8d0714c30e9b7}{00149}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a3eccb4a3f92da8ccb4d8d0714c30e9b7}{to\_unix}}(self):}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00150}00150\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Get\ the\ timestamp\ as\ a\ floating-\/point\ value.}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00151}00151\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00152}00152\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ :returns:\ posix\ timestamp}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00153}00153\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ :rtype:\ float}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00154}00154\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00155}00155\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a50a97477ff59a28b3dd9315b21e66a23}{seconds}}\ +\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a644ab20a1bba8785051add732a1553a2}{nanoseconds}}\ /\ 1e9}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00156}00156\ }
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00157}00157\ \ \ \ \ \textcolor{preprocessor}{@staticmethod}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00158}\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a50eca1d250a1e9aee6686b8adac837c5}{00158}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a50eca1d250a1e9aee6686b8adac837c5}{from\_unix\_nano}}(unix\_ns):}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00159}00159\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Create\ a\ Timestamp\ from\ posix\ timestamp\ in\ nanoseconds.}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00160}00160\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00161}00161\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ :param\ int\ unix\_ns:\ Posix\ timestamp\ in\ nanoseconds.}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00162}00162\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ :rtype:\ Timestamp}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00163}00163\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00164}00164\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp}{Timestamp}}(*divmod(unix\_ns,\ 10**9))}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00165}00165\ }
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00166}\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a078e216954235c0e02304e02b91d5bf0}{00166}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a078e216954235c0e02304e02b91d5bf0}{to\_unix\_nano}}(self):}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00167}00167\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Get\ the\ timestamp\ as\ a\ unixtime\ in\ nanoseconds.}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00168}00168\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00169}00169\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ :returns:\ posix\ timestamp\ in\ nanoseconds}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00170}00170\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ :rtype:\ int}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00171}00171\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00172}00172\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a50a97477ff59a28b3dd9315b21e66a23}{seconds}}\ *\ 10**9\ +\ self.\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a644ab20a1bba8785051add732a1553a2}{nanoseconds}}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00173}00173\ }
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00174}\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_abea69a6066226acd4d088fb9968fec95}{00174}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_abea69a6066226acd4d088fb9968fec95}{to\_datetime}}(self):}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00175}00175\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Get\ the\ timestamp\ as\ a\ UTC\ datetime.}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00176}00176\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00177}00177\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Python\ 2\ is\ not\ supported.}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00178}00178\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00179}00179\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ :rtype:\ datetime.}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00180}00180\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00181}00181\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ datetime.datetime.fromtimestamp(0,\ \_utc)\ +\ datetime.timedelta(}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00182}00182\ \ \ \ \ \ \ \ \ \ \ \ \ seconds=self.\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_a3eccb4a3f92da8ccb4d8d0714c30e9b7}{to\_unix}}()}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00183}00183\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00184}00184\ }
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00185}00185\ \ \ \ \ \textcolor{preprocessor}{@staticmethod}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00186}\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_ae174a2137c588088ff40eee62ea93161}{00186}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classpip_1_1__vendor_1_1msgpack_1_1ext_1_1_timestamp_ae174a2137c588088ff40eee62ea93161}{from\_datetime}}(dt):}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00187}00187\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Create\ a\ Timestamp\ from\ datetime\ with\ tzinfo.}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00188}00188\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00189}00189\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Python\ 2\ is\ not\ supported.}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00190}00190\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00191}00191\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ :rtype:\ Timestamp}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00192}00192\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{ext_8py_source_l00193}00193\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Timestamp.from\_unix(dt.timestamp())}

\end{DoxyCode}
