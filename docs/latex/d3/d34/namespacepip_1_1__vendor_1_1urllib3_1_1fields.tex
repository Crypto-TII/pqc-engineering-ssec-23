\doxysection{pip.\+\_\+vendor.\+urllib3.\+fields Namespace Reference}
\hypertarget{namespacepip_1_1__vendor_1_1urllib3_1_1fields}{}\label{namespacepip_1_1__vendor_1_1urllib3_1_1fields}\index{pip.\_vendor.urllib3.fields@{pip.\_vendor.urllib3.fields}}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacepip_1_1__vendor_1_1urllib3_1_1fields_ab3c964899e7639b9f2bdd465ad06fcf1}{guess\+\_\+content\+\_\+type}} (filename, default="{}application/octet-\/stream"{})
\item 
\mbox{\hyperlink{namespacepip_1_1__vendor_1_1urllib3_1_1fields_a049867edab6b89a5712e511c88b40552}{format\+\_\+header\+\_\+param\+\_\+rfc2231}} (name, value)
\end{DoxyCompactItemize}


\label{doc-func-members}
\Hypertarget{namespacepip_1_1__vendor_1_1urllib3_1_1fields_doc-func-members}
\doxysubsection{Function Documentation}
\Hypertarget{namespacepip_1_1__vendor_1_1urllib3_1_1fields_a049867edab6b89a5712e511c88b40552}\index{pip.\_vendor.urllib3.fields@{pip.\_vendor.urllib3.fields}!format\_header\_param\_rfc2231@{format\_header\_param\_rfc2231}}
\index{format\_header\_param\_rfc2231@{format\_header\_param\_rfc2231}!pip.\_vendor.urllib3.fields@{pip.\_vendor.urllib3.fields}}
\doxysubsubsection{\texorpdfstring{format\_header\_param\_rfc2231()}{format\_header\_param\_rfc2231()}}
{\footnotesize\ttfamily \label{namespacepip_1_1__vendor_1_1urllib3_1_1fields_a049867edab6b89a5712e511c88b40552} 
format\+\_\+header\+\_\+param\+\_\+rfc2231 (\begin{DoxyParamCaption}\item[{}]{name}{, }\item[{}]{value}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Helper function to format and quote a single header parameter using the
strategy defined in RFC 2231.

Particularly useful for header parameters which might contain
non-ASCII values, like file names. This follows
`RFC 2388 Section 4.4 <https://tools.ietf.org/html/rfc2388#section-4.4>`_.

:param name:
    The name of the parameter, a string expected to be ASCII only.
:param value:
    The value of the parameter, provided as ``bytes`` or `str``.
:ret:
    An RFC-2231-formatted unicode string.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{fields_8py_source_l00024}{24}} of file \mbox{\hyperlink{fields_8py_source}{fields.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00024\ \textcolor{keyword}{def\ }format\_header\_param\_rfc2231(name,\ value):}
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00026\ \textcolor{stringliteral}{\ \ \ \ Helper\ function\ to\ format\ and\ quote\ a\ single\ header\ parameter\ using\ the}}
\DoxyCodeLine{00027\ \textcolor{stringliteral}{\ \ \ \ strategy\ defined\ in\ RFC\ 2231.}}
\DoxyCodeLine{00028\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00029\ \textcolor{stringliteral}{\ \ \ \ Particularly\ useful\ for\ header\ parameters\ which\ might\ contain}}
\DoxyCodeLine{00030\ \textcolor{stringliteral}{\ \ \ \ non-\/ASCII\ values,\ like\ file\ names.\ This\ follows}}
\DoxyCodeLine{00031\ \textcolor{stringliteral}{\ \ \ \ \`{}RFC\ 2388\ Section\ 4.4\ <https://tools.ietf.org/html/rfc2388\#section-\/4.4>\`{}\_.}}
\DoxyCodeLine{00032\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00033\ \textcolor{stringliteral}{\ \ \ \ :param\ name:}}
\DoxyCodeLine{00034\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ name\ of\ the\ parameter,\ a\ string\ expected\ to\ be\ ASCII\ only.}}
\DoxyCodeLine{00035\ \textcolor{stringliteral}{\ \ \ \ :param\ value:}}
\DoxyCodeLine{00036\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ value\ of\ the\ parameter,\ provided\ as\ \`{}\`{}bytes\`{}\`{}\ or\ \`{}str\`{}\`{}.}}
\DoxyCodeLine{00037\ \textcolor{stringliteral}{\ \ \ \ :ret:}}
\DoxyCodeLine{00038\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ An\ RFC-\/2231-\/formatted\ unicode\ string.}}
\DoxyCodeLine{00039\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(value,\ six.binary\_type):}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ value\ =\ value.decode(\textcolor{stringliteral}{"{}utf-\/8"{}})}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ any(ch\ \textcolor{keywordflow}{in}\ value\ \textcolor{keywordflow}{for}\ ch\ \textcolor{keywordflow}{in}\ \textcolor{stringliteral}{'"{}\(\backslash\)\(\backslash\)\(\backslash\)r\(\backslash\)n'}):}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ result\ =\ \textcolor{stringliteral}{u'\%s="{}\%s"{}'}\ \%\ (name,\ value)}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \ \ \ \ result.encode(\textcolor{stringliteral}{"{}ascii"{}})}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ (UnicodeEncodeError,\ UnicodeDecodeError):}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{pass}}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ result}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keywordflow}{if}\ six.PY2:\ \ \textcolor{comment}{\#\ Python\ 2:}}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ value\ =\ value.encode(\textcolor{stringliteral}{"{}utf-\/8"{}})}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{comment}{\#\ encode\_rfc2231\ accepts\ an\ encoded\ string\ and\ returns\ an\ ascii-\/encoded}}
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{comment}{\#\ string\ in\ Python\ 2\ but\ accepts\ and\ returns\ unicode\ strings\ in\ Python\ 3}}
\DoxyCodeLine{00057\ \ \ \ \ value\ =\ email.utils.encode\_rfc2231(value,\ \textcolor{stringliteral}{"{}utf-\/8"{}})}
\DoxyCodeLine{00058\ \ \ \ \ value\ =\ \textcolor{stringliteral}{"{}\%s*=\%s"{}}\ \%\ (name,\ value)}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{keywordflow}{if}\ six.PY2:\ \ \textcolor{comment}{\#\ Python\ 2:}}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ value\ =\ value.decode(\textcolor{stringliteral}{"{}utf-\/8"{}})}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \ \ \ \ \textcolor{keywordflow}{return}\ value}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ }

\end{DoxyCode}


References \mbox{\hyperlink{fields_8py_source_l00010}{guess\+\_\+content\+\_\+type()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=330pt]{d3/d34/namespacepip_1_1__vendor_1_1urllib3_1_1fields_a049867edab6b89a5712e511c88b40552_cgraph}
\end{center}
\end{figure}
\Hypertarget{namespacepip_1_1__vendor_1_1urllib3_1_1fields_ab3c964899e7639b9f2bdd465ad06fcf1}\index{pip.\_vendor.urllib3.fields@{pip.\_vendor.urllib3.fields}!guess\_content\_type@{guess\_content\_type}}
\index{guess\_content\_type@{guess\_content\_type}!pip.\_vendor.urllib3.fields@{pip.\_vendor.urllib3.fields}}
\doxysubsubsection{\texorpdfstring{guess\_content\_type()}{guess\_content\_type()}}
{\footnotesize\ttfamily \label{namespacepip_1_1__vendor_1_1urllib3_1_1fields_ab3c964899e7639b9f2bdd465ad06fcf1} 
guess\+\_\+content\+\_\+type (\begin{DoxyParamCaption}\item[{}]{filename}{, }\item[{}]{default}{ = {\ttfamily "{}application/octet-\/stream"{}}}\end{DoxyParamCaption})}

\begin{DoxyVerb}Guess the "Content-Type" of a file.

:param filename:
    The filename to guess the "Content-Type" of using :mod:`mimetypes`.
:param default:
    If no "Content-Type" can be guessed, default to `default`.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{fields_8py_source_l00010}{10}} of file \mbox{\hyperlink{fields_8py_source}{fields.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00010\ \textcolor{keyword}{def\ }guess\_content\_type(filename,\ default="{}application/octet-\/stream"{}):}
\DoxyCodeLine{00011\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00012\ \textcolor{stringliteral}{\ \ \ \ Guess\ the\ "{}Content-\/Type"{}\ of\ a\ file.}}
\DoxyCodeLine{00013\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00014\ \textcolor{stringliteral}{\ \ \ \ :param\ filename:}}
\DoxyCodeLine{00015\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ The\ filename\ to\ guess\ the\ "{}Content-\/Type"{}\ of\ using\ :mod:\`{}mimetypes\`{}.}}
\DoxyCodeLine{00016\ \textcolor{stringliteral}{\ \ \ \ :param\ default:}}
\DoxyCodeLine{00017\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ If\ no\ "{}Content-\/Type"{}\ can\ be\ guessed,\ default\ to\ \`{}default\`{}.}}
\DoxyCodeLine{00018\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00019\ \ \ \ \ \textcolor{keywordflow}{if}\ filename:}
\DoxyCodeLine{00020\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ mimetypes.guess\_type(filename)[0]\ \textcolor{keywordflow}{or}\ default}
\DoxyCodeLine{00021\ \ \ \ \ \textcolor{keywordflow}{return}\ default}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ }

\end{DoxyCode}


Referenced by \mbox{\hyperlink{fields_8py_source_l00024}{format\+\_\+header\+\_\+param\+\_\+rfc2231()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=330pt]{d3/d34/namespacepip_1_1__vendor_1_1urllib3_1_1fields_ab3c964899e7639b9f2bdd465ad06fcf1_icgraph}
\end{center}
\end{figure}
