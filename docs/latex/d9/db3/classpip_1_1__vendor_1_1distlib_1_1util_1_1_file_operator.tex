\doxysection{File\+Operator Class Reference}
\hypertarget{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator}{}\label{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator}\index{FileOperator@{FileOperator}}


Inheritance diagram for File\+Operator\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=149pt]{d7/d01/classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for File\+Operator\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=149pt]{d9/d32/classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a4c72758f72bb482fe0da30af7191fe2b}{\+\_\+\+\_\+init\+\_\+\+\_\+}} (self, \mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a7d0d652a11d142afd36f2568ce6bed9f}{dry\+\_\+run}}=False)
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_abdb0650fc3fe65a6ea3c2e72a8b7c013}{record\+\_\+as\+\_\+written}} (self, path)
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a5b4bb956d383b617fe901f3eb4973fb5}{newer}} (self, source, target)
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_ac619a115bedd5b6c5118f9d546f74809}{copy\+\_\+file}} (self, infile, outfile, check=True)
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a192590d586d22644e24d6ec73aef3031}{copy\+\_\+stream}} (self, instream, outfile, encoding=None)
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a278d27155146389efc44a54d8ebde599}{write\+\_\+binary\+\_\+file}} (self, path, data)
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a7492cca973a205682ea668dc260b976a}{write\+\_\+text\+\_\+file}} (self, path, data, encoding)
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a17b25722b57fc69b60e3dd815a51773e}{set\+\_\+mode}} (self, bits, mask, files)
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a794c6d6f0c0bd75027ff635dc93cd275}{ensure\+\_\+dir}} (self, path)
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_ab83e7ce1653cad53179d914c5d7099e6}{byte\+\_\+compile}} (self, path, optimize=False, force=False, prefix=None, hashed\+\_\+invalidation=False)
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a13ec99bbb9f4962253890e51605dd92b}{ensure\+\_\+removed}} (self, path)
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a4af2230dd56989088e01d1775995e8d4}{is\+\_\+writable}} (self, path)
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_aef9f050f08f3a95553a0d15762f9dad2}{commit}} (self)
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_ac412064a6266aadf962039adb6e20e74}{rollback}} (self)
\end{DoxyCompactItemize}
\doxysubsubsection*{Data Fields}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a7d0d652a11d142afd36f2568ce6bed9f}{dry\+\_\+run}} = dry\+\_\+run
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a49d76c9fdd6c20bc85e797206cbaa847}{ensured}} = set()
\item 
bool \mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a24abc1cdb33ae6cc929ae21787c1cec9}{record}} = False
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_afe6ce8152719e8e0693478876ce99c0d}{files\+\_\+written}} = set()
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a27e176c0562d2ece63074f05a0710080}{dirs\+\_\+created}} = set()
\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
s \mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_ae6933fdad6f9d72a7a0a4a45fd2ab2fa}{set\+\_\+executable\+\_\+mode}} = lambda s, f.\+set\+\_\+mode(0o555, 0o7777, f)
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_ae2036eed77b5b6f8d2d98a1a3e89e3ed}{\+\_\+init\+\_\+record}} (self)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line \mbox{\hyperlink{distlib_2util_8py_source_l00484}{484}} of file \mbox{\hyperlink{distlib_2util_8py_source}{util.\+py}}.



\label{doc-constructors}
\Hypertarget{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_doc-constructors}
\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a4c72758f72bb482fe0da30af7191fe2b}\index{FileOperator@{FileOperator}!\_\_init\_\_@{\_\_init\_\_}}
\index{\_\_init\_\_@{\_\_init\_\_}!FileOperator@{FileOperator}}
\doxysubsubsection{\texorpdfstring{\_\_init\_\_()}{\_\_init\_\_()}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a4c72758f72bb482fe0da30af7191fe2b} 
\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{}]{dry\+\_\+run}{ = {\ttfamily False}}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{distlib_2util_8py_source_l00485}{485}} of file \mbox{\hyperlink{distlib_2util_8py_source}{util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00485\ \ \ \ \ \textcolor{keyword}{def\ }\_\_init\_\_(self,\ dry\_run=False):}
\DoxyCodeLine{00486\ \ \ \ \ \ \ \ \ self.dry\_run\ =\ dry\_run}
\DoxyCodeLine{00487\ \ \ \ \ \ \ \ \ self.ensured\ =\ set()}
\DoxyCodeLine{00488\ \ \ \ \ \ \ \ \ self.\_init\_record()}
\DoxyCodeLine{00489\ }

\end{DoxyCode}


\label{doc-func-members}
\Hypertarget{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_doc-func-members}
\doxysubsection{Member Function Documentation}
\Hypertarget{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_ae2036eed77b5b6f8d2d98a1a3e89e3ed}\index{FileOperator@{FileOperator}!\_init\_record@{\_init\_record}}
\index{\_init\_record@{\_init\_record}!FileOperator@{FileOperator}}
\doxysubsubsection{\texorpdfstring{\_init\_record()}{\_init\_record()}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_ae2036eed77b5b6f8d2d98a1a3e89e3ed} 
\+\_\+init\+\_\+record (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{distlib_2util_8py_source_l00490}{490}} of file \mbox{\hyperlink{distlib_2util_8py_source}{util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00490\ \ \ \ \ \textcolor{keyword}{def\ }\_init\_record(self):}
\DoxyCodeLine{00491\ \ \ \ \ \ \ \ \ self.record\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{00492\ \ \ \ \ \ \ \ \ self.files\_written\ =\ set()}
\DoxyCodeLine{00493\ \ \ \ \ \ \ \ \ self.dirs\_created\ =\ set()}
\DoxyCodeLine{00494\ }

\end{DoxyCode}


Referenced by \mbox{\hyperlink{distlib_2util_8py_source_l00639}{commit()}}, and \mbox{\hyperlink{distlib_2util_8py_source_l00649}{rollback()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=232pt]{d9/db3/classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_ae2036eed77b5b6f8d2d98a1a3e89e3ed_icgraph}
\end{center}
\end{figure}
\Hypertarget{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_ab83e7ce1653cad53179d914c5d7099e6}\index{FileOperator@{FileOperator}!byte\_compile@{byte\_compile}}
\index{byte\_compile@{byte\_compile}!FileOperator@{FileOperator}}
\doxysubsubsection{\texorpdfstring{byte\_compile()}{byte\_compile()}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_ab83e7ce1653cad53179d914c5d7099e6} 
byte\+\_\+compile (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{}]{path}{, }\item[{}]{optimize}{ = {\ttfamily False}, }\item[{}]{force}{ = {\ttfamily False}, }\item[{}]{prefix}{ = {\ttfamily None}, }\item[{}]{hashed\+\_\+invalidation}{ = {\ttfamily False}}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{distlib_2util_8py_source_l00589}{589}} of file \mbox{\hyperlink{distlib_2util_8py_source}{util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00589\ \ \ \ \ \textcolor{keyword}{def\ }byte\_compile(self,\ path,\ optimize=False,\ force=False,\ prefix=None,\ hashed\_invalidation=False):}
\DoxyCodeLine{00590\ \ \ \ \ \ \ \ \ dpath\ =\ cache\_from\_source(path,\ \textcolor{keywordflow}{not}\ optimize)}
\DoxyCodeLine{00591\ \ \ \ \ \ \ \ \ logger.info(\textcolor{stringliteral}{'Byte-\/compiling\ \%s\ to\ \%s'},\ path,\ dpath)}
\DoxyCodeLine{00592\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ self.dry\_run:}
\DoxyCodeLine{00593\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ force\ \textcolor{keywordflow}{or}\ self.newer(path,\ dpath):}
\DoxyCodeLine{00594\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ prefix:}
\DoxyCodeLine{00595\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ diagpath\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00596\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00597\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ path.startswith(prefix)}
\DoxyCodeLine{00598\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ diagpath\ =\ path[len(prefix):]}
\DoxyCodeLine{00599\ \ \ \ \ \ \ \ \ \ \ \ \ compile\_kwargs\ =\ \{\}}
\DoxyCodeLine{00600\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ hashed\_invalidation\ \textcolor{keywordflow}{and}\ hasattr(py\_compile,\ \textcolor{stringliteral}{'PycInvalidationMode'}):}
\DoxyCodeLine{00601\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ compile\_kwargs[\textcolor{stringliteral}{'invalidation\_mode'}]\ =\ py\_compile.PycInvalidationMode.CHECKED\_HASH}
\DoxyCodeLine{00602\ \ \ \ \ \ \ \ \ \ \ \ \ py\_compile.compile(path,\ dpath,\ diagpath,\ \textcolor{keyword}{True},\ **compile\_kwargs)\ \ \ \ \ \textcolor{comment}{\#\ raise\ error}}
\DoxyCodeLine{00603\ \ \ \ \ \ \ \ \ self.record\_as\_written(dpath)}
\DoxyCodeLine{00604\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ dpath}
\DoxyCodeLine{00605\ }

\end{DoxyCode}


References \mbox{\hyperlink{scripts_8py_source_l00341}{Script\+Maker.\+dry\+\_\+run}}, \mbox{\hyperlink{distlib_2util_8py_source_l00486}{dry\+\_\+run}}, \mbox{\hyperlink{distlib_2util_8py_source_l00499}{newer()}}, and \mbox{\hyperlink{distlib_2util_8py_source_l00495}{record\+\_\+as\+\_\+written()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=283pt]{d9/db3/classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_ab83e7ce1653cad53179d914c5d7099e6_cgraph}
\end{center}
\end{figure}
\Hypertarget{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_aef9f050f08f3a95553a0d15762f9dad2}\index{FileOperator@{FileOperator}!commit@{commit}}
\index{commit@{commit}!FileOperator@{FileOperator}}
\doxysubsubsection{\texorpdfstring{commit()}{commit()}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_aef9f050f08f3a95553a0d15762f9dad2} 
commit (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Commit recorded changes, turn off recording, return
changes.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{distlib_2util_8py_source_l00639}{639}} of file \mbox{\hyperlink{distlib_2util_8py_source}{util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00639\ \ \ \ \ \textcolor{keyword}{def\ }commit(self):}
\DoxyCodeLine{00640\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00641\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Commit\ recorded\ changes,\ turn\ off\ recording,\ return}}
\DoxyCodeLine{00642\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ changes.}}
\DoxyCodeLine{00643\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00644\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ self.record}
\DoxyCodeLine{00645\ \ \ \ \ \ \ \ \ result\ =\ self.files\_written,\ self.dirs\_created}
\DoxyCodeLine{00646\ \ \ \ \ \ \ \ \ self.\_init\_record()}
\DoxyCodeLine{00647\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ result}
\DoxyCodeLine{00648\ }

\end{DoxyCode}


References \mbox{\hyperlink{distlib_2util_8py_source_l00490}{\+\_\+init\+\_\+record()}}, \mbox{\hyperlink{distlib_2util_8py_source_l00493}{dirs\+\_\+created}}, \mbox{\hyperlink{distlib_2util_8py_source_l00492}{files\+\_\+written}}, and \mbox{\hyperlink{distlib_2util_8py_source_l00491}{record}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=231pt]{d9/db3/classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_aef9f050f08f3a95553a0d15762f9dad2_cgraph}
\end{center}
\end{figure}
\Hypertarget{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_ac619a115bedd5b6c5118f9d546f74809}\index{FileOperator@{FileOperator}!copy\_file@{copy\_file}}
\index{copy\_file@{copy\_file}!FileOperator@{FileOperator}}
\doxysubsubsection{\texorpdfstring{copy\_file()}{copy\_file()}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_ac619a115bedd5b6c5118f9d546f74809} 
copy\+\_\+file (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{}]{infile}{, }\item[{}]{outfile}{, }\item[{}]{check}{ = {\ttfamily True}}\end{DoxyParamCaption})}

\begin{DoxyVerb}Copy a file respecting dry-run and force flags.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{distlib_2util_8py_source_l00519}{519}} of file \mbox{\hyperlink{distlib_2util_8py_source}{util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00519\ \ \ \ \ \textcolor{keyword}{def\ }copy\_file(self,\ infile,\ outfile,\ check=True):}
\DoxyCodeLine{00520\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Copy\ a\ file\ respecting\ dry-\/run\ and\ force\ flags.}}
\DoxyCodeLine{00521\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00522\ \ \ \ \ \ \ \ \ self.ensure\_dir(os.path.dirname(outfile))}
\DoxyCodeLine{00523\ \ \ \ \ \ \ \ \ logger.info(\textcolor{stringliteral}{'Copying\ \%s\ to\ \%s'},\ infile,\ outfile)}
\DoxyCodeLine{00524\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ self.dry\_run:}
\DoxyCodeLine{00525\ \ \ \ \ \ \ \ \ \ \ \ \ msg\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00526\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ check:}
\DoxyCodeLine{00527\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ os.path.islink(outfile):}
\DoxyCodeLine{00528\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ msg\ =\ \textcolor{stringliteral}{'\%s\ is\ a\ symlink'}\ \%\ outfile}
\DoxyCodeLine{00529\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ os.path.exists(outfile)\ \textcolor{keywordflow}{and}\ \textcolor{keywordflow}{not}\ os.path.isfile(outfile):}
\DoxyCodeLine{00530\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ msg\ =\ \textcolor{stringliteral}{'\%s\ is\ a\ non-\/regular\ file'}\ \%\ outfile}
\DoxyCodeLine{00531\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ msg:}
\DoxyCodeLine{00532\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ ValueError(msg\ +\ \textcolor{stringliteral}{'\ which\ would\ be\ overwritten'})}
\DoxyCodeLine{00533\ \ \ \ \ \ \ \ \ \ \ \ \ shutil.copyfile(infile,\ outfile)}
\DoxyCodeLine{00534\ \ \ \ \ \ \ \ \ self.record\_as\_written(outfile)}
\DoxyCodeLine{00535\ }

\end{DoxyCode}


References \mbox{\hyperlink{scripts_8py_source_l00341}{Script\+Maker.\+dry\+\_\+run}}, \mbox{\hyperlink{distlib_2util_8py_source_l00486}{dry\+\_\+run}}, \mbox{\hyperlink{distlib_2util_8py_source_l00577}{ensure\+\_\+dir()}}, and \mbox{\hyperlink{distlib_2util_8py_source_l00495}{record\+\_\+as\+\_\+written()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=264pt]{d9/db3/classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_ac619a115bedd5b6c5118f9d546f74809_cgraph}
\end{center}
\end{figure}
\Hypertarget{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a192590d586d22644e24d6ec73aef3031}\index{FileOperator@{FileOperator}!copy\_stream@{copy\_stream}}
\index{copy\_stream@{copy\_stream}!FileOperator@{FileOperator}}
\doxysubsubsection{\texorpdfstring{copy\_stream()}{copy\_stream()}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a192590d586d22644e24d6ec73aef3031} 
copy\+\_\+stream (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{}]{instream}{, }\item[{}]{outfile}{, }\item[{}]{encoding}{ = {\ttfamily None}}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{distlib_2util_8py_source_l00536}{536}} of file \mbox{\hyperlink{distlib_2util_8py_source}{util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00536\ \ \ \ \ \textcolor{keyword}{def\ }copy\_stream(self,\ instream,\ outfile,\ encoding=None):}
\DoxyCodeLine{00537\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ \textcolor{keywordflow}{not}\ os.path.isdir(outfile)}
\DoxyCodeLine{00538\ \ \ \ \ \ \ \ \ self.ensure\_dir(os.path.dirname(outfile))}
\DoxyCodeLine{00539\ \ \ \ \ \ \ \ \ logger.info(\textcolor{stringliteral}{'Copying\ stream\ \%s\ to\ \%s'},\ instream,\ outfile)}
\DoxyCodeLine{00540\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ self.dry\_run:}
\DoxyCodeLine{00541\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ encoding\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{00542\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ outstream\ =\ open(outfile,\ \textcolor{stringliteral}{'wb'})}
\DoxyCodeLine{00543\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00544\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ outstream\ =\ codecs.open(outfile,\ \textcolor{stringliteral}{'w'},\ encoding=encoding)}
\DoxyCodeLine{00545\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{00546\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ shutil.copyfileobj(instream,\ outstream)}
\DoxyCodeLine{00547\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{finally}:}
\DoxyCodeLine{00548\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ outstream.close()}
\DoxyCodeLine{00549\ \ \ \ \ \ \ \ \ self.record\_as\_written(outfile)}
\DoxyCodeLine{00550\ }

\end{DoxyCode}


References \mbox{\hyperlink{scripts_8py_source_l00341}{Script\+Maker.\+dry\+\_\+run}}, \mbox{\hyperlink{distlib_2util_8py_source_l00486}{dry\+\_\+run}}, \mbox{\hyperlink{distlib_2util_8py_source_l00577}{ensure\+\_\+dir()}}, and \mbox{\hyperlink{distlib_2util_8py_source_l00495}{record\+\_\+as\+\_\+written()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=282pt]{d9/db3/classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a192590d586d22644e24d6ec73aef3031_cgraph}
\end{center}
\end{figure}
\Hypertarget{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a794c6d6f0c0bd75027ff635dc93cd275}\index{FileOperator@{FileOperator}!ensure\_dir@{ensure\_dir}}
\index{ensure\_dir@{ensure\_dir}!FileOperator@{FileOperator}}
\doxysubsubsection{\texorpdfstring{ensure\_dir()}{ensure\_dir()}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a794c6d6f0c0bd75027ff635dc93cd275} 
ensure\+\_\+dir (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{}]{path}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{distlib_2util_8py_source_l00577}{577}} of file \mbox{\hyperlink{distlib_2util_8py_source}{util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00577\ \ \ \ \ \textcolor{keyword}{def\ }ensure\_dir(self,\ path):}
\DoxyCodeLine{00578\ \ \ \ \ \ \ \ \ path\ =\ os.path.abspath(path)}
\DoxyCodeLine{00579\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ path\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ self.ensured\ \textcolor{keywordflow}{and}\ \textcolor{keywordflow}{not}\ os.path.exists(path):}
\DoxyCodeLine{00580\ \ \ \ \ \ \ \ \ \ \ \ \ self.ensured.add(path)}
\DoxyCodeLine{00581\ \ \ \ \ \ \ \ \ \ \ \ \ d,\ f\ =\ os.path.split(path)}
\DoxyCodeLine{00582\ \ \ \ \ \ \ \ \ \ \ \ \ self.ensure\_dir(d)}
\DoxyCodeLine{00583\ \ \ \ \ \ \ \ \ \ \ \ \ logger.info(\textcolor{stringliteral}{'Creating\ \%s'}\ \%\ path)}
\DoxyCodeLine{00584\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ self.dry\_run:}
\DoxyCodeLine{00585\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ os.mkdir(path)}
\DoxyCodeLine{00586\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.record:}
\DoxyCodeLine{00587\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.dirs\_created.add(path)}
\DoxyCodeLine{00588\ }

\end{DoxyCode}


References \mbox{\hyperlink{distlib_2util_8py_source_l00493}{dirs\+\_\+created}}, \mbox{\hyperlink{scripts_8py_source_l00341}{Script\+Maker.\+dry\+\_\+run}}, \mbox{\hyperlink{distlib_2util_8py_source_l00486}{dry\+\_\+run}}, \mbox{\hyperlink{distlib_2util_8py_source_l00577}{ensure\+\_\+dir()}}, \mbox{\hyperlink{distlib_2util_8py_source_l00487}{ensured}}, and \mbox{\hyperlink{distlib_2util_8py_source_l00491}{record}}.



Referenced by \mbox{\hyperlink{distlib_2util_8py_source_l00519}{copy\+\_\+file()}}, \mbox{\hyperlink{distlib_2util_8py_source_l00536}{copy\+\_\+stream()}}, \mbox{\hyperlink{distlib_2util_8py_source_l00577}{ensure\+\_\+dir()}}, and \mbox{\hyperlink{distlib_2util_8py_source_l00551}{write\+\_\+binary\+\_\+file()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=141pt]{d9/db3/classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a794c6d6f0c0bd75027ff635dc93cd275_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/db3/classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a794c6d6f0c0bd75027ff635dc93cd275_icgraph}
\end{center}
\end{figure}
\Hypertarget{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a13ec99bbb9f4962253890e51605dd92b}\index{FileOperator@{FileOperator}!ensure\_removed@{ensure\_removed}}
\index{ensure\_removed@{ensure\_removed}!FileOperator@{FileOperator}}
\doxysubsubsection{\texorpdfstring{ensure\_removed()}{ensure\_removed()}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a13ec99bbb9f4962253890e51605dd92b} 
ensure\+\_\+removed (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{}]{path}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{distlib_2util_8py_source_l00606}{606}} of file \mbox{\hyperlink{distlib_2util_8py_source}{util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00606\ \ \ \ \ \textcolor{keyword}{def\ }ensure\_removed(self,\ path):}
\DoxyCodeLine{00607\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ os.path.exists(path):}
\DoxyCodeLine{00608\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ os.path.isdir(path)\ \textcolor{keywordflow}{and}\ \textcolor{keywordflow}{not}\ os.path.islink(path):}
\DoxyCodeLine{00609\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ logger.debug(\textcolor{stringliteral}{'Removing\ directory\ tree\ at\ \%s'},\ path)}
\DoxyCodeLine{00610\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ self.dry\_run:}
\DoxyCodeLine{00611\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ shutil.rmtree(path)}
\DoxyCodeLine{00612\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.record:}
\DoxyCodeLine{00613\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ path\ \textcolor{keywordflow}{in}\ self.dirs\_created:}
\DoxyCodeLine{00614\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.dirs\_created.remove(path)}
\DoxyCodeLine{00615\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00616\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ os.path.islink(path):}
\DoxyCodeLine{00617\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s\ =\ \textcolor{stringliteral}{'link'}}
\DoxyCodeLine{00618\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00619\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s\ =\ \textcolor{stringliteral}{'file'}}
\DoxyCodeLine{00620\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ logger.debug(\textcolor{stringliteral}{'Removing\ \%s\ \%s'},\ s,\ path)}
\DoxyCodeLine{00621\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ self.dry\_run:}
\DoxyCodeLine{00622\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ os.remove(path)}
\DoxyCodeLine{00623\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.record:}
\DoxyCodeLine{00624\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ path\ \textcolor{keywordflow}{in}\ self.files\_written:}
\DoxyCodeLine{00625\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.files\_written.remove(path)}
\DoxyCodeLine{00626\ }

\end{DoxyCode}


References \mbox{\hyperlink{distlib_2util_8py_source_l00493}{dirs\+\_\+created}}, \mbox{\hyperlink{scripts_8py_source_l00341}{Script\+Maker.\+dry\+\_\+run}}, \mbox{\hyperlink{distlib_2util_8py_source_l00486}{dry\+\_\+run}}, \mbox{\hyperlink{distlib_2util_8py_source_l00492}{files\+\_\+written}}, and \mbox{\hyperlink{distlib_2util_8py_source_l00491}{record}}.

\Hypertarget{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a4af2230dd56989088e01d1775995e8d4}\index{FileOperator@{FileOperator}!is\_writable@{is\_writable}}
\index{is\_writable@{is\_writable}!FileOperator@{FileOperator}}
\doxysubsubsection{\texorpdfstring{is\_writable()}{is\_writable()}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a4af2230dd56989088e01d1775995e8d4} 
is\+\_\+writable (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{}]{path}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{distlib_2util_8py_source_l00627}{627}} of file \mbox{\hyperlink{distlib_2util_8py_source}{util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00627\ \ \ \ \ \textcolor{keyword}{def\ }is\_writable(self,\ path):}
\DoxyCodeLine{00628\ \ \ \ \ \ \ \ \ result\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{00629\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ \textcolor{keywordflow}{not}\ result:}
\DoxyCodeLine{00630\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ os.path.exists(path):}
\DoxyCodeLine{00631\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result\ =\ os.access(path,\ os.W\_OK)}
\DoxyCodeLine{00632\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break}}
\DoxyCodeLine{00633\ \ \ \ \ \ \ \ \ \ \ \ \ parent\ =\ os.path.dirname(path)}
\DoxyCodeLine{00634\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ parent\ ==\ path:}
\DoxyCodeLine{00635\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break}}
\DoxyCodeLine{00636\ \ \ \ \ \ \ \ \ \ \ \ \ path\ =\ parent}
\DoxyCodeLine{00637\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ result}
\DoxyCodeLine{00638\ }

\end{DoxyCode}
\Hypertarget{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a5b4bb956d383b617fe901f3eb4973fb5}\index{FileOperator@{FileOperator}!newer@{newer}}
\index{newer@{newer}!FileOperator@{FileOperator}}
\doxysubsubsection{\texorpdfstring{newer()}{newer()}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a5b4bb956d383b617fe901f3eb4973fb5} 
newer (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{}]{source}{, }\item[{}]{target}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Tell if the target is newer than the source.

Returns true if 'source' exists and is more recently modified than
'target', or if 'source' exists and 'target' doesn't.

Returns false if both exist and 'target' is the same age or younger
than 'source'. Raise PackagingFileError if 'source' does not exist.

Note that this test is not very accurate: files created in the same
second will have the same "age".
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{distlib_2util_8py_source_l00499}{499}} of file \mbox{\hyperlink{distlib_2util_8py_source}{util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00499\ \ \ \ \ \textcolor{keyword}{def\ }newer(self,\ source,\ target):}
\DoxyCodeLine{00500\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Tell\ if\ the\ target\ is\ newer\ than\ the\ source.}}
\DoxyCodeLine{00501\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00502\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Returns\ true\ if\ 'source'\ exists\ and\ is\ more\ recently\ modified\ than}}
\DoxyCodeLine{00503\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ 'target',\ or\ if\ 'source'\ exists\ and\ 'target'\ doesn't.}}
\DoxyCodeLine{00504\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00505\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Returns\ false\ if\ both\ exist\ and\ 'target'\ is\ the\ same\ age\ or\ younger}}
\DoxyCodeLine{00506\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ than\ 'source'.\ Raise\ PackagingFileError\ if\ 'source'\ does\ not\ exist.}}
\DoxyCodeLine{00507\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00508\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Note\ that\ this\ test\ is\ not\ very\ accurate:\ files\ created\ in\ the\ same}}
\DoxyCodeLine{00509\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ second\ will\ have\ the\ same\ "{}age"{}.}}
\DoxyCodeLine{00510\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00511\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ os.path.exists(source):}
\DoxyCodeLine{00512\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ DistlibException(\textcolor{stringliteral}{"{}file\ '\%r'\ does\ not\ exist"{}}\ \%}
\DoxyCodeLine{00513\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ os.path.abspath(source))}
\DoxyCodeLine{00514\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ os.path.exists(target):}
\DoxyCodeLine{00515\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{True}}
\DoxyCodeLine{00516\ }
\DoxyCodeLine{00517\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ os.stat(source).st\_mtime\ >\ os.stat(target).st\_mtime}
\DoxyCodeLine{00518\ }

\end{DoxyCode}


Referenced by \mbox{\hyperlink{distlib_2util_8py_source_l00589}{byte\+\_\+compile()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=232pt]{d9/db3/classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a5b4bb956d383b617fe901f3eb4973fb5_icgraph}
\end{center}
\end{figure}
\Hypertarget{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_abdb0650fc3fe65a6ea3c2e72a8b7c013}\index{FileOperator@{FileOperator}!record\_as\_written@{record\_as\_written}}
\index{record\_as\_written@{record\_as\_written}!FileOperator@{FileOperator}}
\doxysubsubsection{\texorpdfstring{record\_as\_written()}{record\_as\_written()}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_abdb0650fc3fe65a6ea3c2e72a8b7c013} 
record\+\_\+as\+\_\+written (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{}]{path}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{distlib_2util_8py_source_l00495}{495}} of file \mbox{\hyperlink{distlib_2util_8py_source}{util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00495\ \ \ \ \ \textcolor{keyword}{def\ }record\_as\_written(self,\ path):}
\DoxyCodeLine{00496\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.record:}
\DoxyCodeLine{00497\ \ \ \ \ \ \ \ \ \ \ \ \ self.files\_written.add(path)}
\DoxyCodeLine{00498\ }

\end{DoxyCode}


References \mbox{\hyperlink{distlib_2util_8py_source_l00492}{files\+\_\+written}}, and \mbox{\hyperlink{distlib_2util_8py_source_l00491}{record}}.



Referenced by \mbox{\hyperlink{distlib_2util_8py_source_l00589}{byte\+\_\+compile()}}, \mbox{\hyperlink{distlib_2util_8py_source_l00519}{copy\+\_\+file()}}, \mbox{\hyperlink{distlib_2util_8py_source_l00536}{copy\+\_\+stream()}}, and \mbox{\hyperlink{distlib_2util_8py_source_l00551}{write\+\_\+binary\+\_\+file()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/db3/classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_abdb0650fc3fe65a6ea3c2e72a8b7c013_icgraph}
\end{center}
\end{figure}
\Hypertarget{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_ac412064a6266aadf962039adb6e20e74}\index{FileOperator@{FileOperator}!rollback@{rollback}}
\index{rollback@{rollback}!FileOperator@{FileOperator}}
\doxysubsubsection{\texorpdfstring{rollback()}{rollback()}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_ac412064a6266aadf962039adb6e20e74} 
rollback (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{distlib_2util_8py_source_l00649}{649}} of file \mbox{\hyperlink{distlib_2util_8py_source}{util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00649\ \ \ \ \ \textcolor{keyword}{def\ }rollback(self):}
\DoxyCodeLine{00650\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ self.dry\_run:}
\DoxyCodeLine{00651\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ f\ \textcolor{keywordflow}{in}\ list(self.files\_written):}
\DoxyCodeLine{00652\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ os.path.exists(f):}
\DoxyCodeLine{00653\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ os.remove(f)}
\DoxyCodeLine{00654\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ dirs\ should\ all\ be\ empty\ now,\ except\ perhaps\ for}}
\DoxyCodeLine{00655\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ \_\_pycache\_\_\ subdirs}}
\DoxyCodeLine{00656\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ reverse\ so\ that\ subdirs\ appear\ before\ their\ parents}}
\DoxyCodeLine{00657\ \ \ \ \ \ \ \ \ \ \ \ \ dirs\ =\ sorted(self.dirs\_created,\ reverse=\textcolor{keyword}{True})}
\DoxyCodeLine{00658\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ d\ \textcolor{keywordflow}{in}\ dirs:}
\DoxyCodeLine{00659\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ flist\ =\ os.listdir(d)}
\DoxyCodeLine{00660\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ flist:}
\DoxyCodeLine{00661\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ flist\ ==\ [\textcolor{stringliteral}{'\_\_pycache\_\_'}]}
\DoxyCodeLine{00662\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sd\ =\ os.path.join(d,\ flist[0])}
\DoxyCodeLine{00663\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ os.rmdir(sd)}
\DoxyCodeLine{00664\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ os.rmdir(d)\ \ \ \ \ \textcolor{comment}{\#\ should\ fail\ if\ non-\/empty}}
\DoxyCodeLine{00665\ \ \ \ \ \ \ \ \ self.\_init\_record()}
\DoxyCodeLine{00666\ }

\end{DoxyCode}


References \mbox{\hyperlink{distlib_2util_8py_source_l00490}{\+\_\+init\+\_\+record()}}, \mbox{\hyperlink{distlib_2util_8py_source_l00493}{dirs\+\_\+created}}, \mbox{\hyperlink{scripts_8py_source_l00341}{Script\+Maker.\+dry\+\_\+run}}, \mbox{\hyperlink{distlib_2util_8py_source_l00486}{dry\+\_\+run}}, and \mbox{\hyperlink{distlib_2util_8py_source_l00492}{files\+\_\+written}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=232pt]{d9/db3/classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_ac412064a6266aadf962039adb6e20e74_cgraph}
\end{center}
\end{figure}
\Hypertarget{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a17b25722b57fc69b60e3dd815a51773e}\index{FileOperator@{FileOperator}!set\_mode@{set\_mode}}
\index{set\_mode@{set\_mode}!FileOperator@{FileOperator}}
\doxysubsubsection{\texorpdfstring{set\_mode()}{set\_mode()}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a17b25722b57fc69b60e3dd815a51773e} 
set\+\_\+mode (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{}]{bits}{, }\item[{}]{mask}{, }\item[{}]{files}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{distlib_2util_8py_source_l00563}{563}} of file \mbox{\hyperlink{distlib_2util_8py_source}{util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00563\ \ \ \ \ \textcolor{keyword}{def\ }set\_mode(self,\ bits,\ mask,\ files):}
\DoxyCodeLine{00564\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ os.name\ ==\ \textcolor{stringliteral}{'posix'}\ \textcolor{keywordflow}{or}\ (os.name\ ==\ \textcolor{stringliteral}{'java'}\ \textcolor{keywordflow}{and}\ os.\_name\ ==\ \textcolor{stringliteral}{'posix'}):}
\DoxyCodeLine{00565\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Set\ the\ executable\ bits\ (owner,\ group,\ and\ world)\ on}}
\DoxyCodeLine{00566\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ all\ the\ files\ specified.}}
\DoxyCodeLine{00567\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ f\ \textcolor{keywordflow}{in}\ files:}
\DoxyCodeLine{00568\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.dry\_run:}
\DoxyCodeLine{00569\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ logger.info(\textcolor{stringliteral}{"{}changing\ mode\ of\ \%s"{}},\ f)}
\DoxyCodeLine{00570\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00571\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mode\ =\ (os.stat(f).st\_mode\ |\ bits)\ \&\ mask}
\DoxyCodeLine{00572\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ logger.info(\textcolor{stringliteral}{"{}changing\ mode\ of\ \%s\ to\ \%o"{}},\ f,\ mode)}
\DoxyCodeLine{00573\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ os.chmod(f,\ mode)}
\DoxyCodeLine{00574\ }

\end{DoxyCode}


References \mbox{\hyperlink{scripts_8py_source_l00341}{Script\+Maker.\+dry\+\_\+run}}, and \mbox{\hyperlink{distlib_2util_8py_source_l00486}{dry\+\_\+run}}.

\Hypertarget{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a278d27155146389efc44a54d8ebde599}\index{FileOperator@{FileOperator}!write\_binary\_file@{write\_binary\_file}}
\index{write\_binary\_file@{write\_binary\_file}!FileOperator@{FileOperator}}
\doxysubsubsection{\texorpdfstring{write\_binary\_file()}{write\_binary\_file()}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a278d27155146389efc44a54d8ebde599} 
write\+\_\+binary\+\_\+file (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{}]{path}{, }\item[{}]{data}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{distlib_2util_8py_source_l00551}{551}} of file \mbox{\hyperlink{distlib_2util_8py_source}{util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00551\ \ \ \ \ \textcolor{keyword}{def\ }write\_binary\_file(self,\ path,\ data):}
\DoxyCodeLine{00552\ \ \ \ \ \ \ \ \ self.ensure\_dir(os.path.dirname(path))}
\DoxyCodeLine{00553\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ self.dry\_run:}
\DoxyCodeLine{00554\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ os.path.exists(path):}
\DoxyCodeLine{00555\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ os.remove(path)}
\DoxyCodeLine{00556\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{with}\ open(path,\ \textcolor{stringliteral}{'wb'})\ \textcolor{keyword}{as}\ f:}
\DoxyCodeLine{00557\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f.write(data)}
\DoxyCodeLine{00558\ \ \ \ \ \ \ \ \ self.record\_as\_written(path)}
\DoxyCodeLine{00559\ }

\end{DoxyCode}


References \mbox{\hyperlink{scripts_8py_source_l00341}{Script\+Maker.\+dry\+\_\+run}}, \mbox{\hyperlink{distlib_2util_8py_source_l00486}{dry\+\_\+run}}, \mbox{\hyperlink{distlib_2util_8py_source_l00577}{ensure\+\_\+dir()}}, and \mbox{\hyperlink{distlib_2util_8py_source_l00495}{record\+\_\+as\+\_\+written()}}.



Referenced by \mbox{\hyperlink{distlib_2util_8py_source_l00560}{write\+\_\+text\+\_\+file()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=296pt]{d9/db3/classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a278d27155146389efc44a54d8ebde599_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=279pt]{d9/db3/classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a278d27155146389efc44a54d8ebde599_icgraph}
\end{center}
\end{figure}
\Hypertarget{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a7492cca973a205682ea668dc260b976a}\index{FileOperator@{FileOperator}!write\_text\_file@{write\_text\_file}}
\index{write\_text\_file@{write\_text\_file}!FileOperator@{FileOperator}}
\doxysubsubsection{\texorpdfstring{write\_text\_file()}{write\_text\_file()}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a7492cca973a205682ea668dc260b976a} 
write\+\_\+text\+\_\+file (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{}]{path}{, }\item[{}]{data}{, }\item[{}]{encoding}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{distlib_2util_8py_source_l00560}{560}} of file \mbox{\hyperlink{distlib_2util_8py_source}{util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00560\ \ \ \ \ \textcolor{keyword}{def\ }write\_text\_file(self,\ path,\ data,\ encoding):}
\DoxyCodeLine{00561\ \ \ \ \ \ \ \ \ self.write\_binary\_file(path,\ data.encode(encoding))}
\DoxyCodeLine{00562\ }

\end{DoxyCode}


References \mbox{\hyperlink{distlib_2util_8py_source_l00551}{write\+\_\+binary\+\_\+file()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/db3/classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a7492cca973a205682ea668dc260b976a_cgraph}
\end{center}
\end{figure}


\label{doc-variable-members}
\Hypertarget{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_doc-variable-members}
\doxysubsection{Field Documentation}
\Hypertarget{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a27e176c0562d2ece63074f05a0710080}\index{FileOperator@{FileOperator}!dirs\_created@{dirs\_created}}
\index{dirs\_created@{dirs\_created}!FileOperator@{FileOperator}}
\doxysubsubsection{\texorpdfstring{dirs\_created}{dirs\_created}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a27e176c0562d2ece63074f05a0710080} 
dirs\+\_\+created = set()}



Definition at line \mbox{\hyperlink{distlib_2util_8py_source_l00493}{493}} of file \mbox{\hyperlink{distlib_2util_8py_source}{util.\+py}}.



Referenced by \mbox{\hyperlink{distlib_2util_8py_source_l00639}{commit()}}, \mbox{\hyperlink{distlib_2util_8py_source_l00577}{ensure\+\_\+dir()}}, \mbox{\hyperlink{distlib_2util_8py_source_l00606}{ensure\+\_\+removed()}}, and \mbox{\hyperlink{distlib_2util_8py_source_l00649}{rollback()}}.

\Hypertarget{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a7d0d652a11d142afd36f2568ce6bed9f}\index{FileOperator@{FileOperator}!dry\_run@{dry\_run}}
\index{dry\_run@{dry\_run}!FileOperator@{FileOperator}}
\doxysubsubsection{\texorpdfstring{dry\_run}{dry\_run}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a7d0d652a11d142afd36f2568ce6bed9f} 
dry\+\_\+run = dry\+\_\+run}



Definition at line \mbox{\hyperlink{distlib_2util_8py_source_l00486}{486}} of file \mbox{\hyperlink{distlib_2util_8py_source}{util.\+py}}.



Referenced by \mbox{\hyperlink{distlib_2util_8py_source_l00589}{byte\+\_\+compile()}}, \mbox{\hyperlink{distlib_2util_8py_source_l00519}{copy\+\_\+file()}}, \mbox{\hyperlink{distlib_2util_8py_source_l00536}{copy\+\_\+stream()}}, \mbox{\hyperlink{distlib_2util_8py_source_l00577}{ensure\+\_\+dir()}}, \mbox{\hyperlink{distlib_2util_8py_source_l00606}{ensure\+\_\+removed()}}, \mbox{\hyperlink{distlib_2util_8py_source_l00649}{rollback()}}, \mbox{\hyperlink{distlib_2util_8py_source_l00563}{set\+\_\+mode()}}, and \mbox{\hyperlink{distlib_2util_8py_source_l00551}{write\+\_\+binary\+\_\+file()}}.

\Hypertarget{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a49d76c9fdd6c20bc85e797206cbaa847}\index{FileOperator@{FileOperator}!ensured@{ensured}}
\index{ensured@{ensured}!FileOperator@{FileOperator}}
\doxysubsubsection{\texorpdfstring{ensured}{ensured}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a49d76c9fdd6c20bc85e797206cbaa847} 
ensured = set()}



Definition at line \mbox{\hyperlink{distlib_2util_8py_source_l00487}{487}} of file \mbox{\hyperlink{distlib_2util_8py_source}{util.\+py}}.



Referenced by \mbox{\hyperlink{distlib_2util_8py_source_l00577}{ensure\+\_\+dir()}}.

\Hypertarget{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_afe6ce8152719e8e0693478876ce99c0d}\index{FileOperator@{FileOperator}!files\_written@{files\_written}}
\index{files\_written@{files\_written}!FileOperator@{FileOperator}}
\doxysubsubsection{\texorpdfstring{files\_written}{files\_written}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_afe6ce8152719e8e0693478876ce99c0d} 
files\+\_\+written = set()}



Definition at line \mbox{\hyperlink{distlib_2util_8py_source_l00492}{492}} of file \mbox{\hyperlink{distlib_2util_8py_source}{util.\+py}}.



Referenced by \mbox{\hyperlink{distlib_2util_8py_source_l00639}{commit()}}, \mbox{\hyperlink{distlib_2util_8py_source_l00606}{ensure\+\_\+removed()}}, \mbox{\hyperlink{distlib_2util_8py_source_l00495}{record\+\_\+as\+\_\+written()}}, and \mbox{\hyperlink{distlib_2util_8py_source_l00649}{rollback()}}.

\Hypertarget{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a24abc1cdb33ae6cc929ae21787c1cec9}\index{FileOperator@{FileOperator}!record@{record}}
\index{record@{record}!FileOperator@{FileOperator}}
\doxysubsubsection{\texorpdfstring{record}{record}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_a24abc1cdb33ae6cc929ae21787c1cec9} 
bool record = False}



Definition at line \mbox{\hyperlink{distlib_2util_8py_source_l00491}{491}} of file \mbox{\hyperlink{distlib_2util_8py_source}{util.\+py}}.



Referenced by \mbox{\hyperlink{rich_2console_8py_source_l01989}{Console.\+\_\+check\+\_\+buffer()}}, \mbox{\hyperlink{distlib_2util_8py_source_l00639}{commit()}}, \mbox{\hyperlink{distlib_2util_8py_source_l00577}{ensure\+\_\+dir()}}, \mbox{\hyperlink{distlib_2util_8py_source_l00606}{ensure\+\_\+removed()}}, \mbox{\hyperlink{rich_2console_8py_source_l02179}{Console.\+export\+\_\+html()}}, \mbox{\hyperlink{rich_2console_8py_source_l02126}{Console.\+export\+\_\+text()}}, and \mbox{\hyperlink{distlib_2util_8py_source_l00495}{record\+\_\+as\+\_\+written()}}.

\Hypertarget{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_ae6933fdad6f9d72a7a0a4a45fd2ab2fa}\index{FileOperator@{FileOperator}!set\_executable\_mode@{set\_executable\_mode}}
\index{set\_executable\_mode@{set\_executable\_mode}!FileOperator@{FileOperator}}
\doxysubsubsection{\texorpdfstring{set\_executable\_mode}{set\_executable\_mode}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1distlib_1_1util_1_1_file_operator_ae6933fdad6f9d72a7a0a4a45fd2ab2fa} 
s set\+\_\+executable\+\_\+mode = lambda s, f.\+set\+\_\+mode(0o555, 0o7777, f)\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{distlib_2util_8py_source_l00575}{575}} of file \mbox{\hyperlink{distlib_2util_8py_source}{util.\+py}}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/pqc-\/engineering-\/ssec-\/23/venv/lib/python3.\+12/site-\/packages/pip/\+\_\+vendor/distlib/\mbox{\hyperlink{distlib_2util_8py}{util.\+py}}\end{DoxyCompactItemize}
