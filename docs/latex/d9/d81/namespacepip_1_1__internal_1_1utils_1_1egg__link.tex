\doxysection{pip.\+\_\+internal.\+utils.\+egg\+\_\+link Namespace Reference}
\hypertarget{namespacepip_1_1__internal_1_1utils_1_1egg__link}{}\label{namespacepip_1_1__internal_1_1utils_1_1egg__link}\index{pip.\_internal.utils.egg\_link@{pip.\_internal.utils.egg\_link}}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
str \mbox{\hyperlink{namespacepip_1_1__internal_1_1utils_1_1egg__link_aeac22d30ce5cb3a7510312160f762ee8}{\+\_\+egg\+\_\+link\+\_\+name}} (str raw\+\_\+name)
\item 
Optional\mbox{[}str\mbox{]} \mbox{\hyperlink{namespacepip_1_1__internal_1_1utils_1_1egg__link_a63973fa7d7d1b5064bdd7785aa61f044}{egg\+\_\+link\+\_\+path\+\_\+from\+\_\+sys\+\_\+path}} (str raw\+\_\+name)
\item 
Optional\mbox{[}str\mbox{]} \mbox{\hyperlink{namespacepip_1_1__internal_1_1utils_1_1egg__link_a468fa53672a0e9d9506a22a74258b1f3}{egg\+\_\+link\+\_\+path\+\_\+from\+\_\+location}} (str raw\+\_\+name)
\end{DoxyCompactItemize}


\label{doc-func-members}
\Hypertarget{namespacepip_1_1__internal_1_1utils_1_1egg__link_doc-func-members}
\doxysubsection{Function Documentation}
\Hypertarget{namespacepip_1_1__internal_1_1utils_1_1egg__link_aeac22d30ce5cb3a7510312160f762ee8}\index{pip.\_internal.utils.egg\_link@{pip.\_internal.utils.egg\_link}!\_egg\_link\_name@{\_egg\_link\_name}}
\index{\_egg\_link\_name@{\_egg\_link\_name}!pip.\_internal.utils.egg\_link@{pip.\_internal.utils.egg\_link}}
\doxysubsubsection{\texorpdfstring{\_egg\_link\_name()}{\_egg\_link\_name()}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1utils_1_1egg__link_aeac22d30ce5cb3a7510312160f762ee8} 
 str \+\_\+egg\+\_\+link\+\_\+name (\begin{DoxyParamCaption}\item[{str}]{raw\+\_\+name}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Convert a Name metadata value to a .egg-link name, by applying
the same substitution as pkg_resources's safe_name function.
Note: we cannot use canonicalize_name because it has a different logic.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{egg__link_8py_source_l00018}{18}} of file \mbox{\hyperlink{egg__link_8py_source}{egg\+\_\+link.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00018\ \textcolor{keyword}{def\ }\_egg\_link\_name(raw\_name:\ str)\ -\/>\ str:}
\DoxyCodeLine{00019\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00020\ \textcolor{stringliteral}{\ \ \ \ Convert\ a\ Name\ metadata\ value\ to\ a\ .egg-\/link\ name,\ by\ applying}}
\DoxyCodeLine{00021\ \textcolor{stringliteral}{\ \ \ \ the\ same\ substitution\ as\ pkg\_resources's\ safe\_name\ function.}}
\DoxyCodeLine{00022\ \textcolor{stringliteral}{\ \ \ \ Note:\ we\ cannot\ use\ canonicalize\_name\ because\ it\ has\ a\ different\ logic.}}
\DoxyCodeLine{00023\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00024\ \ \ \ \ \textcolor{keywordflow}{return}\ re.sub(\textcolor{stringliteral}{"{}[\string^A-\/Za-\/z0-\/9.]+"{}},\ \textcolor{stringliteral}{"{}-\/"{}},\ raw\_name)\ +\ \textcolor{stringliteral}{"{}.egg-\/link"{}}}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ }

\end{DoxyCode}


Referenced by \mbox{\hyperlink{egg__link_8py_source_l00039}{egg\+\_\+link\+\_\+path\+\_\+from\+\_\+location()}}, and \mbox{\hyperlink{egg__link_8py_source_l00027}{egg\+\_\+link\+\_\+path\+\_\+from\+\_\+sys\+\_\+path()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=303pt]{d9/d81/namespacepip_1_1__internal_1_1utils_1_1egg__link_aeac22d30ce5cb3a7510312160f762ee8_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacepip_1_1__internal_1_1utils_1_1egg__link_a468fa53672a0e9d9506a22a74258b1f3}\index{pip.\_internal.utils.egg\_link@{pip.\_internal.utils.egg\_link}!egg\_link\_path\_from\_location@{egg\_link\_path\_from\_location}}
\index{egg\_link\_path\_from\_location@{egg\_link\_path\_from\_location}!pip.\_internal.utils.egg\_link@{pip.\_internal.utils.egg\_link}}
\doxysubsubsection{\texorpdfstring{egg\_link\_path\_from\_location()}{egg\_link\_path\_from\_location()}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1utils_1_1egg__link_a468fa53672a0e9d9506a22a74258b1f3} 
 Optional\mbox{[}str\mbox{]} egg\+\_\+link\+\_\+path\+\_\+from\+\_\+location (\begin{DoxyParamCaption}\item[{str}]{raw\+\_\+name}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Return the path for the .egg-link file if it exists, otherwise, None.

There's 3 scenarios:
1) not in a virtualenv
   try to find in site.USER_SITE, then site_packages
2) in a no-global virtualenv
   try to find in site_packages
3) in a yes-global virtualenv
   try to find in site_packages, then site.USER_SITE
   (don't look in global location)

For #1 and #3, there could be odd cases, where there's an egg-link in 2
locations.

This method will just return the first one found.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{egg__link_8py_source_l00039}{39}} of file \mbox{\hyperlink{egg__link_8py_source}{egg\+\_\+link.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00039\ \textcolor{keyword}{def\ }egg\_link\_path\_from\_location(raw\_name:\ str)\ -\/>\ Optional[str]:}
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00041\ \textcolor{stringliteral}{\ \ \ \ Return\ the\ path\ for\ the\ .egg-\/link\ file\ if\ it\ exists,\ otherwise,\ None.}}
\DoxyCodeLine{00042\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00043\ \textcolor{stringliteral}{\ \ \ \ There's\ 3\ scenarios:}}
\DoxyCodeLine{00044\ \textcolor{stringliteral}{\ \ \ \ 1)\ not\ in\ a\ virtualenv}}
\DoxyCodeLine{00045\ \textcolor{stringliteral}{\ \ \ \ \ \ \ try\ to\ find\ in\ site.USER\_SITE,\ then\ site\_packages}}
\DoxyCodeLine{00046\ \textcolor{stringliteral}{\ \ \ \ 2)\ in\ a\ no-\/global\ virtualenv}}
\DoxyCodeLine{00047\ \textcolor{stringliteral}{\ \ \ \ \ \ \ try\ to\ find\ in\ site\_packages}}
\DoxyCodeLine{00048\ \textcolor{stringliteral}{\ \ \ \ 3)\ in\ a\ yes-\/global\ virtualenv}}
\DoxyCodeLine{00049\ \textcolor{stringliteral}{\ \ \ \ \ \ \ try\ to\ find\ in\ site\_packages,\ then\ site.USER\_SITE}}
\DoxyCodeLine{00050\ \textcolor{stringliteral}{\ \ \ \ \ \ \ (don't\ look\ in\ global\ location)}}
\DoxyCodeLine{00051\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00052\ \textcolor{stringliteral}{\ \ \ \ For\ \#1\ and\ \#3,\ there\ could\ be\ odd\ cases,\ where\ there's\ an\ egg-\/link\ in\ 2}}
\DoxyCodeLine{00053\ \textcolor{stringliteral}{\ \ \ \ locations.}}
\DoxyCodeLine{00054\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00055\ \textcolor{stringliteral}{\ \ \ \ This\ method\ will\ just\ return\ the\ first\ one\ found.}}
\DoxyCodeLine{00056\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00057\ \ \ \ \ sites:\ List[str]\ =\ []}
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keywordflow}{if}\ running\_under\_virtualenv():}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ sites.append(site\_packages)}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ virtualenv\_no\_global()\ \textcolor{keywordflow}{and}\ user\_site:}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \ \ \ \ sites.append(user\_site)}
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ user\_site:}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \ \ \ \ sites.append(user\_site)}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ sites.append(site\_packages)}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \ \ \ \ egg\_link\_name\ =\ \_egg\_link\_name(raw\_name)}
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{keywordflow}{for}\ site\ \textcolor{keywordflow}{in}\ sites:}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ egglink\ =\ os.path.join(site,\ egg\_link\_name)}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ os.path.isfile(egglink):}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ egglink}
\DoxyCodeLine{00072\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keywordtype}{None}}

\end{DoxyCode}


References \mbox{\hyperlink{egg__link_8py_source_l00018}{\+\_\+egg\+\_\+link\+\_\+name()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=303pt]{d9/d81/namespacepip_1_1__internal_1_1utils_1_1egg__link_a468fa53672a0e9d9506a22a74258b1f3_cgraph}
\end{center}
\end{figure}
\Hypertarget{namespacepip_1_1__internal_1_1utils_1_1egg__link_a63973fa7d7d1b5064bdd7785aa61f044}\index{pip.\_internal.utils.egg\_link@{pip.\_internal.utils.egg\_link}!egg\_link\_path\_from\_sys\_path@{egg\_link\_path\_from\_sys\_path}}
\index{egg\_link\_path\_from\_sys\_path@{egg\_link\_path\_from\_sys\_path}!pip.\_internal.utils.egg\_link@{pip.\_internal.utils.egg\_link}}
\doxysubsubsection{\texorpdfstring{egg\_link\_path\_from\_sys\_path()}{egg\_link\_path\_from\_sys\_path()}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1utils_1_1egg__link_a63973fa7d7d1b5064bdd7785aa61f044} 
 Optional\mbox{[}str\mbox{]} egg\+\_\+link\+\_\+path\+\_\+from\+\_\+sys\+\_\+path (\begin{DoxyParamCaption}\item[{str}]{raw\+\_\+name}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Look for a .egg-link file for project name, by walking sys.path.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{egg__link_8py_source_l00027}{27}} of file \mbox{\hyperlink{egg__link_8py_source}{egg\+\_\+link.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00027\ \textcolor{keyword}{def\ }egg\_link\_path\_from\_sys\_path(raw\_name:\ str)\ -\/>\ Optional[str]:}
\DoxyCodeLine{00028\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00029\ \textcolor{stringliteral}{\ \ \ \ Look\ for\ a\ .egg-\/link\ file\ for\ project\ name,\ by\ walking\ sys.path.}}
\DoxyCodeLine{00030\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00031\ \ \ \ \ egg\_link\_name\ =\ \_egg\_link\_name(raw\_name)}
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{keywordflow}{for}\ path\_item\ \textcolor{keywordflow}{in}\ sys.path:}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ egg\_link\ =\ os.path.join(path\_item,\ egg\_link\_name)}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ os.path.isfile(egg\_link):}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ egg\_link}
\DoxyCodeLine{00036\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ }

\end{DoxyCode}


References \mbox{\hyperlink{egg__link_8py_source_l00018}{\+\_\+egg\+\_\+link\+\_\+name()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=303pt]{d9/d81/namespacepip_1_1__internal_1_1utils_1_1egg__link_a63973fa7d7d1b5064bdd7785aa61f044_cgraph}
\end{center}
\end{figure}
