\doxysection{pip.\+\_\+internal.\+req.\+req\+\_\+file Namespace Reference}
\hypertarget{namespacepip_1_1__internal_1_1req_1_1req__file}{}\label{namespacepip_1_1__internal_1_1req_1_1req__file}\index{pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}}
\doxysubsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classpip_1_1__internal_1_1req_1_1req__file_1_1_option_parsing_error}{Option\+Parsing\+Error}}
\item 
class \mbox{\hyperlink{classpip_1_1__internal_1_1req_1_1req__file_1_1_parsed_line}{Parsed\+Line}}
\item 
class \mbox{\hyperlink{classpip_1_1__internal_1_1req_1_1req__file_1_1_parsed_requirement}{Parsed\+Requirement}}
\item 
class \mbox{\hyperlink{classpip_1_1__internal_1_1req_1_1req__file_1_1_requirements_file_parser}{Requirements\+File\+Parser}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
Generator\mbox{[}\mbox{\hyperlink{classpip_1_1__internal_1_1req_1_1req__file_1_1_parsed_requirement}{Parsed\+Requirement}}, None, None\mbox{]} \mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_ab7b5f712ad7c44406f380c178dffd9f3}{parse\+\_\+requirements}} (str filename, Pip\+Session session, Optional\mbox{[}"{}Package\+Finder"{}\mbox{]} finder=None, Optional\mbox{[}optparse.\+Values\mbox{]} options=None, bool constraint=False)
\item 
\mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_ae129eaf212f7ad0facffd8677ed86ed4}{Req\+File\+Lines}} \mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_abd393a75b3aa32c810d71d9b2ed15c8a}{preprocess}} (str content)
\item 
\mbox{\hyperlink{classpip_1_1__internal_1_1req_1_1req__file_1_1_parsed_requirement}{Parsed\+Requirement}} \mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_a60981b85cc3815ee0ced89b87d08c16b}{handle\+\_\+requirement\+\_\+line}} (\mbox{\hyperlink{classpip_1_1__internal_1_1req_1_1req__file_1_1_parsed_line}{Parsed\+Line}} line, Optional\mbox{[}optparse.\+Values\mbox{]} options=None)
\item 
None \mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_a7c575760fe0d7fe662016a5675e59572}{handle\+\_\+option\+\_\+line}} (Values opts, str filename, int lineno, Optional\mbox{[}"{}Package\+Finder"{}\mbox{]} finder=None, Optional\mbox{[}optparse.\+Values\mbox{]} options=None, Optional\mbox{[}Pip\+Session\mbox{]} session=None)
\item 
Optional\mbox{[}\mbox{\hyperlink{classpip_1_1__internal_1_1req_1_1req__file_1_1_parsed_requirement}{Parsed\+Requirement}}\mbox{]} \mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_abc19f8ce1ee7e358168ab8071f490eb4}{handle\+\_\+line}} (\mbox{\hyperlink{classpip_1_1__internal_1_1req_1_1req__file_1_1_parsed_line}{Parsed\+Line}} line, Optional\mbox{[}optparse.\+Values\mbox{]} options=None, Optional\mbox{[}"{}Package\+Finder"{}\mbox{]} finder=None, Optional\mbox{[}Pip\+Session\mbox{]} session=None)
\item 
\mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_a74226905e691c51e0b58ff0eed77683a}{Line\+Parser}} \mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_af1d7dc2beec61110f68069f7f343b030}{get\+\_\+line\+\_\+parser}} (Optional\mbox{[}"{}Package\+Finder"{}\mbox{]} finder)
\item 
Tuple\mbox{[}str, str\mbox{]} \mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_aaca0cc1c5b6a0abd36e3553a930c76b8}{break\+\_\+args\+\_\+options}} (str line)
\item 
optparse.\+Option\+Parser \mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_a7b0dcfe8b96cde936771aee44acb21fb}{build\+\_\+parser}} ()
\item 
\mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_ae129eaf212f7ad0facffd8677ed86ed4}{Req\+File\+Lines}} \mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_a27ea1b373ec62ae92ab1c6863dd92399}{join\+\_\+lines}} (\mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_ae129eaf212f7ad0facffd8677ed86ed4}{Req\+File\+Lines}} lines\+\_\+enum)
\item 
\mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_ae129eaf212f7ad0facffd8677ed86ed4}{Req\+File\+Lines}} \mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_aff44639760cd502c7d257458e5f570d9}{ignore\+\_\+comments}} (\mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_ae129eaf212f7ad0facffd8677ed86ed4}{Req\+File\+Lines}} lines\+\_\+enum)
\item 
\mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_ae129eaf212f7ad0facffd8677ed86ed4}{Req\+File\+Lines}} \mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_a857846b9ba07a368cc0c79102c4872fd}{expand\+\_\+env\+\_\+variables}} (\mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_ae129eaf212f7ad0facffd8677ed86ed4}{Req\+File\+Lines}} lines\+\_\+enum)
\item 
Tuple\mbox{[}str, str\mbox{]} \mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_a359b7e56b1d7cdf2165ce8829e46ca87}{get\+\_\+file\+\_\+content}} (str url, Pip\+Session session)
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_ae129eaf212f7ad0facffd8677ed86ed4}{Req\+File\+Lines}} = Iterable\mbox{[}Tuple\mbox{[}int, str\mbox{]}\mbox{]}
\item 
\mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_a74226905e691c51e0b58ff0eed77683a}{Line\+Parser}} = Callable\mbox{[}\mbox{[}str\mbox{]}, Tuple\mbox{[}str, Values\mbox{]}\mbox{]}
\item 
\mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_a503696c840cfaa133c17775d12afc0e7}{SCHEME\+\_\+\+RE}} = re.\+compile(r"{}\texorpdfstring{$^\wedge$}{\string^}(http\texorpdfstring{$\vert$}{|}https\texorpdfstring{$\vert$}{|}file)\+:"{}, re.\+I)
\item 
\mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_abce5e8f5d29d38fbf2f95a0f8adb8c45}{COMMENT\+\_\+\+RE}} = re.\+compile(r"{}(\texorpdfstring{$^\wedge$}{\string^}\texorpdfstring{$\vert$}{|}\textbackslash{}s+)\#.\texorpdfstring{$\ast$}{*}\$"{})
\item 
\mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_a58b44d82434970cae815792e20a8d8cd}{ENV\+\_\+\+VAR\+\_\+\+RE}} = re.\+compile(r"{}(?P$<$var$>$\textbackslash{}\$\textbackslash{}\{(?P$<$name$>$\mbox{[}A-\/Z0-\/9\+\_\+\mbox{]}+)\textbackslash{}\})"{})
\item 
list \mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_a72bbcbbbd05f18650592730d5fe180df}{SUPPORTED\+\_\+\+OPTIONS}}
\item 
list \mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_a0ccdea5dac200bc708d85e36ee5d9e91}{SUPPORTED\+\_\+\+OPTIONS\+\_\+\+REQ}}
\item 
list \mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_afbbb6c8e6685cd626882e49ef7e2bc17}{SUPPORTED\+\_\+\+OPTIONS\+\_\+\+REQ\+\_\+\+DEST}} = \mbox{[}str(o().dest) \mbox{\hyperlink{prime__search_8m_ace560ef83cc4488bf05ef19ddc3f6f34}{for}} o in \mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_a0ccdea5dac200bc708d85e36ee5d9e91}{SUPPORTED\+\_\+\+OPTIONS\+\_\+\+REQ}}\mbox{]}
\item 
\mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_a0b14e488ae28d98d262453f3e9cd6e4d}{logger}} = logging.\+get\+Logger(\+\_\+\+\_\+name\+\_\+\+\_\+)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}Requirements file parsing
\end{DoxyVerb}
 

\label{doc-func-members}
\Hypertarget{namespacepip_1_1__internal_1_1req_1_1req__file_doc-func-members}
\doxysubsection{Function Documentation}
\Hypertarget{namespacepip_1_1__internal_1_1req_1_1req__file_aaca0cc1c5b6a0abd36e3553a930c76b8}\index{pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}!break\_args\_options@{break\_args\_options}}
\index{break\_args\_options@{break\_args\_options}!pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}}
\doxysubsubsection{\texorpdfstring{break\_args\_options()}{break\_args\_options()}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1req_1_1req__file_aaca0cc1c5b6a0abd36e3553a930c76b8} 
 Tuple\mbox{[}str, str\mbox{]} break\+\_\+args\+\_\+options (\begin{DoxyParamCaption}\item[{str}]{line}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Break up the line into an args and options string.  We only want to shlex
(and then optparse) the options, not the args.  args can contain markers
which are corrupted by shlex.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{req__file_8py_source_l00416}{416}} of file \mbox{\hyperlink{req__file_8py_source}{req\+\_\+file.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00416\ \textcolor{keyword}{def\ }break\_args\_options(line:\ str)\ -\/>\ Tuple[str,\ str]:}
\DoxyCodeLine{00417\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Break\ up\ the\ line\ into\ an\ args\ and\ options\ string.\ \ We\ only\ want\ to\ shlex}}
\DoxyCodeLine{00418\ \textcolor{stringliteral}{\ \ \ \ (and\ then\ optparse)\ the\ options,\ not\ the\ args.\ \ args\ can\ contain\ markers}}
\DoxyCodeLine{00419\ \textcolor{stringliteral}{\ \ \ \ which\ are\ corrupted\ by\ shlex.}}
\DoxyCodeLine{00420\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00421\ \ \ \ \ tokens\ =\ line.split(\textcolor{stringliteral}{"{}\ "{}})}
\DoxyCodeLine{00422\ \ \ \ \ args\ =\ []}
\DoxyCodeLine{00423\ \ \ \ \ options\ =\ tokens[:]}
\DoxyCodeLine{00424\ \ \ \ \ \textcolor{keywordflow}{for}\ token\ \textcolor{keywordflow}{in}\ tokens:}
\DoxyCodeLine{00425\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ token.startswith(\textcolor{stringliteral}{"{}-\/"{}})\ \textcolor{keywordflow}{or}\ token.startswith(\textcolor{stringliteral}{"{}-\/-\/"{}}):}
\DoxyCodeLine{00426\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break}}
\DoxyCodeLine{00427\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00428\ \ \ \ \ \ \ \ \ \ \ \ \ args.append(token)}
\DoxyCodeLine{00429\ \ \ \ \ \ \ \ \ \ \ \ \ options.pop(0)}
\DoxyCodeLine{00430\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}\ "{}}.join(args),\ \textcolor{stringliteral}{"{}\ "{}}.join(options)}
\DoxyCodeLine{00431\ }
\DoxyCodeLine{00432\ }

\end{DoxyCode}


Referenced by \mbox{\hyperlink{req__file_8py_source_l00392}{get\+\_\+line\+\_\+parser()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d27/namespacepip_1_1__internal_1_1req_1_1req__file_aaca0cc1c5b6a0abd36e3553a930c76b8_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacepip_1_1__internal_1_1req_1_1req__file_a7b0dcfe8b96cde936771aee44acb21fb}\index{pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}!build\_parser@{build\_parser}}
\index{build\_parser@{build\_parser}!pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}}
\doxysubsubsection{\texorpdfstring{build\_parser()}{build\_parser()}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1req_1_1req__file_a7b0dcfe8b96cde936771aee44acb21fb} 
 optparse.\+Option\+Parser build\+\_\+parser (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Return a parser for parsing requirement lines
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{req__file_8py_source_l00438}{438}} of file \mbox{\hyperlink{req__file_8py_source}{req\+\_\+file.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00438\ \textcolor{keyword}{def\ }build\_parser()\ -\/>\ optparse.OptionParser:}
\DoxyCodeLine{00439\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00440\ \textcolor{stringliteral}{\ \ \ \ Return\ a\ parser\ for\ parsing\ requirement\ lines}}
\DoxyCodeLine{00441\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00442\ \ \ \ \ parser\ =\ optparse.OptionParser(add\_help\_option=\textcolor{keyword}{False})}
\DoxyCodeLine{00443\ }
\DoxyCodeLine{00444\ \ \ \ \ option\_factories\ =\ SUPPORTED\_OPTIONS\ +\ SUPPORTED\_OPTIONS\_REQ}
\DoxyCodeLine{00445\ \ \ \ \ \textcolor{keywordflow}{for}\ option\_factory\ \textcolor{keywordflow}{in}\ option\_factories:}
\DoxyCodeLine{00446\ \ \ \ \ \ \ \ \ option\ =\ option\_factory()}
\DoxyCodeLine{00447\ \ \ \ \ \ \ \ \ parser.add\_option(option)}
\DoxyCodeLine{00448\ }
\DoxyCodeLine{00449\ \ \ \ \ \textcolor{comment}{\#\ By\ default\ optparse\ sys.exits\ on\ parsing\ errors.\ We\ want\ to\ wrap}}
\DoxyCodeLine{00450\ \ \ \ \ \textcolor{comment}{\#\ that\ in\ our\ own\ exception.}}
\DoxyCodeLine{00451\ \ \ \ \ \textcolor{keyword}{def\ }parser\_exit(self:\ Any,\ msg:\ str)\ -\/>\ \textcolor{stringliteral}{"{}NoReturn"{}}:}
\DoxyCodeLine{00452\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ OptionParsingError(msg)}
\DoxyCodeLine{00453\ }
\DoxyCodeLine{00454\ \ \ \ \ \textcolor{comment}{\#\ NOTE:\ mypy\ disallows\ assigning\ to\ a\ method}}
\DoxyCodeLine{00455\ \ \ \ \ \textcolor{comment}{\#\ \ \ \ \ \ \ https://github.com/python/mypy/issues/2427}}
\DoxyCodeLine{00456\ \ \ \ \ parser.exit\ =\ parser\_exit\ \ \textcolor{comment}{\#\ type:\ ignore}}
\DoxyCodeLine{00457\ }
\DoxyCodeLine{00458\ \ \ \ \ \textcolor{keywordflow}{return}\ parser}
\DoxyCodeLine{00459\ }
\DoxyCodeLine{00460\ }

\end{DoxyCode}


Referenced by \mbox{\hyperlink{req__file_8py_source_l00392}{get\+\_\+line\+\_\+parser()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d27/namespacepip_1_1__internal_1_1req_1_1req__file_a7b0dcfe8b96cde936771aee44acb21fb_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacepip_1_1__internal_1_1req_1_1req__file_a857846b9ba07a368cc0c79102c4872fd}\index{pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}!expand\_env\_variables@{expand\_env\_variables}}
\index{expand\_env\_variables@{expand\_env\_variables}!pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}}
\doxysubsubsection{\texorpdfstring{expand\_env\_variables()}{expand\_env\_variables()}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1req_1_1req__file_a857846b9ba07a368cc0c79102c4872fd} 
 \mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_ae129eaf212f7ad0facffd8677ed86ed4}{Req\+File\+Lines}} expand\+\_\+env\+\_\+variables (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_ae129eaf212f7ad0facffd8677ed86ed4}{Req\+File\+Lines}}}]{lines\+\_\+enum}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Replace all environment variables that can be retrieved via `os.getenv`.

The only allowed format for environment variables defined in the
requirement file is `${MY_VARIABLE_1}` to ensure two things:

1. Strings that contain a `$` aren't accidentally (partially) expanded.
2. Ensure consistency across platforms for requirement files.

These points are the result of a discussion on the `github pull
request #3514 <https://github.com/pypa/pip/pull/3514>`_.

Valid characters in variable names follow the `POSIX standard
<http://pubs.opengroup.org/onlinepubs/9699919799/>`_ and are limited
to uppercase letter, digits and the `_` (underscore).
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{req__file_8py_source_l00503}{503}} of file \mbox{\hyperlink{req__file_8py_source}{req\+\_\+file.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00503\ \textcolor{keyword}{def\ }expand\_env\_variables(lines\_enum:\ ReqFileLines)\ -\/>\ ReqFileLines:}
\DoxyCodeLine{00504\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Replace\ all\ environment\ variables\ that\ can\ be\ retrieved\ via\ \`{}os.getenv\`{}.}}
\DoxyCodeLine{00505\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00506\ \textcolor{stringliteral}{\ \ \ \ The\ only\ allowed\ format\ for\ environment\ variables\ defined\ in\ the}}
\DoxyCodeLine{00507\ \textcolor{stringliteral}{\ \ \ \ requirement\ file\ is\ \`{}\$\{MY\_VARIABLE\_1\}\`{}\ to\ ensure\ two\ things:}}
\DoxyCodeLine{00508\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00509\ \textcolor{stringliteral}{\ \ \ \ 1.\ Strings\ that\ contain\ a\ \`{}\$\`{}\ aren't\ accidentally\ (partially)\ expanded.}}
\DoxyCodeLine{00510\ \textcolor{stringliteral}{\ \ \ \ 2.\ Ensure\ consistency\ across\ platforms\ for\ requirement\ files.}}
\DoxyCodeLine{00511\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00512\ \textcolor{stringliteral}{\ \ \ \ These\ points\ are\ the\ result\ of\ a\ discussion\ on\ the\ \`{}github\ pull}}
\DoxyCodeLine{00513\ \textcolor{stringliteral}{\ \ \ \ request\ \#3514\ <https://github.com/pypa/pip/pull/3514>\`{}\_.}}
\DoxyCodeLine{00514\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00515\ \textcolor{stringliteral}{\ \ \ \ Valid\ characters\ in\ variable\ names\ follow\ the\ \`{}POSIX\ standard}}
\DoxyCodeLine{00516\ \textcolor{stringliteral}{\ \ \ \ <http://pubs.opengroup.org/onlinepubs/9699919799/>\`{}\_\ and\ are\ limited}}
\DoxyCodeLine{00517\ \textcolor{stringliteral}{\ \ \ \ to\ uppercase\ letter,\ digits\ and\ the\ \`{}\_\`{}\ (underscore).}}
\DoxyCodeLine{00518\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00519\ \ \ \ \ \textcolor{keywordflow}{for}\ line\_number,\ line\ \textcolor{keywordflow}{in}\ lines\_enum:}
\DoxyCodeLine{00520\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ env\_var,\ var\_name\ \textcolor{keywordflow}{in}\ ENV\_VAR\_RE.findall(line):}
\DoxyCodeLine{00521\ \ \ \ \ \ \ \ \ \ \ \ \ value\ =\ os.getenv(var\_name)}
\DoxyCodeLine{00522\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ value:}
\DoxyCodeLine{00523\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{00524\ }
\DoxyCodeLine{00525\ \ \ \ \ \ \ \ \ \ \ \ \ line\ =\ line.replace(env\_var,\ value)}
\DoxyCodeLine{00526\ }
\DoxyCodeLine{00527\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{yield}\ line\_number,\ line}
\DoxyCodeLine{00528\ }
\DoxyCodeLine{00529\ }

\end{DoxyCode}


Referenced by \mbox{\hyperlink{req__file_8py_source_l00156}{preprocess()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d27/namespacepip_1_1__internal_1_1req_1_1req__file_a857846b9ba07a368cc0c79102c4872fd_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacepip_1_1__internal_1_1req_1_1req__file_a359b7e56b1d7cdf2165ce8829e46ca87}\index{pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}!get\_file\_content@{get\_file\_content}}
\index{get\_file\_content@{get\_file\_content}!pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}}
\doxysubsubsection{\texorpdfstring{get\_file\_content()}{get\_file\_content()}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1req_1_1req__file_a359b7e56b1d7cdf2165ce8829e46ca87} 
 Tuple\mbox{[}str, str\mbox{]} get\+\_\+file\+\_\+content (\begin{DoxyParamCaption}\item[{str}]{url}{, }\item[{Pip\+Session}]{session}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Gets the content of a file; it may be a filename, file: URL, or
http: URL.  Returns (location, content).  Content is unicode.
Respects # -*- coding: declarations on the retrieved files.

:param url:         File path or url.
:param session:     PipSession instance.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{req__file_8py_source_l00530}{530}} of file \mbox{\hyperlink{req__file_8py_source}{req\+\_\+file.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00530\ \textcolor{keyword}{def\ }get\_file\_content(url:\ str,\ session:\ PipSession)\ -\/>\ Tuple[str,\ str]:}
\DoxyCodeLine{00531\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Gets\ the\ content\ of\ a\ file;\ it\ may\ be\ a\ filename,\ file:\ URL,\ or}}
\DoxyCodeLine{00532\ \textcolor{stringliteral}{\ \ \ \ http:\ URL.\ \ Returns\ (location,\ content).\ \ Content\ is\ unicode.}}
\DoxyCodeLine{00533\ \textcolor{stringliteral}{\ \ \ \ Respects\ \#\ -\/*-\/\ coding:\ declarations\ on\ the\ retrieved\ files.}}
\DoxyCodeLine{00534\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00535\ \textcolor{stringliteral}{\ \ \ \ :param\ url:\ \ \ \ \ \ \ \ \ File\ path\ or\ url.}}
\DoxyCodeLine{00536\ \textcolor{stringliteral}{\ \ \ \ :param\ session:\ \ \ \ \ PipSession\ instance.}}
\DoxyCodeLine{00537\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00538\ \ \ \ \ scheme\ =\ get\_url\_scheme(url)}
\DoxyCodeLine{00539\ }
\DoxyCodeLine{00540\ \ \ \ \ \textcolor{comment}{\#\ Pip\ has\ special\ support\ for\ file://\ URLs\ (LocalFSAdapter).}}
\DoxyCodeLine{00541\ \ \ \ \ \textcolor{keywordflow}{if}\ scheme\ \textcolor{keywordflow}{in}\ [\textcolor{stringliteral}{"{}http"{}},\ \textcolor{stringliteral}{"{}https"{}},\ \textcolor{stringliteral}{"{}file"{}}]:}
\DoxyCodeLine{00542\ \ \ \ \ \ \ \ \ resp\ =\ session.get(url)}
\DoxyCodeLine{00543\ \ \ \ \ \ \ \ \ raise\_for\_status(resp)}
\DoxyCodeLine{00544\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ resp.url,\ resp.text}
\DoxyCodeLine{00545\ }
\DoxyCodeLine{00546\ \ \ \ \ \textcolor{comment}{\#\ Assume\ this\ is\ a\ bare\ path.}}
\DoxyCodeLine{00547\ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{00548\ \ \ \ \ \ \ \ \ \textcolor{keyword}{with}\ open(url,\ \textcolor{stringliteral}{"{}rb"{}})\ \textcolor{keyword}{as}\ f:}
\DoxyCodeLine{00549\ \ \ \ \ \ \ \ \ \ \ \ \ content\ =\ auto\_decode(f.read())}
\DoxyCodeLine{00550\ \ \ \ \ \textcolor{keywordflow}{except}\ OSError\ \textcolor{keyword}{as}\ exc:}
\DoxyCodeLine{00551\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ InstallationError(f\textcolor{stringliteral}{"{}Could\ not\ open\ requirements\ file:\ \{exc\}"{}})}
\DoxyCodeLine{00552\ \ \ \ \ \textcolor{keywordflow}{return}\ url,\ content}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{req__file_8py_source_l00370}{Requirements\+File\+Parser.\+\_\+parse\+\_\+file()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d27/namespacepip_1_1__internal_1_1req_1_1req__file_a359b7e56b1d7cdf2165ce8829e46ca87_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacepip_1_1__internal_1_1req_1_1req__file_af1d7dc2beec61110f68069f7f343b030}\index{pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}!get\_line\_parser@{get\_line\_parser}}
\index{get\_line\_parser@{get\_line\_parser}!pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}}
\doxysubsubsection{\texorpdfstring{get\_line\_parser()}{get\_line\_parser()}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1req_1_1req__file_af1d7dc2beec61110f68069f7f343b030} 
 \mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_a74226905e691c51e0b58ff0eed77683a}{Line\+Parser}} get\+\_\+line\+\_\+parser (\begin{DoxyParamCaption}\item[{Optional\mbox{[}"{}Package\+Finder"{}\mbox{]}}]{finder}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{req__file_8py_source_l00392}{392}} of file \mbox{\hyperlink{req__file_8py_source}{req\+\_\+file.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00392\ \textcolor{keyword}{def\ }get\_line\_parser(finder:\ Optional[\textcolor{stringliteral}{"{}PackageFinder"{}}])\ -\/>\ LineParser:}
\DoxyCodeLine{00393\ \ \ \ \ \textcolor{keyword}{def\ }parse\_line(line:\ str)\ -\/>\ Tuple[str,\ Values]:}
\DoxyCodeLine{00394\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Build\ new\ parser\ for\ each\ line\ since\ it\ accumulates\ appendable}}
\DoxyCodeLine{00395\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ options.}}
\DoxyCodeLine{00396\ \ \ \ \ \ \ \ \ parser\ =\ build\_parser()}
\DoxyCodeLine{00397\ \ \ \ \ \ \ \ \ defaults\ =\ parser.get\_default\_values()}
\DoxyCodeLine{00398\ \ \ \ \ \ \ \ \ defaults.index\_url\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00399\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ finder:}
\DoxyCodeLine{00400\ \ \ \ \ \ \ \ \ \ \ \ \ defaults.format\_control\ =\ finder.format\_control}
\DoxyCodeLine{00401\ }
\DoxyCodeLine{00402\ \ \ \ \ \ \ \ \ args\_str,\ options\_str\ =\ break\_args\_options(line)}
\DoxyCodeLine{00403\ }
\DoxyCodeLine{00404\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{00405\ \ \ \ \ \ \ \ \ \ \ \ \ options\ =\ shlex.split(options\_str)}
\DoxyCodeLine{00406\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ ValueError\ \textcolor{keyword}{as}\ e:}
\DoxyCodeLine{00407\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ OptionParsingError(f\textcolor{stringliteral}{"{}Could\ not\ split\ options:\ \{options\_str\}"{}})\ \textcolor{keyword}{from}\ e}
\DoxyCodeLine{00408\ }
\DoxyCodeLine{00409\ \ \ \ \ \ \ \ \ opts,\ \_\ =\ parser.parse\_args(options,\ defaults)}
\DoxyCodeLine{00410\ }
\DoxyCodeLine{00411\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ args\_str,\ opts}
\DoxyCodeLine{00412\ }
\DoxyCodeLine{00413\ \ \ \ \ \textcolor{keywordflow}{return}\ parse\_line}
\DoxyCodeLine{00414\ }
\DoxyCodeLine{00415\ }

\end{DoxyCode}


References \mbox{\hyperlink{req__file_8py_source_l00416}{break\+\_\+args\+\_\+options()}}, and \mbox{\hyperlink{req__file_8py_source_l00438}{build\+\_\+parser()}}.



Referenced by \mbox{\hyperlink{req__file_8py_source_l00135}{parse\+\_\+requirements()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=299pt]{d9/d27/namespacepip_1_1__internal_1_1req_1_1req__file_af1d7dc2beec61110f68069f7f343b030_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=300pt]{d9/d27/namespacepip_1_1__internal_1_1req_1_1req__file_af1d7dc2beec61110f68069f7f343b030_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacepip_1_1__internal_1_1req_1_1req__file_abc19f8ce1ee7e358168ab8071f490eb4}\index{pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}!handle\_line@{handle\_line}}
\index{handle\_line@{handle\_line}!pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}}
\doxysubsubsection{\texorpdfstring{handle\_line()}{handle\_line()}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1req_1_1req__file_abc19f8ce1ee7e358168ab8071f490eb4} 
 Optional\mbox{[}\mbox{\hyperlink{classpip_1_1__internal_1_1req_1_1req__file_1_1_parsed_requirement}{Parsed\+Requirement}}\mbox{]} handle\+\_\+line (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classpip_1_1__internal_1_1req_1_1req__file_1_1_parsed_line}{Parsed\+Line}}}]{line}{, }\item[{Optional\mbox{[}optparse.\+Values\mbox{]} }]{options}{ = {\ttfamily None}, }\item[{Optional\mbox{[}"{}Package\+Finder"{}\mbox{]} }]{finder}{ = {\ttfamily None}, }\item[{Optional\mbox{[}Pip\+Session\mbox{]} }]{session}{ = {\ttfamily None}}\end{DoxyParamCaption})}

\begin{DoxyVerb}Handle a single parsed requirements line; This can result in
creating/yielding requirements, or updating the finder.

:param line:        The parsed line to be processed.
:param options:     CLI options.
:param finder:      The finder - updated by non-requirement lines.
:param session:     The session - updated by non-requirement lines.

Returns a ParsedRequirement object if the line is a requirement line,
otherwise returns None.

For lines that contain requirements, the only options that have an effect
are from SUPPORTED_OPTIONS_REQ, and they are scoped to the
requirement. Other options from SUPPORTED_OPTIONS may be present, but are
ignored.

For lines that do not contain requirements, the only options that have an
effect are from SUPPORTED_OPTIONS. Options from SUPPORTED_OPTIONS_REQ may
be present, but are ignored. These lines may contain multiple options
(although our docs imply only one is supported), and all our parsed and
affect the finder.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{req__file_8py_source_l00278}{278}} of file \mbox{\hyperlink{req__file_8py_source}{req\+\_\+file.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00283\ )\ -\/>\ Optional[ParsedRequirement]:}
\DoxyCodeLine{00284\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Handle\ a\ single\ parsed\ requirements\ line;\ This\ can\ result\ in}}
\DoxyCodeLine{00285\ \textcolor{stringliteral}{\ \ \ \ creating/yielding\ requirements,\ or\ updating\ the\ finder.}}
\DoxyCodeLine{00286\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00287\ \textcolor{stringliteral}{\ \ \ \ :param\ line:\ \ \ \ \ \ \ \ The\ parsed\ line\ to\ be\ processed.}}
\DoxyCodeLine{00288\ \textcolor{stringliteral}{\ \ \ \ :param\ options:\ \ \ \ \ CLI\ options.}}
\DoxyCodeLine{00289\ \textcolor{stringliteral}{\ \ \ \ :param\ finder:\ \ \ \ \ \ The\ finder\ -\/\ updated\ by\ non-\/requirement\ lines.}}
\DoxyCodeLine{00290\ \textcolor{stringliteral}{\ \ \ \ :param\ session:\ \ \ \ \ The\ session\ -\/\ updated\ by\ non-\/requirement\ lines.}}
\DoxyCodeLine{00291\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00292\ \textcolor{stringliteral}{\ \ \ \ Returns\ a\ ParsedRequirement\ object\ if\ the\ line\ is\ a\ requirement\ line,}}
\DoxyCodeLine{00293\ \textcolor{stringliteral}{\ \ \ \ otherwise\ returns\ None.}}
\DoxyCodeLine{00294\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00295\ \textcolor{stringliteral}{\ \ \ \ For\ lines\ that\ contain\ requirements,\ the\ only\ options\ that\ have\ an\ effect}}
\DoxyCodeLine{00296\ \textcolor{stringliteral}{\ \ \ \ are\ from\ SUPPORTED\_OPTIONS\_REQ,\ and\ they\ are\ scoped\ to\ the}}
\DoxyCodeLine{00297\ \textcolor{stringliteral}{\ \ \ \ requirement.\ Other\ options\ from\ SUPPORTED\_OPTIONS\ may\ be\ present,\ but\ are}}
\DoxyCodeLine{00298\ \textcolor{stringliteral}{\ \ \ \ ignored.}}
\DoxyCodeLine{00299\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00300\ \textcolor{stringliteral}{\ \ \ \ For\ lines\ that\ do\ not\ contain\ requirements,\ the\ only\ options\ that\ have\ an}}
\DoxyCodeLine{00301\ \textcolor{stringliteral}{\ \ \ \ effect\ are\ from\ SUPPORTED\_OPTIONS.\ Options\ from\ SUPPORTED\_OPTIONS\_REQ\ may}}
\DoxyCodeLine{00302\ \textcolor{stringliteral}{\ \ \ \ be\ present,\ but\ are\ ignored.\ These\ lines\ may\ contain\ multiple\ options}}
\DoxyCodeLine{00303\ \textcolor{stringliteral}{\ \ \ \ (although\ our\ docs\ imply\ only\ one\ is\ supported),\ and\ all\ our\ parsed\ and}}
\DoxyCodeLine{00304\ \textcolor{stringliteral}{\ \ \ \ affect\ the\ finder.}}
\DoxyCodeLine{00305\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00306\ }
\DoxyCodeLine{00307\ \ \ \ \ \textcolor{keywordflow}{if}\ line.is\_requirement:}
\DoxyCodeLine{00308\ \ \ \ \ \ \ \ \ parsed\_req\ =\ handle\_requirement\_line(line,\ options)}
\DoxyCodeLine{00309\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ parsed\_req}
\DoxyCodeLine{00310\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00311\ \ \ \ \ \ \ \ \ handle\_option\_line(}
\DoxyCodeLine{00312\ \ \ \ \ \ \ \ \ \ \ \ \ line.opts,}
\DoxyCodeLine{00313\ \ \ \ \ \ \ \ \ \ \ \ \ line.filename,}
\DoxyCodeLine{00314\ \ \ \ \ \ \ \ \ \ \ \ \ line.lineno,}
\DoxyCodeLine{00315\ \ \ \ \ \ \ \ \ \ \ \ \ finder,}
\DoxyCodeLine{00316\ \ \ \ \ \ \ \ \ \ \ \ \ options,}
\DoxyCodeLine{00317\ \ \ \ \ \ \ \ \ \ \ \ \ session,}
\DoxyCodeLine{00318\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{00319\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00320\ }
\DoxyCodeLine{00321\ }

\end{DoxyCode}


References \mbox{\hyperlink{req__file_8py_source_l00215}{handle\+\_\+option\+\_\+line()}}, and \mbox{\hyperlink{req__file_8py_source_l00171}{handle\+\_\+requirement\+\_\+line()}}.



Referenced by \mbox{\hyperlink{req__file_8py_source_l00135}{parse\+\_\+requirements()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=302pt]{d9/d27/namespacepip_1_1__internal_1_1req_1_1req__file_abc19f8ce1ee7e358168ab8071f490eb4_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=282pt]{d9/d27/namespacepip_1_1__internal_1_1req_1_1req__file_abc19f8ce1ee7e358168ab8071f490eb4_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacepip_1_1__internal_1_1req_1_1req__file_a7c575760fe0d7fe662016a5675e59572}\index{pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}!handle\_option\_line@{handle\_option\_line}}
\index{handle\_option\_line@{handle\_option\_line}!pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}}
\doxysubsubsection{\texorpdfstring{handle\_option\_line()}{handle\_option\_line()}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1req_1_1req__file_a7c575760fe0d7fe662016a5675e59572} 
 None handle\+\_\+option\+\_\+line (\begin{DoxyParamCaption}\item[{Values}]{opts}{, }\item[{str}]{filename}{, }\item[{int}]{lineno}{, }\item[{Optional\mbox{[}"{}Package\+Finder"{}\mbox{]} }]{finder}{ = {\ttfamily None}, }\item[{Optional\mbox{[}optparse.\+Values\mbox{]} }]{options}{ = {\ttfamily None}, }\item[{Optional\mbox{[}Pip\+Session\mbox{]} }]{session}{ = {\ttfamily None}}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{req__file_8py_source_l00208}{208}} of file \mbox{\hyperlink{req__file_8py_source}{req\+\_\+file.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00215\ )\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{00216\ \ \ \ \ \textcolor{keywordflow}{if}\ opts.hashes:}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ logger.warning(}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\%s\ line\ \%s\ has\ -\/-\/hash\ but\ no\ requirement,\ and\ will\ be\ ignored."{}},}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ \ \ \ \ filename,}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ \ \ \ \ lineno,}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{00222\ }
\DoxyCodeLine{00223\ \ \ \ \ \textcolor{keywordflow}{if}\ options:}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ percolate\ options\ upward}}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ opts.require\_hashes:}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \ \ \ \ options.require\_hashes\ =\ opts.require\_hashes}
\DoxyCodeLine{00227\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ opts.features\_enabled:}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ \ \ \ \ options.features\_enabled.extend(}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\ \textcolor{keywordflow}{for}\ f\ \textcolor{keywordflow}{in}\ opts.features\_enabled\ \textcolor{keywordflow}{if}\ f\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ options.features\_enabled}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{00231\ }
\DoxyCodeLine{00232\ \ \ \ \ \textcolor{comment}{\#\ set\ finder\ options}}
\DoxyCodeLine{00233\ \ \ \ \ \textcolor{keywordflow}{if}\ finder:}
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ find\_links\ =\ finder.find\_links}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ index\_urls\ =\ finder.index\_urls}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ no\_index\ =\ finder.search\_scope.no\_index}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ opts.no\_index\ \textcolor{keywordflow}{is}\ \textcolor{keyword}{True}:}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ \ \ \ \ no\_index\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{00239\ \ \ \ \ \ \ \ \ \ \ \ \ index\_urls\ =\ []}
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ opts.index\_url\ \textcolor{keywordflow}{and}\ \textcolor{keywordflow}{not}\ no\_index:}
\DoxyCodeLine{00241\ \ \ \ \ \ \ \ \ \ \ \ \ index\_urls\ =\ [opts.index\_url]}
\DoxyCodeLine{00242\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ opts.extra\_index\_urls\ \textcolor{keywordflow}{and}\ \textcolor{keywordflow}{not}\ no\_index:}
\DoxyCodeLine{00243\ \ \ \ \ \ \ \ \ \ \ \ \ index\_urls.extend(opts.extra\_index\_urls)}
\DoxyCodeLine{00244\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ opts.find\_links:}
\DoxyCodeLine{00245\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ FIXME:\ it\ would\ be\ nice\ to\ keep\ track\ of\ the\ source}}
\DoxyCodeLine{00246\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ of\ the\ find\_links:\ support\ a\ find-\/links\ local\ path}}
\DoxyCodeLine{00247\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ relative\ to\ a\ requirements\ file.}}
\DoxyCodeLine{00248\ \ \ \ \ \ \ \ \ \ \ \ \ value\ =\ opts.find\_links[0]}
\DoxyCodeLine{00249\ \ \ \ \ \ \ \ \ \ \ \ \ req\_dir\ =\ os.path.dirname(os.path.abspath(filename))}
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ \ \ \ \ relative\_to\_reqs\_file\ =\ os.path.join(req\_dir,\ value)}
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ os.path.exists(relative\_to\_reqs\_file):}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ value\ =\ relative\_to\_reqs\_file}
\DoxyCodeLine{00253\ \ \ \ \ \ \ \ \ \ \ \ \ find\_links.append(value)}
\DoxyCodeLine{00254\ }
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ session:}
\DoxyCodeLine{00256\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ We\ need\ to\ update\ the\ auth\ urls\ in\ session}}
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ \ \ \ \ session.update\_index\_urls(index\_urls)}
\DoxyCodeLine{00258\ }
\DoxyCodeLine{00259\ \ \ \ \ \ \ \ \ search\_scope\ =\ SearchScope(}
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ \ \ \ \ find\_links=find\_links,}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ \ \ \ \ index\_urls=index\_urls,}
\DoxyCodeLine{00262\ \ \ \ \ \ \ \ \ \ \ \ \ no\_index=no\_index,}
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{00264\ \ \ \ \ \ \ \ \ finder.search\_scope\ =\ search\_scope}
\DoxyCodeLine{00265\ }
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ opts.pre:}
\DoxyCodeLine{00267\ \ \ \ \ \ \ \ \ \ \ \ \ finder.set\_allow\_all\_prereleases()}
\DoxyCodeLine{00268\ }
\DoxyCodeLine{00269\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ opts.prefer\_binary:}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \ \ \ \ finder.set\_prefer\_binary()}
\DoxyCodeLine{00271\ }
\DoxyCodeLine{00272\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ session:}
\DoxyCodeLine{00273\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ host\ \textcolor{keywordflow}{in}\ opts.trusted\_hosts\ \textcolor{keywordflow}{or}\ []:}
\DoxyCodeLine{00274\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ source\ =\ f\textcolor{stringliteral}{"{}line\ \{lineno\}\ of\ \{filename\}"{}}}
\DoxyCodeLine{00275\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ session.add\_trusted\_host(host,\ source=source)}
\DoxyCodeLine{00276\ }
\DoxyCodeLine{00277\ }

\end{DoxyCode}


Referenced by \mbox{\hyperlink{req__file_8py_source_l00283}{handle\+\_\+line()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d27/namespacepip_1_1__internal_1_1req_1_1req__file_a7c575760fe0d7fe662016a5675e59572_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacepip_1_1__internal_1_1req_1_1req__file_a60981b85cc3815ee0ced89b87d08c16b}\index{pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}!handle\_requirement\_line@{handle\_requirement\_line}}
\index{handle\_requirement\_line@{handle\_requirement\_line}!pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}}
\doxysubsubsection{\texorpdfstring{handle\_requirement\_line()}{handle\_requirement\_line()}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1req_1_1req__file_a60981b85cc3815ee0ced89b87d08c16b} 
 \mbox{\hyperlink{classpip_1_1__internal_1_1req_1_1req__file_1_1_parsed_requirement}{Parsed\+Requirement}} handle\+\_\+requirement\+\_\+line (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classpip_1_1__internal_1_1req_1_1req__file_1_1_parsed_line}{Parsed\+Line}}}]{line}{, }\item[{Optional\mbox{[}optparse.\+Values\mbox{]} }]{options}{ = {\ttfamily None}}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{req__file_8py_source_l00168}{168}} of file \mbox{\hyperlink{req__file_8py_source}{req\+\_\+file.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00171\ )\ -\/>\ ParsedRequirement:}
\DoxyCodeLine{00172\ \ \ \ \ \textcolor{comment}{\#\ preserve\ for\ the\ nested\ code\ path}}
\DoxyCodeLine{00173\ \ \ \ \ line\_comes\_from\ =\ \textcolor{stringliteral}{"{}\{\}\ \{\}\ (line\ \{\})"{}}.format(}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}-\/c"{}}\ \textcolor{keywordflow}{if}\ line.constraint\ \textcolor{keywordflow}{else}\ \textcolor{stringliteral}{"{}-\/r"{}},}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ line.filename,}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ line.lineno,}
\DoxyCodeLine{00177\ \ \ \ \ )}
\DoxyCodeLine{00178\ }
\DoxyCodeLine{00179\ \ \ \ \ \textcolor{keyword}{assert}\ line.is\_requirement}
\DoxyCodeLine{00180\ }
\DoxyCodeLine{00181\ \ \ \ \ \textcolor{keywordflow}{if}\ line.is\_editable:}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ For\ editable\ requirements,\ we\ don't\ support\ per-\/requirement}}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ options,\ so\ just\ return\ the\ parsed\ requirement.}}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ParsedRequirement(}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ \ \ \ \ requirement=line.requirement,}
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ \ \ \ \ is\_editable=line.is\_editable,}
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \ \ \ \ comes\_from=line\_comes\_from,}
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \ \ \ \ constraint=line.constraint,}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{00190\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ get\ the\ options\ that\ apply\ to\ requirements}}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ req\_options\ =\ \{\}}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ dest\ \textcolor{keywordflow}{in}\ SUPPORTED\_OPTIONS\_REQ\_DEST:}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ dest\ \textcolor{keywordflow}{in}\ line.opts.\_\_dict\_\_\ \textcolor{keywordflow}{and}\ line.opts.\_\_dict\_\_[dest]:}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ req\_options[dest]\ =\ line.opts.\_\_dict\_\_[dest]}
\DoxyCodeLine{00196\ }
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ line\_source\ =\ f\textcolor{stringliteral}{"{}line\ \{line.lineno\}\ of\ \{line.filename\}"{}}}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ParsedRequirement(}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \ \ \ \ requirement=line.requirement,}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \ \ \ \ is\_editable=line.is\_editable,}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \ \ \ \ comes\_from=line\_comes\_from,}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \ \ \ \ constraint=line.constraint,}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \ \ \ \ options=req\_options,}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \ \ \ \ line\_source=line\_source,}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{00206\ }
\DoxyCodeLine{00207\ }

\end{DoxyCode}


Referenced by \mbox{\hyperlink{req__file_8py_source_l00283}{handle\+\_\+line()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d27/namespacepip_1_1__internal_1_1req_1_1req__file_a60981b85cc3815ee0ced89b87d08c16b_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacepip_1_1__internal_1_1req_1_1req__file_aff44639760cd502c7d257458e5f570d9}\index{pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}!ignore\_comments@{ignore\_comments}}
\index{ignore\_comments@{ignore\_comments}!pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}}
\doxysubsubsection{\texorpdfstring{ignore\_comments()}{ignore\_comments()}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1req_1_1req__file_aff44639760cd502c7d257458e5f570d9} 
 \mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_ae129eaf212f7ad0facffd8677ed86ed4}{Req\+File\+Lines}} ignore\+\_\+comments (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_ae129eaf212f7ad0facffd8677ed86ed4}{Req\+File\+Lines}}}]{lines\+\_\+enum}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Strips comments and filter empty lines.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{req__file_8py_source_l00492}{492}} of file \mbox{\hyperlink{req__file_8py_source}{req\+\_\+file.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00492\ \textcolor{keyword}{def\ }ignore\_comments(lines\_enum:\ ReqFileLines)\ -\/>\ ReqFileLines:}
\DoxyCodeLine{00493\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00494\ \textcolor{stringliteral}{\ \ \ \ Strips\ comments\ and\ filter\ empty\ lines.}}
\DoxyCodeLine{00495\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00496\ \ \ \ \ \textcolor{keywordflow}{for}\ line\_number,\ line\ \textcolor{keywordflow}{in}\ lines\_enum:}
\DoxyCodeLine{00497\ \ \ \ \ \ \ \ \ line\ =\ COMMENT\_RE.sub(\textcolor{stringliteral}{"{}"{}},\ line)}
\DoxyCodeLine{00498\ \ \ \ \ \ \ \ \ line\ =\ line.strip()}
\DoxyCodeLine{00499\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ line:}
\DoxyCodeLine{00500\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{yield}\ line\_number,\ line}
\DoxyCodeLine{00501\ }
\DoxyCodeLine{00502\ }

\end{DoxyCode}


Referenced by \mbox{\hyperlink{req__file_8py_source_l00156}{preprocess()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d27/namespacepip_1_1__internal_1_1req_1_1req__file_aff44639760cd502c7d257458e5f570d9_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacepip_1_1__internal_1_1req_1_1req__file_a27ea1b373ec62ae92ab1c6863dd92399}\index{pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}!join\_lines@{join\_lines}}
\index{join\_lines@{join\_lines}!pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}}
\doxysubsubsection{\texorpdfstring{join\_lines()}{join\_lines()}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1req_1_1req__file_a27ea1b373ec62ae92ab1c6863dd92399} 
 \mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_ae129eaf212f7ad0facffd8677ed86ed4}{Req\+File\+Lines}} join\+\_\+lines (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_ae129eaf212f7ad0facffd8677ed86ed4}{Req\+File\+Lines}}}]{lines\+\_\+enum}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Joins a line ending in '\' with the previous line (except when following
comments).  The joined line takes on the index of the first line.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{req__file_8py_source_l00461}{461}} of file \mbox{\hyperlink{req__file_8py_source}{req\+\_\+file.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00461\ \textcolor{keyword}{def\ }join\_lines(lines\_enum:\ ReqFileLines)\ -\/>\ ReqFileLines:}
\DoxyCodeLine{00462\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Joins\ a\ line\ ending\ in\ '\(\backslash\)'\ with\ the\ previous\ line\ (except\ when\ following}}
\DoxyCodeLine{00463\ \textcolor{stringliteral}{\ \ \ \ comments).\ \ The\ joined\ line\ takes\ on\ the\ index\ of\ the\ first\ line.}}
\DoxyCodeLine{00464\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00465\ \ \ \ \ primary\_line\_number\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00466\ \ \ \ \ new\_line:\ List[str]\ =\ []}
\DoxyCodeLine{00467\ \ \ \ \ \textcolor{keywordflow}{for}\ line\_number,\ line\ \textcolor{keywordflow}{in}\ lines\_enum:}
\DoxyCodeLine{00468\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ line.endswith(\textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)"{}})\ \textcolor{keywordflow}{or}\ COMMENT\_RE.match(line):}
\DoxyCodeLine{00469\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ COMMENT\_RE.match(line):}
\DoxyCodeLine{00470\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ this\ ensures\ comments\ are\ always\ matched\ later}}
\DoxyCodeLine{00471\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ line\ =\ \textcolor{stringliteral}{"{}\ "{}}\ +\ line}
\DoxyCodeLine{00472\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ new\_line:}
\DoxyCodeLine{00473\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ new\_line.append(line)}
\DoxyCodeLine{00474\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ primary\_line\_number\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00475\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{yield}\ primary\_line\_number,\ \textcolor{stringliteral}{"{}"{}}.join(new\_line)}
\DoxyCodeLine{00476\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ new\_line\ =\ []}
\DoxyCodeLine{00477\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00478\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{yield}\ line\_number,\ line}
\DoxyCodeLine{00479\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00480\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ new\_line:}
\DoxyCodeLine{00481\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ primary\_line\_number\ =\ line\_number}
\DoxyCodeLine{00482\ \ \ \ \ \ \ \ \ \ \ \ \ new\_line.append(line.strip(\textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)"{}}))}
\DoxyCodeLine{00483\ }
\DoxyCodeLine{00484\ \ \ \ \ \textcolor{comment}{\#\ last\ line\ contains\ \(\backslash\)}}
\DoxyCodeLine{00485\ \ \ \ \ \textcolor{keywordflow}{if}\ new\_line:}
\DoxyCodeLine{00486\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ primary\_line\_number\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00487\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{yield}\ primary\_line\_number,\ \textcolor{stringliteral}{"{}"{}}.join(new\_line)}
\DoxyCodeLine{00488\ }
\DoxyCodeLine{00489\ \ \ \ \ \textcolor{comment}{\#\ TODO:\ handle\ space\ after\ '\(\backslash\)'.}}
\DoxyCodeLine{00490\ }
\DoxyCodeLine{00491\ }

\end{DoxyCode}


Referenced by \mbox{\hyperlink{req__file_8py_source_l00156}{preprocess()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d27/namespacepip_1_1__internal_1_1req_1_1req__file_a27ea1b373ec62ae92ab1c6863dd92399_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacepip_1_1__internal_1_1req_1_1req__file_ab7b5f712ad7c44406f380c178dffd9f3}\index{pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}!parse\_requirements@{parse\_requirements}}
\index{parse\_requirements@{parse\_requirements}!pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}}
\doxysubsubsection{\texorpdfstring{parse\_requirements()}{parse\_requirements()}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1req_1_1req__file_ab7b5f712ad7c44406f380c178dffd9f3} 
 Generator\mbox{[}\mbox{\hyperlink{classpip_1_1__internal_1_1req_1_1req__file_1_1_parsed_requirement}{Parsed\+Requirement}}, None, None\mbox{]} parse\+\_\+requirements (\begin{DoxyParamCaption}\item[{str}]{filename}{, }\item[{Pip\+Session}]{session}{, }\item[{Optional\mbox{[}"{}Package\+Finder"{}\mbox{]} }]{finder}{ = {\ttfamily None}, }\item[{Optional\mbox{[}optparse.\+Values\mbox{]} }]{options}{ = {\ttfamily None}, }\item[{bool }]{constraint}{ = {\ttfamily False}}\end{DoxyParamCaption})}

\begin{DoxyVerb}Parse a requirements file and yield ParsedRequirement instances.

:param filename:    Path or url of requirements file.
:param session:     PipSession instance.
:param finder:      Instance of pip.index.PackageFinder.
:param options:     cli options.
:param constraint:  If true, parsing a constraint file rather than
    requirements file.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{req__file_8py_source_l00129}{129}} of file \mbox{\hyperlink{req__file_8py_source}{req\+\_\+file.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00135\ )\ -\/>\ Generator[ParsedRequirement,\ \textcolor{keywordtype}{None},\ \textcolor{keywordtype}{None}]:}
\DoxyCodeLine{00136\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Parse\ a\ requirements\ file\ and\ yield\ ParsedRequirement\ instances.}}
\DoxyCodeLine{00137\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00138\ \textcolor{stringliteral}{\ \ \ \ :param\ filename:\ \ \ \ Path\ or\ url\ of\ requirements\ file.}}
\DoxyCodeLine{00139\ \textcolor{stringliteral}{\ \ \ \ :param\ session:\ \ \ \ \ PipSession\ instance.}}
\DoxyCodeLine{00140\ \textcolor{stringliteral}{\ \ \ \ :param\ finder:\ \ \ \ \ \ Instance\ of\ pip.index.PackageFinder.}}
\DoxyCodeLine{00141\ \textcolor{stringliteral}{\ \ \ \ :param\ options:\ \ \ \ \ cli\ options.}}
\DoxyCodeLine{00142\ \textcolor{stringliteral}{\ \ \ \ :param\ constraint:\ \ If\ true,\ parsing\ a\ constraint\ file\ rather\ than}}
\DoxyCodeLine{00143\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ requirements\ file.}}
\DoxyCodeLine{00144\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00145\ \ \ \ \ line\_parser\ =\ get\_line\_parser(finder)}
\DoxyCodeLine{00146\ \ \ \ \ parser\ =\ RequirementsFileParser(session,\ line\_parser)}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00148\ \ \ \ \ \textcolor{keywordflow}{for}\ parsed\_line\ \textcolor{keywordflow}{in}\ parser.parse(filename,\ constraint):}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ parsed\_req\ =\ handle\_line(}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \ \ \ \ parsed\_line,\ options=options,\ finder=finder,\ session=session}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ parsed\_req\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{yield}\ parsed\_req}
\DoxyCodeLine{00154\ }
\DoxyCodeLine{00155\ }

\end{DoxyCode}


References \mbox{\hyperlink{req__file_8py_source_l00392}{get\+\_\+line\+\_\+parser()}}, and \mbox{\hyperlink{req__file_8py_source_l00283}{handle\+\_\+line()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d27/namespacepip_1_1__internal_1_1req_1_1req__file_ab7b5f712ad7c44406f380c178dffd9f3_cgraph}
\end{center}
\end{figure}
\Hypertarget{namespacepip_1_1__internal_1_1req_1_1req__file_abd393a75b3aa32c810d71d9b2ed15c8a}\index{pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}!preprocess@{preprocess}}
\index{preprocess@{preprocess}!pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}}
\doxysubsubsection{\texorpdfstring{preprocess()}{preprocess()}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1req_1_1req__file_abd393a75b3aa32c810d71d9b2ed15c8a} 
 \mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_ae129eaf212f7ad0facffd8677ed86ed4}{Req\+File\+Lines}} preprocess (\begin{DoxyParamCaption}\item[{str}]{content}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Split, filter, and join lines, and return a line iterator

:param content: the content of the requirements file
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{req__file_8py_source_l00156}{156}} of file \mbox{\hyperlink{req__file_8py_source}{req\+\_\+file.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00156\ \textcolor{keyword}{def\ }preprocess(content:\ str)\ -\/>\ ReqFileLines:}
\DoxyCodeLine{00157\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Split,\ filter,\ and\ join\ lines,\ and\ return\ a\ line\ iterator}}
\DoxyCodeLine{00158\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00159\ \textcolor{stringliteral}{\ \ \ \ :param\ content:\ the\ content\ of\ the\ requirements\ file}}
\DoxyCodeLine{00160\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00161\ \ \ \ \ lines\_enum:\ ReqFileLines\ =\ enumerate(content.splitlines(),\ start=1)}
\DoxyCodeLine{00162\ \ \ \ \ lines\_enum\ =\ join\_lines(lines\_enum)}
\DoxyCodeLine{00163\ \ \ \ \ lines\_enum\ =\ ignore\_comments(lines\_enum)}
\DoxyCodeLine{00164\ \ \ \ \ lines\_enum\ =\ expand\_env\_variables(lines\_enum)}
\DoxyCodeLine{00165\ \ \ \ \ \textcolor{keywordflow}{return}\ lines\_enum}
\DoxyCodeLine{00166\ }
\DoxyCodeLine{00167\ }

\end{DoxyCode}


References \mbox{\hyperlink{req__file_8py_source_l00503}{expand\+\_\+env\+\_\+variables()}}, \mbox{\hyperlink{req__file_8py_source_l00492}{ignore\+\_\+comments()}}, and \mbox{\hyperlink{req__file_8py_source_l00461}{join\+\_\+lines()}}.



Referenced by \mbox{\hyperlink{req__file_8py_source_l00370}{Requirements\+File\+Parser.\+\_\+parse\+\_\+file()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=293pt]{d9/d27/namespacepip_1_1__internal_1_1req_1_1req__file_abd393a75b3aa32c810d71d9b2ed15c8a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d27/namespacepip_1_1__internal_1_1req_1_1req__file_abd393a75b3aa32c810d71d9b2ed15c8a_icgraph}
\end{center}
\end{figure}


\label{doc-var-members}
\Hypertarget{namespacepip_1_1__internal_1_1req_1_1req__file_doc-var-members}
\doxysubsection{Variable Documentation}
\Hypertarget{namespacepip_1_1__internal_1_1req_1_1req__file_abce5e8f5d29d38fbf2f95a0f8adb8c45}\index{pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}!COMMENT\_RE@{COMMENT\_RE}}
\index{COMMENT\_RE@{COMMENT\_RE}!pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}}
\doxysubsubsection{\texorpdfstring{COMMENT\_RE}{COMMENT\_RE}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1req_1_1req__file_abce5e8f5d29d38fbf2f95a0f8adb8c45} 
COMMENT\+\_\+\+RE = re.\+compile(r"{}(\texorpdfstring{$^\wedge$}{\string^}\texorpdfstring{$\vert$}{|}\textbackslash{}s+)\#.\texorpdfstring{$\ast$}{*}\$"{})}



Definition at line \mbox{\hyperlink{req__file_8py_source_l00046}{46}} of file \mbox{\hyperlink{req__file_8py_source}{req\+\_\+file.\+py}}.

\Hypertarget{namespacepip_1_1__internal_1_1req_1_1req__file_a58b44d82434970cae815792e20a8d8cd}\index{pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}!ENV\_VAR\_RE@{ENV\_VAR\_RE}}
\index{ENV\_VAR\_RE@{ENV\_VAR\_RE}!pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}}
\doxysubsubsection{\texorpdfstring{ENV\_VAR\_RE}{ENV\_VAR\_RE}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1req_1_1req__file_a58b44d82434970cae815792e20a8d8cd} 
ENV\+\_\+\+VAR\+\_\+\+RE = re.\+compile(r"{}(?P$<$var$>$\textbackslash{}\$\textbackslash{}\{(?P$<$name$>$\mbox{[}A-\/Z0-\/9\+\_\+\mbox{]}+)\textbackslash{}\})"{})}



Definition at line \mbox{\hyperlink{req__file_8py_source_l00052}{52}} of file \mbox{\hyperlink{req__file_8py_source}{req\+\_\+file.\+py}}.

\Hypertarget{namespacepip_1_1__internal_1_1req_1_1req__file_a74226905e691c51e0b58ff0eed77683a}\index{pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}!LineParser@{LineParser}}
\index{LineParser@{LineParser}!pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}}
\doxysubsubsection{\texorpdfstring{LineParser}{LineParser}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1req_1_1req__file_a74226905e691c51e0b58ff0eed77683a} 
Line\+Parser = Callable\mbox{[}\mbox{[}str\mbox{]}, Tuple\mbox{[}str, Values\mbox{]}\mbox{]}}



Definition at line \mbox{\hyperlink{req__file_8py_source_l00043}{43}} of file \mbox{\hyperlink{req__file_8py_source}{req\+\_\+file.\+py}}.

\Hypertarget{namespacepip_1_1__internal_1_1req_1_1req__file_a0b14e488ae28d98d262453f3e9cd6e4d}\index{pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}!logger@{logger}}
\index{logger@{logger}!pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}}
\doxysubsubsection{\texorpdfstring{logger}{logger}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1req_1_1req__file_a0b14e488ae28d98d262453f3e9cd6e4d} 
logger = logging.\+get\+Logger(\+\_\+\+\_\+name\+\_\+\+\_\+)}



Definition at line \mbox{\hyperlink{req__file_8py_source_l00081}{81}} of file \mbox{\hyperlink{req__file_8py_source}{req\+\_\+file.\+py}}.

\Hypertarget{namespacepip_1_1__internal_1_1req_1_1req__file_ae129eaf212f7ad0facffd8677ed86ed4}\index{pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}!ReqFileLines@{ReqFileLines}}
\index{ReqFileLines@{ReqFileLines}!pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}}
\doxysubsubsection{\texorpdfstring{ReqFileLines}{ReqFileLines}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1req_1_1req__file_ae129eaf212f7ad0facffd8677ed86ed4} 
Req\+File\+Lines = Iterable\mbox{[}Tuple\mbox{[}int, str\mbox{]}\mbox{]}}



Definition at line \mbox{\hyperlink{req__file_8py_source_l00041}{41}} of file \mbox{\hyperlink{req__file_8py_source}{req\+\_\+file.\+py}}.

\Hypertarget{namespacepip_1_1__internal_1_1req_1_1req__file_a503696c840cfaa133c17775d12afc0e7}\index{pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}!SCHEME\_RE@{SCHEME\_RE}}
\index{SCHEME\_RE@{SCHEME\_RE}!pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}}
\doxysubsubsection{\texorpdfstring{SCHEME\_RE}{SCHEME\_RE}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1req_1_1req__file_a503696c840cfaa133c17775d12afc0e7} 
SCHEME\+\_\+\+RE = re.\+compile(r"{}\texorpdfstring{$^\wedge$}{\string^}(http\texorpdfstring{$\vert$}{|}https\texorpdfstring{$\vert$}{|}file)\+:"{}, re.\+I)}



Definition at line \mbox{\hyperlink{req__file_8py_source_l00045}{45}} of file \mbox{\hyperlink{req__file_8py_source}{req\+\_\+file.\+py}}.

\Hypertarget{namespacepip_1_1__internal_1_1req_1_1req__file_a72bbcbbbd05f18650592730d5fe180df}\index{pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}!SUPPORTED\_OPTIONS@{SUPPORTED\_OPTIONS}}
\index{SUPPORTED\_OPTIONS@{SUPPORTED\_OPTIONS}!pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}}
\doxysubsubsection{\texorpdfstring{SUPPORTED\_OPTIONS}{SUPPORTED\_OPTIONS}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1req_1_1req__file_a72bbcbbbd05f18650592730d5fe180df} 
list SUPPORTED\+\_\+\+OPTIONS}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ =\ \ [}
\DoxyCodeLine{00002\ \ \ \ \ cmdoptions.index\_url,}
\DoxyCodeLine{00003\ \ \ \ \ cmdoptions.extra\_index\_url,}
\DoxyCodeLine{00004\ \ \ \ \ cmdoptions.no\_index,}
\DoxyCodeLine{00005\ \ \ \ \ cmdoptions.constraints,}
\DoxyCodeLine{00006\ \ \ \ \ cmdoptions.requirements,}
\DoxyCodeLine{00007\ \ \ \ \ cmdoptions.editable,}
\DoxyCodeLine{00008\ \ \ \ \ cmdoptions.find\_links,}
\DoxyCodeLine{00009\ \ \ \ \ cmdoptions.no\_binary,}
\DoxyCodeLine{00010\ \ \ \ \ cmdoptions.only\_binary,}
\DoxyCodeLine{00011\ \ \ \ \ cmdoptions.prefer\_binary,}
\DoxyCodeLine{00012\ \ \ \ \ cmdoptions.require\_hashes,}
\DoxyCodeLine{00013\ \ \ \ \ cmdoptions.pre,}
\DoxyCodeLine{00014\ \ \ \ \ cmdoptions.trusted\_host,}
\DoxyCodeLine{00015\ \ \ \ \ cmdoptions.use\_new\_feature,}
\DoxyCodeLine{00016\ ]}

\end{DoxyCode}


Definition at line \mbox{\hyperlink{req__file_8py_source_l00054}{54}} of file \mbox{\hyperlink{req__file_8py_source}{req\+\_\+file.\+py}}.

\Hypertarget{namespacepip_1_1__internal_1_1req_1_1req__file_a0ccdea5dac200bc708d85e36ee5d9e91}\index{pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}!SUPPORTED\_OPTIONS\_REQ@{SUPPORTED\_OPTIONS\_REQ}}
\index{SUPPORTED\_OPTIONS\_REQ@{SUPPORTED\_OPTIONS\_REQ}!pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}}
\doxysubsubsection{\texorpdfstring{SUPPORTED\_OPTIONS\_REQ}{SUPPORTED\_OPTIONS\_REQ}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1req_1_1req__file_a0ccdea5dac200bc708d85e36ee5d9e91} 
list SUPPORTED\+\_\+\+OPTIONS\+\_\+\+REQ}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ =\ \ [}
\DoxyCodeLine{00002\ \ \ \ \ cmdoptions.global\_options,}
\DoxyCodeLine{00003\ \ \ \ \ cmdoptions.hash,}
\DoxyCodeLine{00004\ \ \ \ \ cmdoptions.config\_settings,}
\DoxyCodeLine{00005\ ]}

\end{DoxyCode}


Definition at line \mbox{\hyperlink{req__file_8py_source_l00072}{72}} of file \mbox{\hyperlink{req__file_8py_source}{req\+\_\+file.\+py}}.

\Hypertarget{namespacepip_1_1__internal_1_1req_1_1req__file_afbbb6c8e6685cd626882e49ef7e2bc17}\index{pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}!SUPPORTED\_OPTIONS\_REQ\_DEST@{SUPPORTED\_OPTIONS\_REQ\_DEST}}
\index{SUPPORTED\_OPTIONS\_REQ\_DEST@{SUPPORTED\_OPTIONS\_REQ\_DEST}!pip.\_internal.req.req\_file@{pip.\_internal.req.req\_file}}
\doxysubsubsection{\texorpdfstring{SUPPORTED\_OPTIONS\_REQ\_DEST}{SUPPORTED\_OPTIONS\_REQ\_DEST}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1req_1_1req__file_afbbb6c8e6685cd626882e49ef7e2bc17} 
list SUPPORTED\+\_\+\+OPTIONS\+\_\+\+REQ\+\_\+\+DEST = \mbox{[}str(o().dest) \mbox{\hyperlink{prime__search_8m_ace560ef83cc4488bf05ef19ddc3f6f34}{for}} o in \mbox{\hyperlink{namespacepip_1_1__internal_1_1req_1_1req__file_a0ccdea5dac200bc708d85e36ee5d9e91}{SUPPORTED\+\_\+\+OPTIONS\+\_\+\+REQ}}\mbox{]}}



Definition at line \mbox{\hyperlink{req__file_8py_source_l00079}{79}} of file \mbox{\hyperlink{req__file_8py_source}{req\+\_\+file.\+py}}.

