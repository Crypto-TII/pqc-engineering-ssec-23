\doxysection{pip.\+\_\+vendor.\+idna.\+intranges Namespace Reference}
\hypertarget{namespacepip_1_1__vendor_1_1idna_1_1intranges}{}\label{namespacepip_1_1__vendor_1_1idna_1_1intranges}\index{pip.\_vendor.idna.intranges@{pip.\_vendor.idna.intranges}}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
Tuple\mbox{[}int,...\mbox{]} \mbox{\hyperlink{namespacepip_1_1__vendor_1_1idna_1_1intranges_a307669c1a5aa3282ae0d82f0dfb376ab}{intranges\+\_\+from\+\_\+list}} (List\mbox{[}int\mbox{]} list\+\_\+)
\item 
int \mbox{\hyperlink{namespacepip_1_1__vendor_1_1idna_1_1intranges_ae753b04f33ecbfc5290d7b5c37f81dac}{\+\_\+encode\+\_\+range}} (int start, int end)
\item 
Tuple\mbox{[}int, int\mbox{]} \mbox{\hyperlink{namespacepip_1_1__vendor_1_1idna_1_1intranges_aa27053a49d3d45ca19158613760f2e00}{\+\_\+decode\+\_\+range}} (int r)
\item 
bool \mbox{\hyperlink{namespacepip_1_1__vendor_1_1idna_1_1intranges_ac8f8797d9acab9a40fc6f061f8d32759}{intranges\+\_\+contain}} (int int\+\_\+, Tuple\mbox{[}int,...\mbox{]} ranges)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}Given a list of integers, made up of (hopefully) a small number of long runs
of consecutive integers, compute a representation of the form
((start1, end1), (start2, end2) ...). Then answer the question "was x present
in the original list?" in time O(log(# runs)).
\end{DoxyVerb}
 

\label{doc-func-members}
\Hypertarget{namespacepip_1_1__vendor_1_1idna_1_1intranges_doc-func-members}
\doxysubsection{Function Documentation}
\Hypertarget{namespacepip_1_1__vendor_1_1idna_1_1intranges_aa27053a49d3d45ca19158613760f2e00}\index{pip.\_vendor.idna.intranges@{pip.\_vendor.idna.intranges}!\_decode\_range@{\_decode\_range}}
\index{\_decode\_range@{\_decode\_range}!pip.\_vendor.idna.intranges@{pip.\_vendor.idna.intranges}}
\doxysubsubsection{\texorpdfstring{\_decode\_range()}{\_decode\_range()}}
{\footnotesize\ttfamily \label{namespacepip_1_1__vendor_1_1idna_1_1intranges_aa27053a49d3d45ca19158613760f2e00} 
 Tuple\mbox{[}int, int\mbox{]} \+\_\+decode\+\_\+range (\begin{DoxyParamCaption}\item[{int}]{r}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{intranges_8py_source_l00035}{35}} of file \mbox{\hyperlink{intranges_8py_source}{intranges.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00035\ \textcolor{keyword}{def\ }\_decode\_range(r:\ int)\ -\/>\ Tuple[int,\ int]:}
\DoxyCodeLine{00036\ \ \ \ \ \textcolor{keywordflow}{return}\ (r\ >>\ 32),\ (r\ \&\ ((1\ <<\ 32)\ -\/\ 1))}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ }

\end{DoxyCode}


Referenced by \mbox{\hyperlink{intranges_8py_source_l00039}{intranges\+\_\+contain()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=291pt]{dc/d38/namespacepip_1_1__vendor_1_1idna_1_1intranges_aa27053a49d3d45ca19158613760f2e00_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacepip_1_1__vendor_1_1idna_1_1intranges_ae753b04f33ecbfc5290d7b5c37f81dac}\index{pip.\_vendor.idna.intranges@{pip.\_vendor.idna.intranges}!\_encode\_range@{\_encode\_range}}
\index{\_encode\_range@{\_encode\_range}!pip.\_vendor.idna.intranges@{pip.\_vendor.idna.intranges}}
\doxysubsubsection{\texorpdfstring{\_encode\_range()}{\_encode\_range()}}
{\footnotesize\ttfamily \label{namespacepip_1_1__vendor_1_1idna_1_1intranges_ae753b04f33ecbfc5290d7b5c37f81dac} 
 int \+\_\+encode\+\_\+range (\begin{DoxyParamCaption}\item[{int}]{start}{, }\item[{int}]{end}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{intranges_8py_source_l00032}{32}} of file \mbox{\hyperlink{intranges_8py_source}{intranges.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00032\ \textcolor{keyword}{def\ }\_encode\_range(start:\ int,\ end:\ int)\ -\/>\ int:}
\DoxyCodeLine{00033\ \ \ \ \ \textcolor{keywordflow}{return}\ (start\ <<\ 32)\ |\ end}
\DoxyCodeLine{00034\ }

\end{DoxyCode}


Referenced by \mbox{\hyperlink{intranges_8py_source_l00039}{intranges\+\_\+contain()}}, and \mbox{\hyperlink{intranges_8py_source_l00011}{intranges\+\_\+from\+\_\+list()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=297pt]{dc/d38/namespacepip_1_1__vendor_1_1idna_1_1intranges_ae753b04f33ecbfc5290d7b5c37f81dac_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacepip_1_1__vendor_1_1idna_1_1intranges_ac8f8797d9acab9a40fc6f061f8d32759}\index{pip.\_vendor.idna.intranges@{pip.\_vendor.idna.intranges}!intranges\_contain@{intranges\_contain}}
\index{intranges\_contain@{intranges\_contain}!pip.\_vendor.idna.intranges@{pip.\_vendor.idna.intranges}}
\doxysubsubsection{\texorpdfstring{intranges\_contain()}{intranges\_contain()}}
{\footnotesize\ttfamily \label{namespacepip_1_1__vendor_1_1idna_1_1intranges_ac8f8797d9acab9a40fc6f061f8d32759} 
 bool intranges\+\_\+contain (\begin{DoxyParamCaption}\item[{int}]{int\+\_\+}{, }\item[{Tuple\mbox{[}int, ...\mbox{]}}]{ranges}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Determine if `int_` falls into one of the ranges in `ranges`.\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{intranges_8py_source_l00039}{39}} of file \mbox{\hyperlink{intranges_8py_source}{intranges.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00039\ \textcolor{keyword}{def\ }intranges\_contain(int\_:\ int,\ ranges:\ Tuple[int,\ ...])\ -\/>\ bool:}
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Determine\ if\ \`{}int\_\`{}\ falls\ into\ one\ of\ the\ ranges\ in\ \`{}ranges\`{}."{}"{}"{}}}
\DoxyCodeLine{00041\ \ \ \ \ tuple\_\ =\ \_encode\_range(int\_,\ 0)}
\DoxyCodeLine{00042\ \ \ \ \ pos\ =\ bisect.bisect\_left(ranges,\ tuple\_)}
\DoxyCodeLine{00043\ \ \ \ \ \textcolor{comment}{\#\ we\ could\ be\ immediately\ ahead\ of\ a\ tuple\ (start,\ end)}}
\DoxyCodeLine{00044\ \ \ \ \ \textcolor{comment}{\#\ with\ start\ <\ int\_\ <=\ end}}
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{keywordflow}{if}\ pos\ >\ 0:}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ left,\ right\ =\ \_decode\_range(ranges[pos-\/1])}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ left\ <=\ int\_\ <\ right:}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{True}}
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{comment}{\#\ or\ we\ could\ be\ immediately\ behind\ a\ tuple\ (int\_,\ end)}}
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keywordflow}{if}\ pos\ <\ len(ranges):}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ left,\ \_\ =\ \_decode\_range(ranges[pos])}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ left\ ==\ int\_:}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{True}}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{False}}

\end{DoxyCode}


References \mbox{\hyperlink{intranges_8py_source_l00035}{\+\_\+decode\+\_\+range()}}, and \mbox{\hyperlink{intranges_8py_source_l00032}{\+\_\+encode\+\_\+range()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=291pt]{dc/d38/namespacepip_1_1__vendor_1_1idna_1_1intranges_ac8f8797d9acab9a40fc6f061f8d32759_cgraph}
\end{center}
\end{figure}
\Hypertarget{namespacepip_1_1__vendor_1_1idna_1_1intranges_a307669c1a5aa3282ae0d82f0dfb376ab}\index{pip.\_vendor.idna.intranges@{pip.\_vendor.idna.intranges}!intranges\_from\_list@{intranges\_from\_list}}
\index{intranges\_from\_list@{intranges\_from\_list}!pip.\_vendor.idna.intranges@{pip.\_vendor.idna.intranges}}
\doxysubsubsection{\texorpdfstring{intranges\_from\_list()}{intranges\_from\_list()}}
{\footnotesize\ttfamily \label{namespacepip_1_1__vendor_1_1idna_1_1intranges_a307669c1a5aa3282ae0d82f0dfb376ab} 
 Tuple\mbox{[}int, ...\mbox{]} intranges\+\_\+from\+\_\+list (\begin{DoxyParamCaption}\item[{List\mbox{[}int\mbox{]}}]{list\+\_\+}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Represent a list of integers as a sequence of ranges:
((start_0, end_0), (start_1, end_1), ...), such that the original
integers are exactly those x such that start_i <= x < end_i for some i.

Ranges are encoded as single integers (start << 32 | end), not as tuples.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{intranges_8py_source_l00011}{11}} of file \mbox{\hyperlink{intranges_8py_source}{intranges.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00011\ \textcolor{keyword}{def\ }intranges\_from\_list(list\_:\ List[int])\ -\/>\ Tuple[int,\ ...]:}
\DoxyCodeLine{00012\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Represent\ a\ list\ of\ integers\ as\ a\ sequence\ of\ ranges:}}
\DoxyCodeLine{00013\ \textcolor{stringliteral}{\ \ \ \ ((start\_0,\ end\_0),\ (start\_1,\ end\_1),\ ...),\ such\ that\ the\ original}}
\DoxyCodeLine{00014\ \textcolor{stringliteral}{\ \ \ \ integers\ are\ exactly\ those\ x\ such\ that\ start\_i\ <=\ x\ <\ end\_i\ for\ some\ i.}}
\DoxyCodeLine{00015\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00016\ \textcolor{stringliteral}{\ \ \ \ Ranges\ are\ encoded\ as\ single\ integers\ (start\ <<\ 32\ |\ end),\ not\ as\ tuples.}}
\DoxyCodeLine{00017\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \ \ \ \ sorted\_list\ =\ sorted(list\_)}
\DoxyCodeLine{00020\ \ \ \ \ ranges\ =\ []}
\DoxyCodeLine{00021\ \ \ \ \ last\_write\ =\ -\/1}
\DoxyCodeLine{00022\ \ \ \ \ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ range(len(sorted\_list)):}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ i+1\ <\ len(sorted\_list):}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ sorted\_list[i]\ ==\ sorted\_list[i+1]-\/1:}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ current\_range\ =\ sorted\_list[last\_write+1:i+1]}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ ranges.append(\_encode\_range(current\_range[0],\ current\_range[-\/1]\ +\ 1))}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ last\_write\ =\ i}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \ \ \ \ \textcolor{keywordflow}{return}\ tuple(ranges)}
\DoxyCodeLine{00031\ }

\end{DoxyCode}


References \mbox{\hyperlink{intranges_8py_source_l00032}{\+\_\+encode\+\_\+range()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=297pt]{dc/d38/namespacepip_1_1__vendor_1_1idna_1_1intranges_a307669c1a5aa3282ae0d82f0dfb376ab_cgraph}
\end{center}
\end{figure}
