\doxysection{pip.\+\_\+vendor.\+pygments.\+regexopt Namespace Reference}
\hypertarget{namespacepip_1_1__vendor_1_1pygments_1_1regexopt}{}\label{namespacepip_1_1__vendor_1_1pygments_1_1regexopt}\index{pip.\_vendor.pygments.regexopt@{pip.\_vendor.pygments.regexopt}}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacepip_1_1__vendor_1_1pygments_1_1regexopt_a91ae8884ac197ce4a9fa2e2c5bc1a733}{make\+\_\+charset}} (letters)
\item 
\mbox{\hyperlink{namespacepip_1_1__vendor_1_1pygments_1_1regexopt_a989e6183f0b3d58fabf8047dc7fb2ce9}{regex\+\_\+opt\+\_\+inner}} (strings, open\+\_\+paren)
\item 
\mbox{\hyperlink{namespacepip_1_1__vendor_1_1pygments_1_1regexopt_a98d1a0e0f826b20e4ac6b3632b729722}{regex\+\_\+opt}} (strings, prefix=\textquotesingle{}\textquotesingle{}, suffix=\textquotesingle{}\textquotesingle{})
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacepip_1_1__vendor_1_1pygments_1_1regexopt_a88e226b1bdb82e2be2f96acdea471bd5}{CS\+\_\+\+ESCAPE}} = re.\+compile(r\textquotesingle{}\mbox{[}\textbackslash{}\mbox{[}\textbackslash{}\texorpdfstring{$^\wedge$}{\string^}\textbackslash{}\textbackslash{}\textbackslash{}-\/\textbackslash{}\mbox{]}\mbox{]}\textquotesingle{})
\item 
\mbox{\hyperlink{namespacepip_1_1__vendor_1_1pygments_1_1regexopt_ae51be02d6fb20a961abdb83f7bda54d4}{FIRST\+\_\+\+ELEMENT}} = itemgetter(0)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}    pygments.regexopt
    ~~~~~~~~~~~~~~~~~

    An algorithm that generates optimized regexes for matching long lists of
    literal strings.

    :copyright: Copyright 2006-2023 by the Pygments team, see AUTHORS.
    :license: BSD, see LICENSE for details.
\end{DoxyVerb}
 

\label{doc-func-members}
\Hypertarget{namespacepip_1_1__vendor_1_1pygments_1_1regexopt_doc-func-members}
\doxysubsection{Function Documentation}
\Hypertarget{namespacepip_1_1__vendor_1_1pygments_1_1regexopt_a91ae8884ac197ce4a9fa2e2c5bc1a733}\index{pip.\_vendor.pygments.regexopt@{pip.\_vendor.pygments.regexopt}!make\_charset@{make\_charset}}
\index{make\_charset@{make\_charset}!pip.\_vendor.pygments.regexopt@{pip.\_vendor.pygments.regexopt}}
\doxysubsubsection{\texorpdfstring{make\_charset()}{make\_charset()}}
{\footnotesize\ttfamily \label{namespacepip_1_1__vendor_1_1pygments_1_1regexopt_a91ae8884ac197ce4a9fa2e2c5bc1a733} 
make\+\_\+charset (\begin{DoxyParamCaption}\item[{}]{letters}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{regexopt_8py_source_l00022}{22}} of file \mbox{\hyperlink{regexopt_8py_source}{regexopt.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00022\ \textcolor{keyword}{def\ }make\_charset(letters):}
\DoxyCodeLine{00023\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{'['}\ +\ CS\_ESCAPE.sub(\textcolor{keyword}{lambda}\ m:\ \textcolor{stringliteral}{'\(\backslash\)\(\backslash\)'}\ +\ m.group(),\ \textcolor{stringliteral}{''}.join(letters))\ +\ \textcolor{stringliteral}{']'}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ }

\end{DoxyCode}


Referenced by \mbox{\hyperlink{regexopt_8py_source_l00026}{regex\+\_\+opt\+\_\+inner()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{dc/d8c/namespacepip_1_1__vendor_1_1pygments_1_1regexopt_a91ae8884ac197ce4a9fa2e2c5bc1a733_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacepip_1_1__vendor_1_1pygments_1_1regexopt_a98d1a0e0f826b20e4ac6b3632b729722}\index{pip.\_vendor.pygments.regexopt@{pip.\_vendor.pygments.regexopt}!regex\_opt@{regex\_opt}}
\index{regex\_opt@{regex\_opt}!pip.\_vendor.pygments.regexopt@{pip.\_vendor.pygments.regexopt}}
\doxysubsubsection{\texorpdfstring{regex\_opt()}{regex\_opt()}}
{\footnotesize\ttfamily \label{namespacepip_1_1__vendor_1_1pygments_1_1regexopt_a98d1a0e0f826b20e4ac6b3632b729722} 
regex\+\_\+opt (\begin{DoxyParamCaption}\item[{}]{strings}{, }\item[{}]{prefix}{ = {\ttfamily \textquotesingle{}\textquotesingle{}}, }\item[{}]{suffix}{ = {\ttfamily \textquotesingle{}\textquotesingle{}}}\end{DoxyParamCaption})}

\begin{DoxyVerb}Return a compiled regex that matches any string in the given list.

The strings to match must be literal strings, not regexes.  They will be
regex-escaped.

*prefix* and *suffix* are pre- and appended to the final regex.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{regexopt_8py_source_l00082}{82}} of file \mbox{\hyperlink{regexopt_8py_source}{regexopt.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00082\ \textcolor{keyword}{def\ }regex\_opt(strings,\ prefix='',\ suffix=''):}
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Return\ a\ compiled\ regex\ that\ matches\ any\ string\ in\ the\ given\ list.}}
\DoxyCodeLine{00084\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00085\ \textcolor{stringliteral}{\ \ \ \ The\ strings\ to\ match\ must\ be\ literal\ strings,\ not\ regexes.\ \ They\ will\ be}}
\DoxyCodeLine{00086\ \textcolor{stringliteral}{\ \ \ \ regex-\/escaped.}}
\DoxyCodeLine{00087\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00088\ \textcolor{stringliteral}{\ \ \ \ *prefix*\ and\ *suffix*\ are\ pre-\/\ and\ appended\ to\ the\ final\ regex.}}
\DoxyCodeLine{00089\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00090\ \ \ \ \ strings\ =\ sorted(strings)}
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{keywordflow}{return}\ prefix\ +\ regex\_opt\_inner(strings,\ \textcolor{stringliteral}{'('})\ +\ suffix}

\end{DoxyCode}


References \mbox{\hyperlink{regexopt_8py_source_l00026}{regex\+\_\+opt\+\_\+inner()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{dc/d8c/namespacepip_1_1__vendor_1_1pygments_1_1regexopt_a98d1a0e0f826b20e4ac6b3632b729722_cgraph}
\end{center}
\end{figure}
\Hypertarget{namespacepip_1_1__vendor_1_1pygments_1_1regexopt_a989e6183f0b3d58fabf8047dc7fb2ce9}\index{pip.\_vendor.pygments.regexopt@{pip.\_vendor.pygments.regexopt}!regex\_opt\_inner@{regex\_opt\_inner}}
\index{regex\_opt\_inner@{regex\_opt\_inner}!pip.\_vendor.pygments.regexopt@{pip.\_vendor.pygments.regexopt}}
\doxysubsubsection{\texorpdfstring{regex\_opt\_inner()}{regex\_opt\_inner()}}
{\footnotesize\ttfamily \label{namespacepip_1_1__vendor_1_1pygments_1_1regexopt_a989e6183f0b3d58fabf8047dc7fb2ce9} 
regex\+\_\+opt\+\_\+inner (\begin{DoxyParamCaption}\item[{}]{strings}{, }\item[{}]{open\+\_\+paren}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Return a regex that matches any string in the sorted list of strings.\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{regexopt_8py_source_l00026}{26}} of file \mbox{\hyperlink{regexopt_8py_source}{regexopt.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00026\ \textcolor{keyword}{def\ }regex\_opt\_inner(strings,\ open\_paren):}
\DoxyCodeLine{00027\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Return\ a\ regex\ that\ matches\ any\ string\ in\ the\ sorted\ list\ of\ strings."{}"{}"{}}}
\DoxyCodeLine{00028\ \ \ \ \ close\_paren\ =\ open\_paren\ \textcolor{keywordflow}{and}\ \textcolor{stringliteral}{')'}\ \textcolor{keywordflow}{or}\ \textcolor{stringliteral}{''}}
\DoxyCodeLine{00029\ \ \ \ \ \textcolor{comment}{\#\ print\ strings,\ repr(open\_paren)}}
\DoxyCodeLine{00030\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ strings:}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ print\ '-\/>\ nothing\ left'}}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{''}}
\DoxyCodeLine{00033\ \ \ \ \ first\ =\ strings[0]}
\DoxyCodeLine{00034\ \ \ \ \ \textcolor{keywordflow}{if}\ len(strings)\ ==\ 1:}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ print\ '-\/>\ only\ 1\ string'}}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ open\_paren\ +\ escape(first)\ +\ close\_paren}
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ first:}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ print\ '-\/>\ first\ string\ empty'}}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ open\_paren\ +\ regex\_opt\_inner(strings[1:],\ \textcolor{stringliteral}{'(?:'})\ \(\backslash\)}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \ \ \ \ +\ \textcolor{stringliteral}{'?'}\ +\ close\_paren}
\DoxyCodeLine{00041\ \ \ \ \ \textcolor{keywordflow}{if}\ len(first)\ ==\ 1:}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ multiple\ one-\/char\ strings?\ make\ a\ charset}}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ oneletter\ =\ []}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ rest\ =\ []}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ s\ \textcolor{keywordflow}{in}\ strings:}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ len(s)\ ==\ 1:}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ oneletter.append(s)}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rest.append(s)}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ len(oneletter)\ >\ 1:\ \ \textcolor{comment}{\#\ do\ we\ have\ more\ than\ one\ oneletter\ string?}}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ rest:}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ print\ '-\/>\ 1-\/character\ +\ rest'}}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ open\_paren\ +\ regex\_opt\_inner(rest,\ \textcolor{stringliteral}{''})\ +\ \textcolor{stringliteral}{'|'}\ \(\backslash\)}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ +\ make\_charset(oneletter)\ +\ close\_paren}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ print\ '-\/>\ only\ 1-\/character'}}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ open\_paren\ +\ make\_charset(oneletter)\ +\ close\_paren}
\DoxyCodeLine{00057\ \ \ \ \ prefix\ =\ commonprefix(strings)}
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keywordflow}{if}\ prefix:}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ plen\ =\ len(prefix)}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ we\ have\ a\ prefix\ for\ all\ strings}}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ print\ '-\/>\ prefix:',\ prefix}}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ open\_paren\ +\ escape(prefix)\ \(\backslash\)}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \ \ \ \ +\ regex\_opt\_inner([s[plen:]\ \textcolor{keywordflow}{for}\ s\ \textcolor{keywordflow}{in}\ strings],\ \textcolor{stringliteral}{'(?:'})\ \(\backslash\)}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \ \ \ \ +\ close\_paren}
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{comment}{\#\ is\ there\ a\ suffix?}}
\DoxyCodeLine{00066\ \ \ \ \ strings\_rev\ =\ [s[::-\/1]\ \textcolor{keywordflow}{for}\ s\ \textcolor{keywordflow}{in}\ strings]}
\DoxyCodeLine{00067\ \ \ \ \ suffix\ =\ commonprefix(strings\_rev)}
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{keywordflow}{if}\ suffix:}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ slen\ =\ len(suffix)}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ print\ '-\/>\ suffix:',\ suffix[::-\/1]}}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ open\_paren\ \(\backslash\)}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \ \ \ \ +\ regex\_opt\_inner(sorted(s[:-\/slen]\ \textcolor{keywordflow}{for}\ s\ \textcolor{keywordflow}{in}\ strings),\ \textcolor{stringliteral}{'(?:'})\ \(\backslash\)}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \ \ \ \ +\ escape(suffix[::-\/1])\ +\ close\_paren}
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{comment}{\#\ recurse\ on\ common\ 1-\/string\ prefixes}}
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{comment}{\#\ print\ '-\/>\ last\ resort'}}
\DoxyCodeLine{00076\ \ \ \ \ \textcolor{keywordflow}{return}\ open\_paren\ +\ \(\backslash\)}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'|'}.join(regex\_opt\_inner(list(group[1]),\ \textcolor{stringliteral}{''})}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ group\ \textcolor{keywordflow}{in}\ groupby(strings,\ \textcolor{keyword}{lambda}\ s:\ s[0]\ ==\ first[0]))\ \(\backslash\)}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ +\ close\_paren}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ }

\end{DoxyCode}


References \mbox{\hyperlink{regexopt_8py_source_l00022}{make\+\_\+charset()}}, and \mbox{\hyperlink{regexopt_8py_source_l00026}{regex\+\_\+opt\+\_\+inner()}}.



Referenced by \mbox{\hyperlink{regexopt_8py_source_l00082}{regex\+\_\+opt()}}, and \mbox{\hyperlink{regexopt_8py_source_l00026}{regex\+\_\+opt\+\_\+inner()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=279pt]{dc/d8c/namespacepip_1_1__vendor_1_1pygments_1_1regexopt_a989e6183f0b3d58fabf8047dc7fb2ce9_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=260pt]{dc/d8c/namespacepip_1_1__vendor_1_1pygments_1_1regexopt_a989e6183f0b3d58fabf8047dc7fb2ce9_icgraph}
\end{center}
\end{figure}


\label{doc-var-members}
\Hypertarget{namespacepip_1_1__vendor_1_1pygments_1_1regexopt_doc-var-members}
\doxysubsection{Variable Documentation}
\Hypertarget{namespacepip_1_1__vendor_1_1pygments_1_1regexopt_a88e226b1bdb82e2be2f96acdea471bd5}\index{pip.\_vendor.pygments.regexopt@{pip.\_vendor.pygments.regexopt}!CS\_ESCAPE@{CS\_ESCAPE}}
\index{CS\_ESCAPE@{CS\_ESCAPE}!pip.\_vendor.pygments.regexopt@{pip.\_vendor.pygments.regexopt}}
\doxysubsubsection{\texorpdfstring{CS\_ESCAPE}{CS\_ESCAPE}}
{\footnotesize\ttfamily \label{namespacepip_1_1__vendor_1_1pygments_1_1regexopt_a88e226b1bdb82e2be2f96acdea471bd5} 
CS\+\_\+\+ESCAPE = re.\+compile(r\textquotesingle{}\mbox{[}\textbackslash{}\mbox{[}\textbackslash{}\texorpdfstring{$^\wedge$}{\string^}\textbackslash{}\textbackslash{}\textbackslash{}-\/\textbackslash{}\mbox{]}\mbox{]}\textquotesingle{})}



Definition at line \mbox{\hyperlink{regexopt_8py_source_l00018}{18}} of file \mbox{\hyperlink{regexopt_8py_source}{regexopt.\+py}}.

\Hypertarget{namespacepip_1_1__vendor_1_1pygments_1_1regexopt_ae51be02d6fb20a961abdb83f7bda54d4}\index{pip.\_vendor.pygments.regexopt@{pip.\_vendor.pygments.regexopt}!FIRST\_ELEMENT@{FIRST\_ELEMENT}}
\index{FIRST\_ELEMENT@{FIRST\_ELEMENT}!pip.\_vendor.pygments.regexopt@{pip.\_vendor.pygments.regexopt}}
\doxysubsubsection{\texorpdfstring{FIRST\_ELEMENT}{FIRST\_ELEMENT}}
{\footnotesize\ttfamily \label{namespacepip_1_1__vendor_1_1pygments_1_1regexopt_ae51be02d6fb20a961abdb83f7bda54d4} 
FIRST\+\_\+\+ELEMENT = itemgetter(0)}



Definition at line \mbox{\hyperlink{regexopt_8py_source_l00019}{19}} of file \mbox{\hyperlink{regexopt_8py_source}{regexopt.\+py}}.

