\doxysection{session.\+py}
\hypertarget{session_8py_source}{}\label{session_8py_source}\index{E:/pqc-\/engineering-\/ssec-\/23/venv/lib/python3.12/site-\/packages/pip/\_internal/network/session.py@{E:/pqc-\/engineering-\/ssec-\/23/venv/lib/python3.12/site-\/packages/pip/\_internal/network/session.py}}
\mbox{\hyperlink{session_8py}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00001}\mbox{\hyperlink{namespacepip_1_1__internal_1_1network_1_1session}{00001}}\ \textcolor{stringliteral}{"{}"{}"{}PipSession\ and\ supporting\ code,\ containing\ all\ pip-\/specific}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00002}00002\ \textcolor{stringliteral}{network\ request\ configuration\ and\ behavior.}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00003}00003\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00004}00004\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00005}00005\ \textcolor{keyword}{import}\ email.utils}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00006}00006\ \textcolor{keyword}{import}\ io}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00007}00007\ \textcolor{keyword}{import}\ ipaddress}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00008}00008\ \textcolor{keyword}{import}\ json}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00009}00009\ \textcolor{keyword}{import}\ logging}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00010}00010\ \textcolor{keyword}{import}\ mimetypes}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00011}00011\ \textcolor{keyword}{import}\ os}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00012}00012\ \textcolor{keyword}{import}\ platform}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00013}00013\ \textcolor{keyword}{import}\ shutil}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00014}00014\ \textcolor{keyword}{import}\ subprocess}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00015}00015\ \textcolor{keyword}{import}\ sys}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00016}00016\ \textcolor{keyword}{import}\ urllib.parse}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00017}00017\ \textcolor{keyword}{import}\ warnings}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00018}00018\ \textcolor{keyword}{from}\ typing\ \textcolor{keyword}{import}\ (}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00019}00019\ \ \ \ \ TYPE\_CHECKING,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00020}00020\ \ \ \ \ Any,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00021}00021\ \ \ \ \ Dict,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00022}00022\ \ \ \ \ Generator,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00023}00023\ \ \ \ \ List,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00024}00024\ \ \ \ \ Mapping,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00025}00025\ \ \ \ \ Optional,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00026}00026\ \ \ \ \ Sequence,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00027}00027\ \ \ \ \ Tuple,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00028}00028\ \ \ \ \ Union,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00029}00029\ )}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00030}00030\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00031}00031\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepip_1_1__vendor}{pip.\_vendor}}\ \textcolor{keyword}{import}\ requests,\ urllib3}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00032}00032\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepip_1_1__vendor_1_1cachecontrol}{pip.\_vendor.cachecontrol}}\ \textcolor{keyword}{import}\ CacheControlAdapter\ \textcolor{keyword}{as}\ \_BaseCacheControlAdapter}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00033}00033\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepip_1_1__vendor_1_1requests_1_1adapters}{pip.\_vendor.requests.adapters}}\ \textcolor{keyword}{import}\ DEFAULT\_POOLBLOCK,\ BaseAdapter}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00034}00034\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepip_1_1__vendor_1_1requests_1_1adapters}{pip.\_vendor.requests.adapters}}\ \textcolor{keyword}{import}\ HTTPAdapter\ \textcolor{keyword}{as}\ \_BaseHTTPAdapter}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00035}00035\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepip_1_1__vendor_1_1requests_1_1models}{pip.\_vendor.requests.models}}\ \textcolor{keyword}{import}\ PreparedRequest,\ Response}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00036}00036\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepip_1_1__vendor_1_1requests_1_1structures}{pip.\_vendor.requests.structures}}\ \textcolor{keyword}{import}\ CaseInsensitiveDict}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00037}00037\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepip_1_1__vendor_1_1urllib3_1_1connectionpool}{pip.\_vendor.urllib3.connectionpool}}\ \textcolor{keyword}{import}\ ConnectionPool}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00038}00038\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepip_1_1__vendor_1_1urllib3_1_1exceptions}{pip.\_vendor.urllib3.exceptions}}\ \textcolor{keyword}{import}\ InsecureRequestWarning}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00039}00039\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00040}00040\ \textcolor{keyword}{from}\ pip\ \textcolor{keyword}{import}\ \_\_version\_\_}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00041}00041\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepip_1_1__internal_1_1metadata}{pip.\_internal.metadata}}\ \textcolor{keyword}{import}\ get\_default\_environment}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00042}00042\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepip_1_1__internal_1_1models_1_1link}{pip.\_internal.models.link}}\ \textcolor{keyword}{import}\ Link}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00043}00043\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepip_1_1__internal_1_1network_1_1auth}{pip.\_internal.network.auth}}\ \textcolor{keyword}{import}\ MultiDomainBasicAuth}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00044}00044\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepip_1_1__internal_1_1network_1_1cache}{pip.\_internal.network.cache}}\ \textcolor{keyword}{import}\ SafeFileCache}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00045}00045\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00046}00046\ \textcolor{comment}{\#\ Import\ ssl\ from\ compat\ so\ the\ initial\ import\ occurs\ in\ only\ one\ place.}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00047}00047\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepip_1_1__internal_1_1utils_1_1compat}{pip.\_internal.utils.compat}}\ \textcolor{keyword}{import}\ has\_tls}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00048}00048\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepip_1_1__internal_1_1utils_1_1glibc}{pip.\_internal.utils.glibc}}\ \textcolor{keyword}{import}\ libc\_ver}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00049}00049\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepip_1_1__internal_1_1utils_1_1misc}{pip.\_internal.utils.misc}}\ \textcolor{keyword}{import}\ build\_url\_from\_netloc,\ parse\_netloc}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00050}00050\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepip_1_1__internal_1_1utils_1_1urls}{pip.\_internal.utils.urls}}\ \textcolor{keyword}{import}\ url\_to\_path}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00051}00051\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00052}00052\ \textcolor{keywordflow}{if}\ TYPE\_CHECKING:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00053}00053\ \ \ \ \ \textcolor{keyword}{from}\ ssl\ \textcolor{keyword}{import}\ SSLContext}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00054}00054\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00055}00055\ \ \ \ \ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepip_1_1__vendor_1_1urllib3_1_1poolmanager}{pip.\_vendor.urllib3.poolmanager}}\ \textcolor{keyword}{import}\ PoolManager}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00056}00056\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00057}00057\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00058}\mbox{\hyperlink{namespacepip_1_1__internal_1_1network_1_1session_a0b14e488ae28d98d262453f3e9cd6e4d}{00058}}\ logger\ =\ logging.getLogger(\_\_name\_\_)}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00059}00059\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00060}\mbox{\hyperlink{namespacepip_1_1__internal_1_1network_1_1session_aa69e69c87bf6f41e52687fa7a40fd1a9}{00060}}\ SecureOrigin\ =\ Tuple[str,\ str,\ Optional[Union[int,\ str]]]}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00061}00061\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00062}00062\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00063}00063\ \textcolor{comment}{\#\ Ignore\ warning\ raised\ when\ using\ -\/-\/trusted-\/host.}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00064}\mbox{\hyperlink{namespacepip_1_1__internal_1_1network_1_1session_a71494cb32e3acaab23cde05f1136df5e}{00064}}\ warnings.filterwarnings(\textcolor{stringliteral}{"{}ignore"{}},\ category=InsecureRequestWarning)}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00065}00065\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00066}00066\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00067}00067\ SECURE\_ORIGINS:\ List[SecureOrigin]\ =\ [}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00068}00068\ \ \ \ \ \textcolor{comment}{\#\ protocol,\ hostname,\ port}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00069}00069\ \ \ \ \ \textcolor{comment}{\#\ Taken\ from\ Chrome's\ list\ of\ secure\ origins\ (See:\ http://bit.ly/1qrySKC)}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00070}00070\ \ \ \ \ (\textcolor{stringliteral}{"{}https"{}},\ \textcolor{stringliteral}{"{}*"{}},\ \textcolor{stringliteral}{"{}*"{}}),}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00071}00071\ \ \ \ \ (\textcolor{stringliteral}{"{}*"{}},\ \textcolor{stringliteral}{"{}localhost"{}},\ \textcolor{stringliteral}{"{}*"{}}),}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00072}00072\ \ \ \ \ (\textcolor{stringliteral}{"{}*"{}},\ \textcolor{stringliteral}{"{}127.0.0.0/8"{}},\ \textcolor{stringliteral}{"{}*"{}}),}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00073}00073\ \ \ \ \ (\textcolor{stringliteral}{"{}*"{}},\ \textcolor{stringliteral}{"{}::1/128"{}},\ \textcolor{stringliteral}{"{}*"{}}),}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00074}00074\ \ \ \ \ (\textcolor{stringliteral}{"{}file"{}},\ \textcolor{stringliteral}{"{}*"{}},\ \textcolor{keywordtype}{None}),}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00075}00075\ \ \ \ \ \textcolor{comment}{\#\ ssh\ is\ always\ secure.}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00076}00076\ \ \ \ \ (\textcolor{stringliteral}{"{}ssh"{}},\ \textcolor{stringliteral}{"{}*"{}},\ \textcolor{stringliteral}{"{}*"{}}),}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00077}00077\ ]}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00078}00078\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00079}00079\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00080}00080\ \textcolor{comment}{\#\ These\ are\ environment\ variables\ present\ when\ running\ under\ various}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00081}00081\ \textcolor{comment}{\#\ CI\ systems.\ \ For\ each\ variable,\ some\ CI\ systems\ that\ use\ the\ variable}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00082}00082\ \textcolor{comment}{\#\ are\ indicated.\ \ The\ collection\ was\ chosen\ so\ that\ for\ each\ of\ a\ number}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00083}00083\ \textcolor{comment}{\#\ of\ popular\ systems,\ at\ least\ one\ of\ the\ environment\ variables\ is\ used.}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00084}00084\ \textcolor{comment}{\#\ This\ list\ is\ used\ to\ provide\ some\ indication\ of\ and\ lower\ bound\ for}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00085}00085\ \textcolor{comment}{\#\ CI\ traffic\ to\ PyPI.\ \ Thus,\ it\ is\ okay\ if\ the\ list\ is\ not\ comprehensive.}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00086}00086\ \textcolor{comment}{\#\ For\ more\ background,\ see:\ https://github.com/pypa/pip/issues/5499}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00087}00087\ CI\_ENVIRONMENT\_VARIABLES\ =\ (}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00088}00088\ \ \ \ \ \textcolor{comment}{\#\ Azure\ Pipelines}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00089}00089\ \ \ \ \ \textcolor{stringliteral}{"{}BUILD\_BUILDID"{}},}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00090}00090\ \ \ \ \ \textcolor{comment}{\#\ Jenkins}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00091}00091\ \ \ \ \ \textcolor{stringliteral}{"{}BUILD\_ID"{}},}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00092}00092\ \ \ \ \ \textcolor{comment}{\#\ AppVeyor,\ CircleCI,\ Codeship,\ Gitlab\ CI,\ Shippable,\ Travis\ CI}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00093}00093\ \ \ \ \ \textcolor{stringliteral}{"{}CI"{}},}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00094}00094\ \ \ \ \ \textcolor{comment}{\#\ Explicit\ environment\ variable.}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00095}00095\ \ \ \ \ \textcolor{stringliteral}{"{}PIP\_IS\_CI"{}},}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00096}00096\ )}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00097}00097\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00098}00098\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00099}00099\ \textcolor{keyword}{def\ }looks\_like\_ci()\ -\/>\ bool:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00100}00100\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00101}00101\ \textcolor{stringliteral}{\ \ \ \ Return\ whether\ it\ looks\ like\ pip\ is\ running\ under\ CI.}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00102}00102\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00103}00103\ \ \ \ \ \textcolor{comment}{\#\ We\ don't\ use\ the\ method\ of\ checking\ for\ a\ tty\ (e.g.\ using\ isatty())}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00104}00104\ \ \ \ \ \textcolor{comment}{\#\ because\ some\ CI\ systems\ mimic\ a\ tty\ (e.g.\ Travis\ CI).\ \ Thus\ that}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00105}00105\ \ \ \ \ \textcolor{comment}{\#\ method\ doesn't\ provide\ definitive\ information\ in\ either\ direction.}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00106}00106\ \ \ \ \ \textcolor{keywordflow}{return}\ any(name\ \textcolor{keywordflow}{in}\ os.environ\ \textcolor{keywordflow}{for}\ name\ \textcolor{keywordflow}{in}\ CI\_ENVIRONMENT\_VARIABLES)}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00107}00107\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00108}00108\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00109}00109\ \textcolor{keyword}{def\ }user\_agent()\ -\/>\ str:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00110}00110\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00111}00111\ \textcolor{stringliteral}{\ \ \ \ Return\ a\ string\ representing\ the\ user\ agent.}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00112}00112\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00113}00113\ \ \ \ \ data:\ Dict[str,\ Any]\ =\ \{}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00114}00114\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}installer"{}}:\ \{\textcolor{stringliteral}{"{}name"{}}:\ \textcolor{stringliteral}{"{}pip"{}},\ \textcolor{stringliteral}{"{}version"{}}:\ \_\_version\_\_\},}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00115}00115\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}python"{}}:\ platform.python\_version(),}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00116}00116\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}implementation"{}}:\ \{}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00117}00117\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}name"{}}:\ platform.python\_implementation(),}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00118}00118\ \ \ \ \ \ \ \ \ \},}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00119}00119\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00120}00120\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00121}00121\ \ \ \ \ \textcolor{keywordflow}{if}\ data[\textcolor{stringliteral}{"{}implementation"{}}][\textcolor{stringliteral}{"{}name"{}}]\ ==\ \textcolor{stringliteral}{"{}CPython"{}}:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00122}00122\ \ \ \ \ \ \ \ \ data[\textcolor{stringliteral}{"{}implementation"{}}][\textcolor{stringliteral}{"{}version"{}}]\ =\ platform.python\_version()}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00123}00123\ \ \ \ \ \textcolor{keywordflow}{elif}\ data[\textcolor{stringliteral}{"{}implementation"{}}][\textcolor{stringliteral}{"{}name"{}}]\ ==\ \textcolor{stringliteral}{"{}PyPy"{}}:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00124}00124\ \ \ \ \ \ \ \ \ pypy\_version\_info\ =\ sys.pypy\_version\_info\ \ \textcolor{comment}{\#\ type:\ ignore}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00125}00125\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ pypy\_version\_info.releaselevel\ ==\ \textcolor{stringliteral}{"{}final"{}}:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00126}00126\ \ \ \ \ \ \ \ \ \ \ \ \ pypy\_version\_info\ =\ pypy\_version\_info[:3]}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00127}00127\ \ \ \ \ \ \ \ \ data[\textcolor{stringliteral}{"{}implementation"{}}][\textcolor{stringliteral}{"{}version"{}}]\ =\ \textcolor{stringliteral}{"{}."{}}.join(}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00128}00128\ \ \ \ \ \ \ \ \ \ \ \ \ [str(x)\ \textcolor{keywordflow}{for}\ x\ \textcolor{keywordflow}{in}\ pypy\_version\_info]}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00129}00129\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00130}00130\ \ \ \ \ \textcolor{keywordflow}{elif}\ data[\textcolor{stringliteral}{"{}implementation"{}}][\textcolor{stringliteral}{"{}name"{}}]\ ==\ \textcolor{stringliteral}{"{}Jython"{}}:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00131}00131\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Complete\ Guess}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00132}00132\ \ \ \ \ \ \ \ \ data[\textcolor{stringliteral}{"{}implementation"{}}][\textcolor{stringliteral}{"{}version"{}}]\ =\ platform.python\_version()}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00133}00133\ \ \ \ \ \textcolor{keywordflow}{elif}\ data[\textcolor{stringliteral}{"{}implementation"{}}][\textcolor{stringliteral}{"{}name"{}}]\ ==\ \textcolor{stringliteral}{"{}IronPython"{}}:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00134}00134\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Complete\ Guess}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00135}00135\ \ \ \ \ \ \ \ \ data[\textcolor{stringliteral}{"{}implementation"{}}][\textcolor{stringliteral}{"{}version"{}}]\ =\ platform.python\_version()}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00136}00136\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00137}00137\ \ \ \ \ \textcolor{keywordflow}{if}\ sys.platform.startswith(\textcolor{stringliteral}{"{}linux"{}}):}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00138}00138\ \ \ \ \ \ \ \ \ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepip_1_1__vendor}{pip.\_vendor}}\ \textcolor{keyword}{import}\ distro}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00139}00139\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00140}00140\ \ \ \ \ \ \ \ \ linux\_distribution\ =\ distro.name(),\ distro.version(),\ distro.codename()}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00141}00141\ \ \ \ \ \ \ \ \ distro\_infos:\ Dict[str,\ Any]\ =\ dict(}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00142}00142\ \ \ \ \ \ \ \ \ \ \ \ \ filter(}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00143}00143\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{lambda}\ x:\ x[1],}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00144}00144\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ zip([\textcolor{stringliteral}{"{}name"{}},\ \textcolor{stringliteral}{"{}version"{}},\ \textcolor{stringliteral}{"{}id"{}}],\ linux\_distribution),}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00145}00145\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00146}00146\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00147}00147\ \ \ \ \ \ \ \ \ libc\ =\ dict(}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00148}00148\ \ \ \ \ \ \ \ \ \ \ \ \ filter(}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00149}00149\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{lambda}\ x:\ x[1],}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00150}00150\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ zip([\textcolor{stringliteral}{"{}lib"{}},\ \textcolor{stringliteral}{"{}version"{}}],\ libc\_ver()),}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00151}00151\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00152}00152\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00153}00153\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ libc:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00154}00154\ \ \ \ \ \ \ \ \ \ \ \ \ distro\_infos[\textcolor{stringliteral}{"{}libc"{}}]\ =\ libc}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00155}00155\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ distro\_infos:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00156}00156\ \ \ \ \ \ \ \ \ \ \ \ \ data[\textcolor{stringliteral}{"{}distro"{}}]\ =\ distro\_infos}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00157}00157\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00158}00158\ \ \ \ \ \textcolor{keywordflow}{if}\ sys.platform.startswith(\textcolor{stringliteral}{"{}darwin"{}})\ \textcolor{keywordflow}{and}\ platform.mac\_ver()[0]:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00159}00159\ \ \ \ \ \ \ \ \ data[\textcolor{stringliteral}{"{}distro"{}}]\ =\ \{\textcolor{stringliteral}{"{}name"{}}:\ \textcolor{stringliteral}{"{}macOS"{}},\ \textcolor{stringliteral}{"{}version"{}}:\ platform.mac\_ver()[0]\}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00160}00160\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00161}00161\ \ \ \ \ \textcolor{keywordflow}{if}\ platform.system():}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00162}00162\ \ \ \ \ \ \ \ \ data.setdefault(\textcolor{stringliteral}{"{}system"{}},\ \{\})[\textcolor{stringliteral}{"{}name"{}}]\ =\ platform.system()}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00163}00163\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00164}00164\ \ \ \ \ \textcolor{keywordflow}{if}\ platform.release():}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00165}00165\ \ \ \ \ \ \ \ \ data.setdefault(\textcolor{stringliteral}{"{}system"{}},\ \{\})[\textcolor{stringliteral}{"{}release"{}}]\ =\ platform.release()}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00166}00166\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00167}00167\ \ \ \ \ \textcolor{keywordflow}{if}\ platform.machine():}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00168}00168\ \ \ \ \ \ \ \ \ data[\textcolor{stringliteral}{"{}cpu"{}}]\ =\ platform.machine()}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00169}00169\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00170}00170\ \ \ \ \ \textcolor{keywordflow}{if}\ has\_tls():}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00171}00171\ \ \ \ \ \ \ \ \ \textcolor{keyword}{import}\ \_ssl\ \textcolor{keyword}{as}\ ssl}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00172}00172\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00173}00173\ \ \ \ \ \ \ \ \ data[\textcolor{stringliteral}{"{}openssl\_version"{}}]\ =\ ssl.OPENSSL\_VERSION}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00174}00174\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00175}00175\ \ \ \ \ setuptools\_dist\ =\ get\_default\_environment().get\_distribution(\textcolor{stringliteral}{"{}setuptools"{}})}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00176}00176\ \ \ \ \ \textcolor{keywordflow}{if}\ setuptools\_dist\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00177}00177\ \ \ \ \ \ \ \ \ data[\textcolor{stringliteral}{"{}setuptools\_version"{}}]\ =\ str(setuptools\_dist.version)}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00178}00178\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00179}00179\ \ \ \ \ \textcolor{keywordflow}{if}\ shutil.which(\textcolor{stringliteral}{"{}rustc"{}})\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00180}00180\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ If\ for\ any\ reason\ \`{}rustc\ -\/-\/version`\ fails,\ silently\ ignore\ it}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00181}00181\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00182}00182\ \ \ \ \ \ \ \ \ \ \ \ \ rustc\_output\ =\ subprocess.check\_output(}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00183}00183\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [\textcolor{stringliteral}{"{}rustc"{}},\ \textcolor{stringliteral}{"{}-\/-\/version"{}}],\ stderr=subprocess.STDOUT,\ timeout=0.5}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00184}00184\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00185}00185\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ Exception:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00186}00186\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{pass}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00187}00187\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00188}00188\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ rustc\_output.startswith(b\textcolor{stringliteral}{"{}rustc\ "{}}):}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00189}00189\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ The\ format\ of\ \`{}rustc\ -\/-\/version`\ is:}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00190}00190\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ \`{}b'rustc\ 1.52.1\ (9bc8c42bb\ 2021-\/05-\/09)\(\backslash\)n'`}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00191}00191\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ We\ extract\ just\ the\ middle\ (1.52.1)\ part}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00192}00192\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data[\textcolor{stringliteral}{"{}rustc\_version"{}}]\ =\ rustc\_output.split(b\textcolor{stringliteral}{"{}\ "{}})[1].decode()}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00193}00193\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00194}00194\ \ \ \ \ \textcolor{comment}{\#\ Use\ None\ rather\ than\ False\ so\ as\ not\ to\ give\ the\ impression\ that}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00195}00195\ \ \ \ \ \textcolor{comment}{\#\ pip\ knows\ it\ is\ not\ being\ run\ under\ CI.\ \ Rather,\ it\ is\ a\ null\ or}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00196}00196\ \ \ \ \ \textcolor{comment}{\#\ inconclusive\ result.\ \ Also,\ we\ include\ some\ value\ rather\ than\ no}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00197}00197\ \ \ \ \ \textcolor{comment}{\#\ value\ to\ make\ it\ easier\ to\ know\ that\ the\ check\ has\ been\ run.}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00198}00198\ \ \ \ \ data[\textcolor{stringliteral}{"{}ci"{}}]\ =\ \textcolor{keyword}{True}\ \textcolor{keywordflow}{if}\ looks\_like\_ci()\ \textcolor{keywordflow}{else}\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00199}00199\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00200}00200\ \ \ \ \ user\_data\ =\ os.environ.get(\textcolor{stringliteral}{"{}PIP\_USER\_AGENT\_USER\_DATA"{}})}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00201}00201\ \ \ \ \ \textcolor{keywordflow}{if}\ user\_data\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00202}00202\ \ \ \ \ \ \ \ \ data[\textcolor{stringliteral}{"{}user\_data"{}}]\ =\ user\_data}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00203}00203\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00204}00204\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}\{data[installer][name]\}/\{data[installer][version]\}\ \{json\}"{}}.format(}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00205}00205\ \ \ \ \ \ \ \ \ data=data,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00206}00206\ \ \ \ \ \ \ \ \ json=json.dumps(data,\ separators=(\textcolor{stringliteral}{"{},"{}},\ \textcolor{stringliteral}{"{}:"{}}),\ sort\_keys=\textcolor{keyword}{True}),}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00207}00207\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00208}00208\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00209}00209\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00210}00210\ \textcolor{keyword}{class\ }LocalFSAdapter(\mbox{\hyperlink{classpip_1_1__vendor_1_1requests_1_1adapters_1_1_base_adapter}{BaseAdapter}}):}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00211}00211\ \ \ \ \ \textcolor{keyword}{def\ }send(}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00212}00212\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00213}00213\ \ \ \ \ \ \ \ \ request:\ PreparedRequest,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00214}00214\ \ \ \ \ \ \ \ \ stream:\ bool\ =\ \textcolor{keyword}{False},}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00215}00215\ \ \ \ \ \ \ \ \ timeout:\ Optional[Union[float,\ Tuple[float,\ float]]]\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00216}00216\ \ \ \ \ \ \ \ \ verify:\ Union[bool,\ str]\ =\ \textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00217}00217\ \ \ \ \ \ \ \ \ cert:\ Optional[Union[str,\ Tuple[str,\ str]]]\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00218}00218\ \ \ \ \ \ \ \ \ proxies:\ Optional[Mapping[str,\ str]]\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00219}00219\ \ \ \ \ )\ -\/>\ Response:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00220}00220\ \ \ \ \ \ \ \ \ pathname\ =\ url\_to\_path(request.url)}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00221}00221\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00222}00222\ \ \ \ \ \ \ \ \ resp\ =\ \mbox{\hyperlink{classpip_1_1__vendor_1_1requests_1_1models_1_1_response}{Response}}()}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00223}00223\ \ \ \ \ \ \ \ \ resp.status\_code\ =\ 200}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00224}00224\ \ \ \ \ \ \ \ \ resp.url\ =\ request.url}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00225}00225\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00226}00226\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00227}00227\ \ \ \ \ \ \ \ \ \ \ \ \ stats\ =\ os.stat(pathname)}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00228}00228\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ OSError\ \textcolor{keyword}{as}\ exc:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00229}00229\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ format\ the\ exception\ raised\ as\ a\ io.BytesIO\ object,}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00230}00230\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ to\ return\ a\ better\ error\ message:}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00231}00231\ \ \ \ \ \ \ \ \ \ \ \ \ resp.status\_code\ =\ 404}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00232}00232\ \ \ \ \ \ \ \ \ \ \ \ \ resp.reason\ =\ type(exc).\_\_name\_\_}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00233}00233\ \ \ \ \ \ \ \ \ \ \ \ \ resp.raw\ =\ io.BytesIO(f\textcolor{stringliteral}{"{}\{resp.reason\}:\ \{exc\}"{}}.encode(\textcolor{stringliteral}{"{}utf8"{}}))}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00234}00234\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00235}00235\ \ \ \ \ \ \ \ \ \ \ \ \ modified\ =\ email.utils.formatdate(stats.st\_mtime,\ usegmt=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00236}00236\ \ \ \ \ \ \ \ \ \ \ \ \ content\_type\ =\ mimetypes.guess\_type(pathname)[0]\ \textcolor{keywordflow}{or}\ \textcolor{stringliteral}{"{}text/plain"{}}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00237}00237\ \ \ \ \ \ \ \ \ \ \ \ \ resp.headers\ =\ \mbox{\hyperlink{classpip_1_1__vendor_1_1requests_1_1structures_1_1_case_insensitive_dict}{CaseInsensitiveDict}}(}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00238}00238\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00239}00239\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Content-\/Type"{}}:\ content\_type,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00240}00240\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Content-\/Length"{}}:\ stats.st\_size,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00241}00241\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Last-\/Modified"{}}:\ modified,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00242}00242\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00243}00243\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00244}00244\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00245}00245\ \ \ \ \ \ \ \ \ \ \ \ \ resp.raw\ =\ open(pathname,\ \textcolor{stringliteral}{"{}rb"{}})}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00246}00246\ \ \ \ \ \ \ \ \ \ \ \ \ resp.close\ =\ resp.raw.close}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00247}00247\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00248}00248\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ resp}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00249}00249\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00250}00250\ \ \ \ \ \textcolor{keyword}{def\ }close(self)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00251}00251\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{pass}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00252}00252\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00253}00253\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00254}00254\ \textcolor{keyword}{class\ }\_SSLContextAdapterMixin:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00255}00255\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Mixin\ to\ add\ the\ \`{}\`{}ssl\_context\`{}\`{}\ constructor\ argument\ to\ HTTP\ adapters.}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00256}00256\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00257}00257\ \textcolor{stringliteral}{\ \ \ \ The\ additional\ argument\ is\ forwarded\ directly\ to\ the\ pool\ manager.\ This\ allows\ us}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00258}00258\ \textcolor{stringliteral}{\ \ \ \ to\ dynamically\ decide\ what\ SSL\ store\ to\ use\ at\ runtime,\ which\ is\ used\ to\ implement}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00259}00259\ \textcolor{stringliteral}{\ \ \ \ the\ optional\ \`{}\`{}truststore\`{}\`{}\ backend.}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00260}00260\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00261}00261\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00262}00262\ \ \ \ \ \textcolor{keyword}{def\ }\_\_init\_\_(}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00263}00263\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00264}00264\ \ \ \ \ \ \ \ \ *,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00265}00265\ \ \ \ \ \ \ \ \ ssl\_context:\ Optional[\textcolor{stringliteral}{"{}SSLContext"{}}]\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00266}00266\ \ \ \ \ \ \ \ \ **kwargs:\ Any,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00267}00267\ \ \ \ \ )\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00268}00268\ \ \ \ \ \ \ \ \ self.\_ssl\_context\ =\ ssl\_context}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00269}00269\ \ \ \ \ \ \ \ \ super().\_\_init\_\_(**kwargs)}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00270}00270\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00271}00271\ \ \ \ \ \textcolor{keyword}{def\ }init\_poolmanager(}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00272}00272\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00273}00273\ \ \ \ \ \ \ \ \ connections:\ int,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00274}00274\ \ \ \ \ \ \ \ \ maxsize:\ int,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00275}00275\ \ \ \ \ \ \ \ \ block:\ bool\ =\ DEFAULT\_POOLBLOCK,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00276}00276\ \ \ \ \ \ \ \ \ **pool\_kwargs:\ Any,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00277}00277\ \ \ \ \ )\ -\/>\ \textcolor{stringliteral}{"{}PoolManager"{}}:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00278}00278\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\_ssl\_context\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00279}00279\ \ \ \ \ \ \ \ \ \ \ \ \ pool\_kwargs.setdefault(\textcolor{stringliteral}{"{}ssl\_context"{}},\ self.\_ssl\_context)}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00280}00280\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ super().init\_poolmanager(\ \ \textcolor{comment}{\#\ type:\ ignore[misc]}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00281}00281\ \ \ \ \ \ \ \ \ \ \ \ \ connections=connections,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00282}00282\ \ \ \ \ \ \ \ \ \ \ \ \ maxsize=maxsize,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00283}00283\ \ \ \ \ \ \ \ \ \ \ \ \ block=block,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00284}00284\ \ \ \ \ \ \ \ \ \ \ \ \ **pool\_kwargs,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00285}00285\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00286}00286\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00287}00287\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00288}00288\ \textcolor{keyword}{class\ }HTTPAdapter(\_SSLContextAdapterMixin,\ \_BaseHTTPAdapter):}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00289}00289\ \ \ \ \ \textcolor{keywordflow}{pass}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00290}00290\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00291}00291\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00292}00292\ \textcolor{keyword}{class\ }CacheControlAdapter(\_SSLContextAdapterMixin,\ \_BaseCacheControlAdapter):}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00293}00293\ \ \ \ \ \textcolor{keywordflow}{pass}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00294}00294\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00295}00295\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00296}00296\ \textcolor{keyword}{class\ }InsecureHTTPAdapter(HTTPAdapter):}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00297}00297\ \ \ \ \ \textcolor{keyword}{def\ }cert\_verify(}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00298}00298\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00299}00299\ \ \ \ \ \ \ \ \ conn:\ ConnectionPool,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00300}00300\ \ \ \ \ \ \ \ \ url:\ str,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00301}00301\ \ \ \ \ \ \ \ \ verify:\ Union[bool,\ str],}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00302}00302\ \ \ \ \ \ \ \ \ cert:\ Optional[Union[str,\ Tuple[str,\ str]]],}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00303}00303\ \ \ \ \ )\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00304}00304\ \ \ \ \ \ \ \ \ super().cert\_verify(conn=conn,\ url=url,\ verify=\textcolor{keyword}{False},\ cert=cert)}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00305}00305\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00306}00306\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00307}00307\ \textcolor{keyword}{class\ }InsecureCacheControlAdapter(CacheControlAdapter):}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00308}00308\ \ \ \ \ \textcolor{keyword}{def\ }cert\_verify(}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00309}00309\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00310}00310\ \ \ \ \ \ \ \ \ conn:\ ConnectionPool,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00311}00311\ \ \ \ \ \ \ \ \ url:\ str,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00312}00312\ \ \ \ \ \ \ \ \ verify:\ Union[bool,\ str],}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00313}00313\ \ \ \ \ \ \ \ \ cert:\ Optional[Union[str,\ Tuple[str,\ str]]],}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00314}00314\ \ \ \ \ )\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00315}00315\ \ \ \ \ \ \ \ \ super().cert\_verify(conn=conn,\ url=url,\ verify=\textcolor{keyword}{False},\ cert=cert)}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00316}00316\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00317}00317\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00318}00318\ \textcolor{keyword}{class\ }PipSession(requests.Session):}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00319}00319\ \ \ \ \ timeout:\ Optional[int]\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00320}00320\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00321}00321\ \ \ \ \ \textcolor{keyword}{def\ }\_\_init\_\_(}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00322}00322\ \ \ \ \ \ \ \ \ self,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00323}00323\ \ \ \ \ \ \ \ \ *args:\ Any,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00324}00324\ \ \ \ \ \ \ \ \ retries:\ int\ =\ 0,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00325}00325\ \ \ \ \ \ \ \ \ cache:\ Optional[str]\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00326}00326\ \ \ \ \ \ \ \ \ trusted\_hosts:\ Sequence[str]\ =\ (),}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00327}00327\ \ \ \ \ \ \ \ \ index\_urls:\ Optional[List[str]]\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00328}00328\ \ \ \ \ \ \ \ \ ssl\_context:\ Optional[\textcolor{stringliteral}{"{}SSLContext"{}}]\ =\ \textcolor{keywordtype}{None},}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00329}00329\ \ \ \ \ \ \ \ \ **kwargs:\ Any,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00330}00330\ \ \ \ \ )\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00331}00331\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00332}00332\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ :param\ trusted\_hosts:\ Domains\ not\ to\ emit\ warnings\ for\ when\ not\ using}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00333}00333\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ HTTPS.}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00334}00334\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00335}00335\ \ \ \ \ \ \ \ \ super().\_\_init\_\_(*args,\ **kwargs)}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00336}00336\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00337}00337\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Namespace\ the\ attribute\ with\ "{}pip\_"{}\ just\ in\ case\ to\ prevent}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00338}00338\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ possible\ conflicts\ with\ the\ base\ class.}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00339}00339\ \ \ \ \ \ \ \ \ self.pip\_trusted\_origins:\ List[Tuple[str,\ Optional[int]]]\ =\ []}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00340}00340\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00341}00341\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Attach\ our\ User\ Agent\ to\ the\ request}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00342}00342\ \ \ \ \ \ \ \ \ self.headers[\textcolor{stringliteral}{"{}User-\/Agent"{}}]\ =\ user\_agent()}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00343}00343\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00344}00344\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Attach\ our\ Authentication\ handler\ to\ the\ session}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00345}00345\ \ \ \ \ \ \ \ \ self.auth\ =\ MultiDomainBasicAuth(index\_urls=index\_urls)}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00346}00346\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00347}00347\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Create\ our\ urllib3.Retry\ instance\ which\ will\ allow\ us\ to\ customize}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00348}00348\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ how\ we\ handle\ retries.}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00349}00349\ \ \ \ \ \ \ \ \ retries\ =\ urllib3.Retry(}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00350}00350\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Set\ the\ total\ number\ of\ retries\ that\ a\ particular\ request\ can}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00351}00351\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ have.}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00352}00352\ \ \ \ \ \ \ \ \ \ \ \ \ total=retries,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00353}00353\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ A\ 503\ error\ from\ PyPI\ typically\ means\ that\ the\ Fastly\ -\/>\ Origin}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00354}00354\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ connection\ got\ interrupted\ in\ some\ way.\ A\ 503\ error\ in\ general}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00355}00355\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ is\ typically\ considered\ a\ transient\ error\ so\ we'll\ go\ ahead\ and}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00356}00356\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ retry\ it.}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00357}00357\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ A\ 500\ may\ indicate\ transient\ error\ in\ Amazon\ S3}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00358}00358\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ A\ 520\ or\ 527\ -\/\ may\ indicate\ transient\ error\ in\ CloudFlare}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00359}00359\ \ \ \ \ \ \ \ \ \ \ \ \ status\_forcelist=[500,\ 503,\ 520,\ 527],}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00360}00360\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Add\ a\ small\ amount\ of\ back\ off\ between\ failed\ requests\ in}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00361}00361\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ order\ to\ prevent\ hammering\ the\ service.}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00362}00362\ \ \ \ \ \ \ \ \ \ \ \ \ backoff\_factor=0.25,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00363}00363\ \ \ \ \ \ \ \ \ )\ \ \textcolor{comment}{\#\ type:\ ignore}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00364}00364\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00365}00365\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Our\ Insecure\ HTTPAdapter\ disables\ HTTPS\ validation.\ It\ does\ not}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00366}00366\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ support\ caching\ so\ we'll\ use\ it\ for\ all\ http://\ URLs.}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00367}00367\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ If\ caching\ is\ disabled,\ we\ will\ also\ use\ it\ for}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00368}00368\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ https://\ hosts\ that\ we've\ marked\ as\ ignoring}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00369}00369\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ TLS\ errors\ for\ (trusted-\/hosts).}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00370}00370\ \ \ \ \ \ \ \ \ insecure\_adapter\ =\ InsecureHTTPAdapter(max\_retries=retries)}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00371}00371\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00372}00372\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ We\ want\ to\ \_only\_\ cache\ responses\ on\ securely\ fetched\ origins\ or\ when}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00373}00373\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ the\ host\ is\ specified\ as\ trusted.\ We\ do\ this\ because}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00374}00374\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ we\ can't\ validate\ the\ response\ of\ an\ insecurely/untrusted\ fetched}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00375}00375\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ origin,\ and\ we\ don't\ want\ someone\ to\ be\ able\ to\ poison\ the\ cache\ and}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00376}00376\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ require\ manual\ eviction\ from\ the\ cache\ to\ fix\ it.}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00377}00377\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ cache:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00378}00378\ \ \ \ \ \ \ \ \ \ \ \ \ secure\_adapter\ =\ CacheControlAdapter(}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00379}00379\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cache=SafeFileCache(cache),}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00380}00380\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ max\_retries=retries,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00381}00381\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ssl\_context=ssl\_context,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00382}00382\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00383}00383\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_trusted\_host\_adapter\ =\ InsecureCacheControlAdapter(}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00384}00384\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cache=SafeFileCache(cache),}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00385}00385\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ max\_retries=retries,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00386}00386\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00387}00387\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00388}00388\ \ \ \ \ \ \ \ \ \ \ \ \ secure\_adapter\ =\ HTTPAdapter(max\_retries=retries,\ ssl\_context=ssl\_context)}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00389}00389\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_trusted\_host\_adapter\ =\ insecure\_adapter}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00390}00390\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00391}00391\ \ \ \ \ \ \ \ \ self.mount(\textcolor{stringliteral}{"{}https://"{}},\ secure\_adapter)}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00392}00392\ \ \ \ \ \ \ \ \ self.mount(\textcolor{stringliteral}{"{}http://"{}},\ insecure\_adapter)}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00393}00393\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00394}00394\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Enable\ file://\ urls}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00395}00395\ \ \ \ \ \ \ \ \ self.mount(\textcolor{stringliteral}{"{}file://"{}},\ LocalFSAdapter())}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00396}00396\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00397}00397\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ host\ \textcolor{keywordflow}{in}\ trusted\_hosts:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00398}00398\ \ \ \ \ \ \ \ \ \ \ \ \ self.add\_trusted\_host(host,\ suppress\_logging=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00399}00399\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00400}00400\ \ \ \ \ \textcolor{keyword}{def\ }update\_index\_urls(self,\ new\_index\_urls:\ List[str])\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00401}00401\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00402}00402\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ :param\ new\_index\_urls:\ New\ index\ urls\ to\ update\ the\ authentication}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00403}00403\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ handler\ with.}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00404}00404\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00405}00405\ \ \ \ \ \ \ \ \ self.auth.index\_urls\ =\ new\_index\_urls}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00406}00406\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00407}00407\ \ \ \ \ \textcolor{keyword}{def\ }add\_trusted\_host(}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00408}00408\ \ \ \ \ \ \ \ \ self,\ host:\ str,\ source:\ Optional[str]\ =\ \textcolor{keywordtype}{None},\ suppress\_logging:\ bool\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00409}00409\ \ \ \ \ )\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00410}00410\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00411}00411\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ :param\ host:\ It\ is\ okay\ to\ provide\ a\ host\ that\ has\ previously\ been}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00412}00412\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ added.}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00413}00413\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ :param\ source:\ An\ optional\ source\ string,\ for\ logging\ where\ the\ host}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00414}00414\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ string\ came\ from.}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00415}00415\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00416}00416\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ suppress\_logging:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00417}00417\ \ \ \ \ \ \ \ \ \ \ \ \ msg\ =\ f\textcolor{stringliteral}{"{}adding\ trusted\ host:\ \{host!r\}"{}}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00418}00418\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ source\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00419}00419\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ msg\ +=\ f\textcolor{stringliteral}{"{}\ (from\ \{source\})"{}}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00420}00420\ \ \ \ \ \ \ \ \ \ \ \ \ logger.info(msg)}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00421}00421\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00422}00422\ \ \ \ \ \ \ \ \ parsed\_host,\ parsed\_port\ =\ parse\_netloc(host)}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00423}00423\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ parsed\_host\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00424}00424\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ ValueError(f\textcolor{stringliteral}{"{}Trusted\ host\ URL\ must\ include\ a\ host\ part:\ \{host!r\}"{}})}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00425}00425\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (parsed\_host,\ parsed\_port)\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ self.pip\_trusted\_origins:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00426}00426\ \ \ \ \ \ \ \ \ \ \ \ \ self.pip\_trusted\_origins.append((parsed\_host,\ parsed\_port))}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00427}00427\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00428}00428\ \ \ \ \ \ \ \ \ self.mount(}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00429}00429\ \ \ \ \ \ \ \ \ \ \ \ \ build\_url\_from\_netloc(host,\ scheme=\textcolor{stringliteral}{"{}http"{}})\ +\ \textcolor{stringliteral}{"{}/"{}},\ self.\_trusted\_host\_adapter}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00430}00430\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00431}00431\ \ \ \ \ \ \ \ \ self.mount(build\_url\_from\_netloc(host)\ +\ \textcolor{stringliteral}{"{}/"{}},\ self.\_trusted\_host\_adapter)}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00432}00432\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ parsed\_port:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00433}00433\ \ \ \ \ \ \ \ \ \ \ \ \ self.mount(}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00434}00434\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ build\_url\_from\_netloc(host,\ scheme=\textcolor{stringliteral}{"{}http"{}})\ +\ \textcolor{stringliteral}{"{}:"{}},}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00435}00435\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_trusted\_host\_adapter,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00436}00436\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00437}00437\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Mount\ wildcard\ ports\ for\ the\ same\ host.}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00438}00438\ \ \ \ \ \ \ \ \ \ \ \ \ self.mount(build\_url\_from\_netloc(host)\ +\ \textcolor{stringliteral}{"{}:"{}},\ self.\_trusted\_host\_adapter)}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00439}00439\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00440}00440\ \ \ \ \ \textcolor{keyword}{def\ }iter\_secure\_origins(self)\ -\/>\ Generator[SecureOrigin,\ None,\ None]:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00441}00441\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{yield}\ \textcolor{keyword}{from}\ SECURE\_ORIGINS}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00442}00442\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ host,\ port\ \textcolor{keywordflow}{in}\ self.pip\_trusted\_origins:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00443}00443\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{yield}\ (\textcolor{stringliteral}{"{}*"{}},\ host,\ \textcolor{stringliteral}{"{}*"{}}\ \textcolor{keywordflow}{if}\ port\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{else}\ port)}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00444}00444\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00445}00445\ \ \ \ \ \textcolor{keyword}{def\ }is\_secure\_origin(self,\ location:\ Link)\ -\/>\ bool:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00446}00446\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Determine\ if\ this\ url\ used\ a\ secure\ transport\ mechanism}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00447}00447\ \ \ \ \ \ \ \ \ parsed\ =\ urllib.parse.urlparse(str(location))}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00448}00448\ \ \ \ \ \ \ \ \ origin\_protocol,\ origin\_host,\ origin\_port\ =\ (}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00449}00449\ \ \ \ \ \ \ \ \ \ \ \ \ parsed.scheme,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00450}00450\ \ \ \ \ \ \ \ \ \ \ \ \ parsed.hostname,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00451}00451\ \ \ \ \ \ \ \ \ \ \ \ \ parsed.port,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00452}00452\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00453}00453\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00454}00454\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ The\ protocol\ to\ use\ to\ see\ if\ the\ protocol\ matches.}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00455}00455\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Don't\ count\ the\ repository\ type\ as\ part\ of\ the\ protocol:\ in}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00456}00456\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ cases\ such\ as\ "{}git+ssh"{},\ only\ use\ "{}ssh"{}.\ (I.e.,\ Only\ verify\ against}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00457}00457\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ the\ last\ scheme.)}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00458}00458\ \ \ \ \ \ \ \ \ origin\_protocol\ =\ origin\_protocol.rsplit(\textcolor{stringliteral}{"{}+"{}},\ 1)[-\/1]}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00459}00459\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00460}00460\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Determine\ if\ our\ origin\ is\ a\ secure\ origin\ by\ looking\ through\ our}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00461}00461\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ hardcoded\ list\ of\ secure\ origins,\ as\ well\ as\ any\ additional\ ones}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00462}00462\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ configured\ on\ this\ PackageFinder\ instance.}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00463}00463\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ secure\_origin\ \textcolor{keywordflow}{in}\ self.iter\_secure\_origins():}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00464}00464\ \ \ \ \ \ \ \ \ \ \ \ \ secure\_protocol,\ secure\_host,\ secure\_port\ =\ secure\_origin}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00465}00465\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ origin\_protocol\ !=\ secure\_protocol\ \textcolor{keywordflow}{and}\ secure\_protocol\ !=\ \textcolor{stringliteral}{"{}*"{}}:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00466}00466\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00467}00467\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00468}00468\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00469}00469\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ addr\ =\ ipaddress.ip\_address(origin\_host\ \textcolor{keywordflow}{or}\ \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00470}00470\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ network\ =\ ipaddress.ip\_network(secure\_host)}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00471}00471\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ ValueError:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00472}00472\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ We\ don't\ have\ both\ a\ valid\ address\ or\ a\ valid\ network,\ so}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00473}00473\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ we'll\ check\ this\ origin\ against\ hostnames.}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00474}00474\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00475}00475\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ origin\_host}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00476}00476\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ origin\_host.lower()\ !=\ secure\_host.lower()}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00477}00477\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ secure\_host\ !=\ \textcolor{stringliteral}{"{}*"{}}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00478}00478\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ):}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00479}00479\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00480}00480\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00481}00481\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ We\ have\ a\ valid\ address\ and\ network,\ so\ see\ if\ the\ address}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00482}00482\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ is\ contained\ within\ the\ network.}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00483}00483\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ addr\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ network:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00484}00484\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00485}00485\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00486}00486\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Check\ to\ see\ if\ the\ port\ matches.}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00487}00487\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00488}00488\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ origin\_port\ !=\ secure\_port}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00489}00489\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ secure\_port\ !=\ \textcolor{stringliteral}{"{}*"{}}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00490}00490\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ secure\_port\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00491}00491\ \ \ \ \ \ \ \ \ \ \ \ \ ):}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00492}00492\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00493}00493\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00494}00494\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ If\ we've\ gotten\ here,\ then\ this\ origin\ matches\ the\ current}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00495}00495\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ secure\ origin\ and\ we\ should\ return\ True}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00496}00496\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00497}00497\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00498}00498\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ If\ we've\ gotten\ to\ this\ point,\ then\ the\ origin\ isn't\ secure\ and\ we}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00499}00499\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ will\ not\ accept\ it\ as\ a\ valid\ location\ to\ search.\ We\ will\ however}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00500}00500\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ log\ a\ warning\ that\ we\ are\ ignoring\ it.}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00501}00501\ \ \ \ \ \ \ \ \ logger.warning(}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00502}00502\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ repository\ located\ at\ \%s\ is\ not\ a\ trusted\ or\ secure\ host\ and\ "{}}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00503}00503\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}is\ being\ ignored.\ If\ this\ repository\ is\ available\ via\ HTTPS\ we\ "{}}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00504}00504\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}recommend\ you\ use\ HTTPS\ instead,\ otherwise\ you\ may\ silence\ "{}}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00505}00505\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}this\ warning\ and\ allow\ it\ anyway\ with\ '-\/-\/trusted-\/host\ \%s'."{}},}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00506}00506\ \ \ \ \ \ \ \ \ \ \ \ \ origin\_host,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00507}00507\ \ \ \ \ \ \ \ \ \ \ \ \ origin\_host,}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00508}00508\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00509}00509\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00510}00510\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00511}00511\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00512}00512\ \ \ \ \ \textcolor{keyword}{def\ }request(self,\ method:\ str,\ url:\ str,\ *args:\ Any,\ **kwargs:\ Any)\ -\/>\ Response:}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00513}00513\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Allow\ setting\ a\ default\ timeout\ on\ a\ session}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00514}00514\ \ \ \ \ \ \ \ \ kwargs.setdefault(\textcolor{stringliteral}{"{}timeout"{}},\ self.timeout)}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00515}00515\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Allow\ setting\ a\ default\ proxies\ on\ a\ session}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00516}00516\ \ \ \ \ \ \ \ \ kwargs.setdefault(\textcolor{stringliteral}{"{}proxies"{}},\ self.proxies)}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00517}00517\ }
\DoxyCodeLine{\Hypertarget{session_8py_source_l00518}00518\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Dispatch\ the\ actual\ request}}
\DoxyCodeLine{\Hypertarget{session_8py_source_l00519}00519\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ super().request(method,\ url,\ *args,\ **kwargs)}

\end{DoxyCode}
