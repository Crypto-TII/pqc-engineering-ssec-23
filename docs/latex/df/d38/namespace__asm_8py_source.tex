\doxysection{namespace\+\_\+asm.\+py}
\hypertarget{namespace__asm_8py_source}{}\label{namespace__asm_8py_source}\index{E:/pqc-\/engineering-\/ssec-\/23/dCTIDH/src/common/fp/namespace\_asm.py@{E:/pqc-\/engineering-\/ssec-\/23/dCTIDH/src/common/fp/namespace\_asm.py}}
\mbox{\hyperlink{namespace__asm_8py}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00001}\mbox{\hyperlink{namespacenamespace__asm}{00001}}\ \textcolor{keyword}{import}\ re}
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00002}00002\ \textcolor{keyword}{from}\ typing\ \textcolor{keyword}{import}\ Set}
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00003}00003\ }
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00004}\mbox{\hyperlink{namespacenamespace__asm_ad2a5f35a18db5ced4c87beb164281577}{00004}}\ FNAME\_REGEX\ =\ re.compile(\textcolor{stringliteral}{r"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00005}00005\ \textcolor{stringliteral}{\ \ \ \ ((.global|call)\(\backslash\)s+(?P<name>(\(\backslash\)w|\(\backslash\)d)+))|}}
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00006}00006\ \textcolor{stringliteral}{\ \ \ \ (\string^(?P<label>(\(\backslash\)d|\(\backslash\)w)+):)}}
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00007}00007\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}},\ re.VERBOSE)}
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00008}00008\ }
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00009}00009\ }
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00010}\mbox{\hyperlink{namespacenamespace__asm_aa73e3273c05dd115cf635a10eb713fee}{00010}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacenamespace__asm_aa73e3273c05dd115cf635a10eb713fee}{get\_functionnames}}(filecontent:\ str)\ -\/>\ Set[str]:}
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00011}00011\ \ \ \ \ found\ =\ set()}
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00012}00012\ \ \ \ \ \textcolor{keywordflow}{for}\ line\ \textcolor{keywordflow}{in}\ filecontent.splitlines():}
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00013}00013\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (match\ :=\ FNAME\_REGEX.search(line))\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00014}00014\ \ \ \ \ \ \ \ \ \ \ \ \ name\ =\ match.group(\textcolor{stringliteral}{"{}name"{}})\ \textcolor{keywordflow}{or}\ match.group(\textcolor{stringliteral}{"{}label"{}})}
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00015}00015\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{"{}secsidh\_csidh\_internal"{}}\ \textcolor{keywordflow}{in}\ name\ \textcolor{keywordflow}{or}\ \textcolor{stringliteral}{"{}secsidh\_ctidh\_internal"{}}\ \textcolor{keywordflow}{in}\ name\ \textcolor{keywordflow}{or}\ name\ ==\ \textcolor{stringliteral}{"{}randombytes"{}}:}
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00016}00016\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00017}00017\ \ \ \ \ \ \ \ \ \ \ \ \ found.add(name)}
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00018}00018\ \ \ \ \ \textcolor{keywordflow}{return}\ found}
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00019}00019\ }
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00020}00020\ }
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00021}00021\ \textcolor{keywordflow}{if}\ \_\_name\_\_\ ==\ \textcolor{stringliteral}{"{}\_\_main\_\_"{}}:}
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00022}00022\ \ \ \ \ \textcolor{keyword}{import}\ sys}
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00023}00023\ \ \ \ \ \textcolor{keywordflow}{if}\ len(sys.argv)\ !=\ 3:}
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00024}\mbox{\hyperlink{namespacenamespace__asm_a40a5d58ffa6e88aa578d6683ac413105}{00024}}\ \ \ \ \ \ \ \ \ print(f\textcolor{stringliteral}{"{}Usage:\ \{sys.argv[0]\}\ prime\ file.s"{}},\ file=sys.stderr)}
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00025}00025\ \ \ \ \ \ \ \ \ exit(1)}
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00026}\mbox{\hyperlink{namespacenamespace__asm_a014aac2d5929e8f5929de161de2719f1}{00026}}\ \ \ \ \ prime\ =\ sys.argv[1]}
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00027}\mbox{\hyperlink{namespacenamespace__asm_a26ab120be7158d2693a6b353e0aad82d}{00027}}\ \ \ \ \ inputfilename\ =\ sys.argv[2]}
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00028}00028\ }
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00029}00029\ \ \ \ \ \textcolor{keyword}{assert}\ prime\ \textcolor{keywordflow}{in}\ (\textcolor{stringliteral}{"{}512"{}},\ \textcolor{stringliteral}{"{}2047k221"{}},\ \textcolor{stringliteral}{"{}4095k256"{}},\ \textcolor{stringliteral}{"{}5119k234"{}},\ \textcolor{stringliteral}{"{}6143k256"{}},\ \textcolor{stringliteral}{"{}8191k332"{}},\ \textcolor{stringliteral}{"{}9215k384"{}})}
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00030}00030\ }
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00031}00031\ \ \ \ \ \textcolor{keyword}{with}\ open(inputfilename,\ \textcolor{stringliteral}{"{}r"{}})\ \textcolor{keyword}{as}\ fh:}
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00032}\mbox{\hyperlink{namespacenamespace__asm_aa6082c83a20a90e5a2ab9f216961972f}{00032}}\ \ \ \ \ \ \ \ \ contents\ =\ fh.read()}
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00033}00033\ }
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00034}\mbox{\hyperlink{namespacenamespace__asm_a557c6dba09b260b3fcbe1dd9481f58f8}{00034}}\ \ \ \ \ functionnames\ =\ \mbox{\hyperlink{namespacenamespace__asm_aa73e3273c05dd115cf635a10eb713fee}{get\_functionnames}}(contents)}
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00035}00035\ }
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00036}00036\ \ \ \ \ \textcolor{keywordflow}{for}\ name\ \textcolor{keywordflow}{in}\ functionnames:}
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00037}00037\ \ \ \ \ \ \ \ \ contents\ =\ re.sub(fr\textcolor{stringliteral}{"{}\(\backslash\)b\{name\}\(\backslash\)b"{}},\ f\textcolor{stringliteral}{"{}secsidh\_csidh\_internal\_\{prime\}\_\{name\}"{}},\ contents)}
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00038}00038\ }
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00039}00039\ \ \ \ \ \textcolor{keyword}{assert}\ len(\mbox{\hyperlink{namespacenamespace__asm_aa73e3273c05dd115cf635a10eb713fee}{get\_functionnames}}(contents))\ ==\ 0,\ f\textcolor{stringliteral}{"{}missed\ \{get\_functionnames(contents)\}"{}}}
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00040}00040\ }
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00041}00041\ \ \ \ \ \textcolor{keyword}{with}\ open(inputfilename,\ \textcolor{stringliteral}{"{}w"{}})\ \textcolor{keyword}{as}\ fh:}
\DoxyCodeLine{\Hypertarget{namespace__asm_8py_source_l00042}00042\ \ \ \ \ \ \ \ \ fh.write(contents)}

\end{DoxyCode}
