\doxysection{pip.\+\_\+internal.\+metadata.\+base Namespace Reference}
\hypertarget{namespacepip_1_1__internal_1_1metadata_1_1base}{}\label{namespacepip_1_1__internal_1_1metadata_1_1base}\index{pip.\_internal.metadata.base@{pip.\_internal.metadata.base}}
\doxysubsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classpip_1_1__internal_1_1metadata_1_1base_1_1_base_distribution}{Base\+Distribution}}
\item 
class \mbox{\hyperlink{classpip_1_1__internal_1_1metadata_1_1base_1_1_base_entry_point}{Base\+Entry\+Point}}
\item 
class \mbox{\hyperlink{classpip_1_1__internal_1_1metadata_1_1base_1_1_base_environment}{Base\+Environment}}
\item 
class \mbox{\hyperlink{classpip_1_1__internal_1_1metadata_1_1base_1_1_filesystem_wheel}{Filesystem\+Wheel}}
\item 
class \mbox{\hyperlink{classpip_1_1__internal_1_1metadata_1_1base_1_1_memory_wheel}{Memory\+Wheel}}
\item 
class \mbox{\hyperlink{classpip_1_1__internal_1_1metadata_1_1base_1_1_requires_entry}{Requires\+Entry}}
\item 
class \mbox{\hyperlink{classpip_1_1__internal_1_1metadata_1_1base_1_1_wheel}{Wheel}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
str \mbox{\hyperlink{namespacepip_1_1__internal_1_1metadata_1_1base_a90dd029149d026cd7fac43a45f2a1f70}{\+\_\+convert\+\_\+installed\+\_\+files\+\_\+path}} (Tuple\mbox{[}str,...\mbox{]} entry, Tuple\mbox{[}str,...\mbox{]} info)
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacepip_1_1__internal_1_1metadata_1_1base_aac39b55be6469395f55ff0292ad8184c}{Protocol}} = object
\item 
\mbox{\hyperlink{namespacepip_1_1__internal_1_1metadata_1_1base_a430f78ce1ade5f58fcc743b1c78cdb19}{Distribution\+Version}} = Union\mbox{[}\mbox{\hyperlink{classpip_1_1__vendor_1_1packaging_1_1version_1_1_legacy_version}{Legacy\+Version}}, \mbox{\hyperlink{classpip_1_1__vendor_1_1packaging_1_1version_1_1_version}{Version}}\mbox{]}
\item 
\mbox{\hyperlink{namespacepip_1_1__internal_1_1metadata_1_1base_aeb5d9b0d7f1636c4103ba64cd14fd9e4}{Info\+Path}} = Union\mbox{[}str, pathlib.\+Pure\+Path\mbox{]}
\item 
\mbox{\hyperlink{namespacepip_1_1__internal_1_1metadata_1_1base_a0b14e488ae28d98d262453f3e9cd6e4d}{logger}} = logging.\+get\+Logger(\+\_\+\+\_\+name\+\_\+\+\_\+)
\end{DoxyCompactItemize}


\label{doc-func-members}
\Hypertarget{namespacepip_1_1__internal_1_1metadata_1_1base_doc-func-members}
\doxysubsection{Function Documentation}
\Hypertarget{namespacepip_1_1__internal_1_1metadata_1_1base_a90dd029149d026cd7fac43a45f2a1f70}\index{pip.\_internal.metadata.base@{pip.\_internal.metadata.base}!\_convert\_installed\_files\_path@{\_convert\_installed\_files\_path}}
\index{\_convert\_installed\_files\_path@{\_convert\_installed\_files\_path}!pip.\_internal.metadata.base@{pip.\_internal.metadata.base}}
\doxysubsubsection{\texorpdfstring{\_convert\_installed\_files\_path()}{\_convert\_installed\_files\_path()}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1metadata_1_1base_a90dd029149d026cd7fac43a45f2a1f70} 
 str \+\_\+convert\+\_\+installed\+\_\+files\+\_\+path (\begin{DoxyParamCaption}\item[{Tuple\mbox{[}str, ...\mbox{]}}]{entry}{, }\item[{Tuple\mbox{[}str, ...\mbox{]}}]{info}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Convert a legacy installed-files.txt path into modern RECORD path.

The legacy format stores paths relative to the info directory, while the
modern format stores paths relative to the package root, e.g. the
site-packages directory.

:param entry: Path parts of the installed-files.txt entry.
:param info: Path parts of the egg-info directory relative to package root.
:returns: The converted entry.

For best compatibility with symlinks, this does not use ``abspath()`` or
``Path.resolve()``, but tries to work with path parts:

1. While ``entry`` starts with ``..``, remove the equal amounts of parts
   from ``info``; if ``info`` is empty, start appending ``..`` instead.
2. Join the two directly.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{metadata_2base_8py_source_l00071}{71}} of file \mbox{\hyperlink{metadata_2base_8py_source}{base.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00074\ )\ -\/>\ str:}
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Convert\ a\ legacy\ installed-\/files.txt\ path\ into\ modern\ RECORD\ path.}}
\DoxyCodeLine{00076\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00077\ \textcolor{stringliteral}{\ \ \ \ The\ legacy\ format\ stores\ paths\ relative\ to\ the\ info\ directory,\ while\ the}}
\DoxyCodeLine{00078\ \textcolor{stringliteral}{\ \ \ \ modern\ format\ stores\ paths\ relative\ to\ the\ package\ root,\ e.g.\ the}}
\DoxyCodeLine{00079\ \textcolor{stringliteral}{\ \ \ \ site-\/packages\ directory.}}
\DoxyCodeLine{00080\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00081\ \textcolor{stringliteral}{\ \ \ \ :param\ entry:\ Path\ parts\ of\ the\ installed-\/files.txt\ entry.}}
\DoxyCodeLine{00082\ \textcolor{stringliteral}{\ \ \ \ :param\ info:\ Path\ parts\ of\ the\ egg-\/info\ directory\ relative\ to\ package\ root.}}
\DoxyCodeLine{00083\ \textcolor{stringliteral}{\ \ \ \ :returns:\ The\ converted\ entry.}}
\DoxyCodeLine{00084\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00085\ \textcolor{stringliteral}{\ \ \ \ For\ best\ compatibility\ with\ symlinks,\ this\ does\ not\ use\ \`{}\`{}abspath()\`{}\`{}\ or}}
\DoxyCodeLine{00086\ \textcolor{stringliteral}{\ \ \ \ \`{}\`{}Path.resolve()\`{}\`{},\ but\ tries\ to\ work\ with\ path\ parts:}}
\DoxyCodeLine{00087\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00088\ \textcolor{stringliteral}{\ \ \ \ 1.\ While\ \`{}\`{}entry\`{}\`{}\ starts\ with\ \`{}\`{}..\`{}\`{},\ remove\ the\ equal\ amounts\ of\ parts}}
\DoxyCodeLine{00089\ \textcolor{stringliteral}{\ \ \ \ \ \ \ from\ \`{}\`{}info\`{}\`{};\ if\ \`{}\`{}info\`{}\`{}\ is\ empty,\ start\ appending\ \`{}\`{}..\`{}\`{}\ instead.}}
\DoxyCodeLine{00090\ \textcolor{stringliteral}{\ \ \ \ 2.\ Join\ the\ two\ directly.}}
\DoxyCodeLine{00091\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00092\ \ \ \ \ \textcolor{keywordflow}{while}\ entry\ \textcolor{keywordflow}{and}\ entry[0]\ ==\ \textcolor{stringliteral}{"{}.."{}}:}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ info\ \textcolor{keywordflow}{or}\ info[-\/1]\ ==\ \textcolor{stringliteral}{"{}.."{}}:}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \ \ \ \ info\ +=\ (\textcolor{stringliteral}{"{}.."{}},)}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \ \ \ \ info\ =\ info[:-\/1]}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ entry\ =\ entry[1:]}
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{keywordflow}{return}\ str(pathlib.Path(*info,\ *entry))}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ }

\end{DoxyCode}


Referenced by \mbox{\hyperlink{metadata_2base_8py_source_l00474}{Base\+Distribution.\+\_\+iter\+\_\+declared\+\_\+entries\+\_\+from\+\_\+legacy()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d6/d40/namespacepip_1_1__internal_1_1metadata_1_1base_a90dd029149d026cd7fac43a45f2a1f70_icgraph}
\end{center}
\end{figure}


\label{doc-var-members}
\Hypertarget{namespacepip_1_1__internal_1_1metadata_1_1base_doc-var-members}
\doxysubsection{Variable Documentation}
\Hypertarget{namespacepip_1_1__internal_1_1metadata_1_1base_a430f78ce1ade5f58fcc743b1c78cdb19}\index{pip.\_internal.metadata.base@{pip.\_internal.metadata.base}!DistributionVersion@{DistributionVersion}}
\index{DistributionVersion@{DistributionVersion}!pip.\_internal.metadata.base@{pip.\_internal.metadata.base}}
\doxysubsubsection{\texorpdfstring{DistributionVersion}{DistributionVersion}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1metadata_1_1base_a430f78ce1ade5f58fcc743b1c78cdb19} 
Distribution\+Version = Union\mbox{[}\mbox{\hyperlink{classpip_1_1__vendor_1_1packaging_1_1version_1_1_legacy_version}{Legacy\+Version}}, \mbox{\hyperlink{classpip_1_1__vendor_1_1packaging_1_1version_1_1_version}{Version}}\mbox{]}}



Definition at line \mbox{\hyperlink{metadata_2base_8py_source_l00050}{50}} of file \mbox{\hyperlink{metadata_2base_8py_source}{base.\+py}}.

\Hypertarget{namespacepip_1_1__internal_1_1metadata_1_1base_aeb5d9b0d7f1636c4103ba64cd14fd9e4}\index{pip.\_internal.metadata.base@{pip.\_internal.metadata.base}!InfoPath@{InfoPath}}
\index{InfoPath@{InfoPath}!pip.\_internal.metadata.base@{pip.\_internal.metadata.base}}
\doxysubsubsection{\texorpdfstring{InfoPath}{InfoPath}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1metadata_1_1base_aeb5d9b0d7f1636c4103ba64cd14fd9e4} 
Info\+Path = Union\mbox{[}str, pathlib.\+Pure\+Path\mbox{]}}



Definition at line \mbox{\hyperlink{metadata_2base_8py_source_l00052}{52}} of file \mbox{\hyperlink{metadata_2base_8py_source}{base.\+py}}.

\Hypertarget{namespacepip_1_1__internal_1_1metadata_1_1base_a0b14e488ae28d98d262453f3e9cd6e4d}\index{pip.\_internal.metadata.base@{pip.\_internal.metadata.base}!logger@{logger}}
\index{logger@{logger}!pip.\_internal.metadata.base@{pip.\_internal.metadata.base}}
\doxysubsubsection{\texorpdfstring{logger}{logger}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1metadata_1_1base_a0b14e488ae28d98d262453f3e9cd6e4d} 
logger = logging.\+get\+Logger(\+\_\+\+\_\+name\+\_\+\+\_\+)}



Definition at line \mbox{\hyperlink{metadata_2base_8py_source_l00054}{54}} of file \mbox{\hyperlink{metadata_2base_8py_source}{base.\+py}}.

\Hypertarget{namespacepip_1_1__internal_1_1metadata_1_1base_aac39b55be6469395f55ff0292ad8184c}\index{pip.\_internal.metadata.base@{pip.\_internal.metadata.base}!Protocol@{Protocol}}
\index{Protocol@{Protocol}!pip.\_internal.metadata.base@{pip.\_internal.metadata.base}}
\doxysubsubsection{\texorpdfstring{Protocol}{Protocol}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1metadata_1_1base_aac39b55be6469395f55ff0292ad8184c} 
Protocol = object}



Definition at line \mbox{\hyperlink{metadata_2base_8py_source_l00048}{48}} of file \mbox{\hyperlink{metadata_2base_8py_source}{base.\+py}}.

