\doxysection{base.\+py}
\hypertarget{locations_2base_8py_source}{}\label{locations_2base_8py_source}\index{E:/pqc-\/engineering-\/ssec-\/23/venv/lib/python3.12/site-\/packages/pip/\_internal/locations/base.py@{E:/pqc-\/engineering-\/ssec-\/23/venv/lib/python3.12/site-\/packages/pip/\_internal/locations/base.py}}
\mbox{\hyperlink{locations_2base_8py}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00001}\mbox{\hyperlink{namespacepip_1_1__internal_1_1locations_1_1base}{00001}}\ \textcolor{keyword}{import}\ functools}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00002}00002\ \textcolor{keyword}{import}\ os}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00003}00003\ \textcolor{keyword}{import}\ site}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00004}00004\ \textcolor{keyword}{import}\ sys}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00005}00005\ \textcolor{keyword}{import}\ sysconfig}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00006}00006\ \textcolor{keyword}{import}\ typing}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00007}00007\ }
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00008}00008\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepip_1_1__internal_1_1exceptions}{pip.\_internal.exceptions}}\ \textcolor{keyword}{import}\ InstallationError}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00009}00009\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepip_1_1__internal_1_1utils}{pip.\_internal.utils}}\ \textcolor{keyword}{import}\ appdirs}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00010}00010\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespacepip_1_1__internal_1_1utils_1_1virtualenv}{pip.\_internal.utils.virtualenv}}\ \textcolor{keyword}{import}\ running\_under\_virtualenv}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00011}00011\ }
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00012}00012\ \textcolor{comment}{\#\ Application\ Directories}}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00013}\mbox{\hyperlink{namespacepip_1_1__internal_1_1locations_1_1base_a9ffdb3b48d9dedd6b34aee3622b063aa}{00013}}\ USER\_CACHE\_DIR\ =\ appdirs.user\_cache\_dir(\textcolor{stringliteral}{"{}pip"{}})}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00014}00014\ }
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00015}00015\ \textcolor{comment}{\#\ FIXME\ doesn't\ account\ for\ venv\ linked\ to\ global\ site-\/packages}}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00016}\mbox{\hyperlink{namespacepip_1_1__internal_1_1locations_1_1base_a68da1a8b573a7dbd711195c814f057c2}{00016}}\ site\_packages:\ str\ =\ sysconfig.get\_path(\textcolor{stringliteral}{"{}purelib"{}})}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00017}00017\ }
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00018}00018\ }
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00019}\mbox{\hyperlink{namespacepip_1_1__internal_1_1locations_1_1base_a31adb11ef1f22a6195ff49c6c949c932}{00019}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepip_1_1__internal_1_1locations_1_1base_a31adb11ef1f22a6195ff49c6c949c932}{get\_major\_minor\_version}}()\ -\/>\ str:}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00020}00020\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00021}00021\ \textcolor{stringliteral}{\ \ \ \ Return\ the\ major-\/minor\ version\ of\ the\ current\ Python\ as\ a\ string,\ e.g.}}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00022}00022\ \textcolor{stringliteral}{\ \ \ \ "{}3.7"{}\ or\ "{}3.10"{}.}}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00023}00023\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00024}00024\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}\{\}.\{\}"{}}.format(*sys.version\_info)}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00025}00025\ }
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00026}00026\ }
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00027}\mbox{\hyperlink{namespacepip_1_1__internal_1_1locations_1_1base_a7f8e7286704aef4552e9269a922d4669}{00027}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepip_1_1__internal_1_1locations_1_1base_a7f8e7286704aef4552e9269a922d4669}{change\_root}}(new\_root:\ str,\ pathname:\ str)\ -\/>\ str:}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00028}00028\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Return\ 'pathname'\ with\ 'new\_root'\ prepended.}}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00029}00029\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00030}00030\ \textcolor{stringliteral}{\ \ \ \ If\ 'pathname'\ is\ relative,\ this\ is\ equivalent\ to\ os.path.join(new\_root,\ pathname).}}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00031}00031\ \textcolor{stringliteral}{\ \ \ \ Otherwise,\ it\ requires\ making\ 'pathname'\ relative\ and\ then\ joining\ the}}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00032}00032\ \textcolor{stringliteral}{\ \ \ \ two,\ which\ is\ tricky\ on\ DOS/Windows\ and\ Mac\ OS.}}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00033}00033\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00034}00034\ \textcolor{stringliteral}{\ \ \ \ This\ is\ borrowed\ from\ Python's\ standard\ library's\ distutils\ module.}}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00035}00035\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00036}00036\ \ \ \ \ \textcolor{keywordflow}{if}\ os.name\ ==\ \textcolor{stringliteral}{"{}posix"{}}:}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00037}00037\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ os.path.isabs(pathname):}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00038}00038\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ os.path.join(new\_root,\ pathname)}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00039}00039\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00040}00040\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ os.path.join(new\_root,\ pathname[1:])}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00041}00041\ }
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00042}00042\ \ \ \ \ \textcolor{keywordflow}{elif}\ os.name\ ==\ \textcolor{stringliteral}{"{}nt"{}}:}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00043}00043\ \ \ \ \ \ \ \ \ (drive,\ path)\ =\ os.path.splitdrive(pathname)}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00044}00044\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ path[0]\ ==\ \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)"{}}:}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00045}00045\ \ \ \ \ \ \ \ \ \ \ \ \ path\ =\ path[1:]}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00046}00046\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ os.path.join(new\_root,\ path)}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00047}00047\ }
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00048}00048\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00049}00049\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{classpip_1_1__internal_1_1exceptions_1_1_installation_error}{InstallationError}}(}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00050}00050\ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{"{}Unknown\ platform:\ \{os.name\}\(\backslash\)n"{}}}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00051}00051\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Can\ not\ change\ root\ path\ prefix\ on\ unknown\ platform."{}}}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00052}00052\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00053}00053\ }
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00054}00054\ }
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00055}\mbox{\hyperlink{namespacepip_1_1__internal_1_1locations_1_1base_a239c0f4610fd7960b3c40ec5ebec0178}{00055}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepip_1_1__internal_1_1locations_1_1base_a239c0f4610fd7960b3c40ec5ebec0178}{get\_src\_prefix}}()\ -\/>\ str:}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00056}00056\ \ \ \ \ \textcolor{keywordflow}{if}\ running\_under\_virtualenv():}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00057}00057\ \ \ \ \ \ \ \ \ src\_prefix\ =\ os.path.join(sys.prefix,\ \textcolor{stringliteral}{"{}src"{}})}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00058}00058\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00059}00059\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ FIXME:\ keep\ src\ in\ cwd\ for\ now\ (it\ is\ not\ a\ temporary\ folder)}}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00060}00060\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00061}00061\ \ \ \ \ \ \ \ \ \ \ \ \ src\_prefix\ =\ os.path.join(os.getcwd(),\ \textcolor{stringliteral}{"{}src"{}})}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00062}00062\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ OSError:}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00063}00063\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ In\ case\ the\ current\ working\ directory\ has\ been\ renamed\ or\ deleted}}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00064}00064\ \ \ \ \ \ \ \ \ \ \ \ \ sys.exit(\textcolor{stringliteral}{"{}The\ folder\ you\ are\ executing\ pip\ from\ can\ no\ longer\ be\ found."{}})}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00065}00065\ }
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00066}00066\ \ \ \ \ \textcolor{comment}{\#\ under\ macOS\ +\ virtualenv\ sys.prefix\ is\ not\ properly\ resolved}}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00067}00067\ \ \ \ \ \textcolor{comment}{\#\ it\ is\ something\ like\ /path/to/python/bin/..}}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00068}00068\ \ \ \ \ \textcolor{keywordflow}{return}\ os.path.abspath(src\_prefix)}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00069}00069\ }
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00070}00070\ }
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00071}00071\ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00072}00072\ \ \ \ \ \textcolor{comment}{\#\ Use\ getusersitepackages\ if\ this\ is\ present,\ as\ it\ ensures\ that\ the}}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00073}00073\ \ \ \ \ \textcolor{comment}{\#\ value\ is\ initialised\ properly.}}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00074}\mbox{\hyperlink{namespacepip_1_1__internal_1_1locations_1_1base_a84ca1443d9d1bcf29f41aaa1463386c9}{00074}}\ \ \ \ \ user\_site:\ typing.Optional[str]\ =\ site.getusersitepackages()}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00075}00075\ \textcolor{keywordflow}{except}\ AttributeError:}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00076}00076\ \ \ \ \ user\_site\ =\ site.USER\_SITE}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00077}00077\ }
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00078}00078\ }
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00079}00079\ \textcolor{preprocessor}{@functools.lru\_cache(maxsize=None)}}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00080}\mbox{\hyperlink{namespacepip_1_1__internal_1_1locations_1_1base_ae5b2402946724bf5767c20b9689b204a}{00080}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacepip_1_1__internal_1_1locations_1_1base_ae5b2402946724bf5767c20b9689b204a}{is\_osx\_framework}}()\ -\/>\ bool:}
\DoxyCodeLine{\Hypertarget{locations_2base_8py_source_l00081}00081\ \ \ \ \ \textcolor{keywordflow}{return}\ bool(sysconfig.get\_config\_var(\textcolor{stringliteral}{"{}PYTHONFRAMEWORK"{}}))}

\end{DoxyCode}
