\doxysection{pip.\+\_\+internal.\+utils.\+urls Namespace Reference}
\hypertarget{namespacepip_1_1__internal_1_1utils_1_1urls}{}\label{namespacepip_1_1__internal_1_1utils_1_1urls}\index{pip.\_internal.utils.urls@{pip.\_internal.utils.urls}}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
Optional\mbox{[}str\mbox{]} \mbox{\hyperlink{namespacepip_1_1__internal_1_1utils_1_1urls_a29f34a93c810e54ce079dabeefdb764e}{get\+\_\+url\+\_\+scheme}} (str url)
\item 
str \mbox{\hyperlink{namespacepip_1_1__internal_1_1utils_1_1urls_a522b6ffa91e1f46054763b28c0b1df43}{path\+\_\+to\+\_\+url}} (str path)
\item 
str \mbox{\hyperlink{namespacepip_1_1__internal_1_1utils_1_1urls_a8b3ed213588c5b704ac68b2b16ae0f9b}{url\+\_\+to\+\_\+path}} (str url)
\end{DoxyCompactItemize}


\label{doc-func-members}
\Hypertarget{namespacepip_1_1__internal_1_1utils_1_1urls_doc-func-members}
\doxysubsection{Function Documentation}
\Hypertarget{namespacepip_1_1__internal_1_1utils_1_1urls_a29f34a93c810e54ce079dabeefdb764e}\index{pip.\_internal.utils.urls@{pip.\_internal.utils.urls}!get\_url\_scheme@{get\_url\_scheme}}
\index{get\_url\_scheme@{get\_url\_scheme}!pip.\_internal.utils.urls@{pip.\_internal.utils.urls}}
\doxysubsubsection{\texorpdfstring{get\_url\_scheme()}{get\_url\_scheme()}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1utils_1_1urls_a29f34a93c810e54ce079dabeefdb764e} 
 Optional\mbox{[}str\mbox{]} get\+\_\+url\+\_\+scheme (\begin{DoxyParamCaption}\item[{str}]{url}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{urls_8py_source_l00010}{10}} of file \mbox{\hyperlink{urls_8py_source}{urls.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00010\ \textcolor{keyword}{def\ }get\_url\_scheme(url:\ str)\ -\/>\ Optional[str]:}
\DoxyCodeLine{00011\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{"{}:"{}}\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ url:}
\DoxyCodeLine{00012\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00013\ \ \ \ \ \textcolor{keywordflow}{return}\ url.split(\textcolor{stringliteral}{"{}:"{}},\ 1)[0].lower()}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ }

\end{DoxyCode}
\Hypertarget{namespacepip_1_1__internal_1_1utils_1_1urls_a522b6ffa91e1f46054763b28c0b1df43}\index{pip.\_internal.utils.urls@{pip.\_internal.utils.urls}!path\_to\_url@{path\_to\_url}}
\index{path\_to\_url@{path\_to\_url}!pip.\_internal.utils.urls@{pip.\_internal.utils.urls}}
\doxysubsubsection{\texorpdfstring{path\_to\_url()}{path\_to\_url()}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1utils_1_1urls_a522b6ffa91e1f46054763b28c0b1df43} 
 str path\+\_\+to\+\_\+url (\begin{DoxyParamCaption}\item[{str}]{path}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Convert a path to a file: URL.  The path will be made absolute and have
quoted path parts.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{urls_8py_source_l00016}{16}} of file \mbox{\hyperlink{urls_8py_source}{urls.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00016\ \textcolor{keyword}{def\ }path\_to\_url(path:\ str)\ -\/>\ str:}
\DoxyCodeLine{00017\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00018\ \textcolor{stringliteral}{\ \ \ \ Convert\ a\ path\ to\ a\ file:\ URL.\ \ The\ path\ will\ be\ made\ absolute\ and\ have}}
\DoxyCodeLine{00019\ \textcolor{stringliteral}{\ \ \ \ quoted\ path\ parts.}}
\DoxyCodeLine{00020\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00021\ \ \ \ \ path\ =\ os.path.normpath(os.path.abspath(path))}
\DoxyCodeLine{00022\ \ \ \ \ url\ =\ urllib.parse.urljoin(\textcolor{stringliteral}{"{}file:"{}},\ urllib.request.pathname2url(path))}
\DoxyCodeLine{00023\ \ \ \ \ \textcolor{keywordflow}{return}\ url}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ }

\end{DoxyCode}
\Hypertarget{namespacepip_1_1__internal_1_1utils_1_1urls_a8b3ed213588c5b704ac68b2b16ae0f9b}\index{pip.\_internal.utils.urls@{pip.\_internal.utils.urls}!url\_to\_path@{url\_to\_path}}
\index{url\_to\_path@{url\_to\_path}!pip.\_internal.utils.urls@{pip.\_internal.utils.urls}}
\doxysubsubsection{\texorpdfstring{url\_to\_path()}{url\_to\_path()}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1utils_1_1urls_a8b3ed213588c5b704ac68b2b16ae0f9b} 
 str url\+\_\+to\+\_\+path (\begin{DoxyParamCaption}\item[{str}]{url}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Convert a file: URL to a path.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{urls_8py_source_l00026}{26}} of file \mbox{\hyperlink{urls_8py_source}{urls.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00026\ \textcolor{keyword}{def\ }url\_to\_path(url:\ str)\ -\/>\ str:}
\DoxyCodeLine{00027\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00028\ \textcolor{stringliteral}{\ \ \ \ Convert\ a\ file:\ URL\ to\ a\ path.}}
\DoxyCodeLine{00029\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00030\ \ \ \ \ \textcolor{keyword}{assert}\ url.startswith(}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}file:"{}}}
\DoxyCodeLine{00032\ \ \ \ \ ),\ f\textcolor{stringliteral}{"{}You\ can\ only\ turn\ file:\ urls\ into\ filenames\ (not\ \{url!r\})"{}}}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \ \ \ \ \_,\ netloc,\ path,\ \_,\ \_\ =\ urllib.parse.urlsplit(url)}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ netloc\ \textcolor{keywordflow}{or}\ netloc\ ==\ \textcolor{stringliteral}{"{}localhost"{}}:}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ According\ to\ RFC\ 8089,\ same\ as\ empty\ authority.}}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ netloc\ =\ \textcolor{stringliteral}{"{}"{}}}
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{keywordflow}{elif}\ WINDOWS:}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ If\ we\ have\ a\ UNC\ path,\ prepend\ UNC\ share\ notation.}}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ netloc\ =\ \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)\(\backslash\)\(\backslash\)"{}}\ +\ netloc}
\DoxyCodeLine{00042\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ ValueError(}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{"{}non-\/local\ file\ URIs\ are\ not\ supported\ on\ this\ platform:\ \{url!r\}"{}}}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \ \ \ \ path\ =\ urllib.request.url2pathname(netloc\ +\ path)}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{comment}{\#\ On\ Windows,\ urlsplit\ parses\ the\ path\ as\ something\ like\ "{}/C:/Users/foo"{}.}}
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{comment}{\#\ This\ creates\ issues\ for\ path-\/related\ functions\ like\ io.open(),\ so\ we\ try}}
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{comment}{\#\ to\ detect\ and\ strip\ the\ leading\ slash.}}
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keywordflow}{if}\ (}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ WINDOWS}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ \textcolor{keywordflow}{not}\ netloc\ \ \textcolor{comment}{\#\ Not\ UNC.}}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ len(path)\ >=\ 3}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ path[0]\ ==\ \textcolor{stringliteral}{"{}/"{}}\ \ \textcolor{comment}{\#\ Leading\ slash\ to\ strip.}}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ path[1]\ \textcolor{keywordflow}{in}\ string.ascii\_letters\ \ \textcolor{comment}{\#\ Drive\ letter.}}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ path[2:4]\ \textcolor{keywordflow}{in}\ (\textcolor{stringliteral}{"{}:"{}},\ \textcolor{stringliteral}{"{}:/"{}})\ \ \textcolor{comment}{\#\ Colon\ +\ end\ of\ string,\ or\ colon\ +\ absolute\ path.}}
\DoxyCodeLine{00059\ \ \ \ \ ):}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ path\ =\ path[1:]}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keywordflow}{return}\ path}

\end{DoxyCode}
