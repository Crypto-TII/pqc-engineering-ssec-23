\doxysection{pip.\+\_\+internal.\+cli.\+autocompletion Namespace Reference}
\hypertarget{namespacepip_1_1__internal_1_1cli_1_1autocompletion}{}\label{namespacepip_1_1__internal_1_1cli_1_1autocompletion}\index{pip.\_internal.cli.autocompletion@{pip.\_internal.cli.autocompletion}}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{None}} \mbox{\hyperlink{namespacepip_1_1__internal_1_1cli_1_1autocompletion_a6b43e9e15591029eb9523bffafedbcad}{autocomplete}} ()
\item 
Optional\mbox{[}str\mbox{]} \mbox{\hyperlink{namespacepip_1_1__internal_1_1cli_1_1autocompletion_a3998bab638515e8ef66b17e1cdeba051}{get\+\_\+path\+\_\+completion\+\_\+type}} (List\mbox{[}str\mbox{]} \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{cwords}}, int \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{cword}}, Iterable\mbox{[}Any\mbox{]} opts)
\item 
Iterable\mbox{[}str\mbox{]} \mbox{\hyperlink{namespacepip_1_1__internal_1_1cli_1_1autocompletion_ad16ab02b8e1f8451e5245e7d5b1926b3}{auto\+\_\+complete\+\_\+paths}} (str current, str \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{completion\+\_\+type}})
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}Logic that powers autocompletion installed by ``pip completion``.
\end{DoxyVerb}
 

\doxysubsection{Function Documentation}
\Hypertarget{namespacepip_1_1__internal_1_1cli_1_1autocompletion_ad16ab02b8e1f8451e5245e7d5b1926b3}\label{namespacepip_1_1__internal_1_1cli_1_1autocompletion_ad16ab02b8e1f8451e5245e7d5b1926b3} 
\index{pip.\_internal.cli.autocompletion@{pip.\_internal.cli.autocompletion}!auto\_complete\_paths@{auto\_complete\_paths}}
\index{auto\_complete\_paths@{auto\_complete\_paths}!pip.\_internal.cli.autocompletion@{pip.\_internal.cli.autocompletion}}
\doxysubsubsection{\texorpdfstring{auto\_complete\_paths()}{auto\_complete\_paths()}}
{\footnotesize\ttfamily  Iterable\mbox{[}str\mbox{]} auto\+\_\+complete\+\_\+paths (\begin{DoxyParamCaption}\item[{str}]{current,  }\item[{str}]{completion\+\_\+type }\end{DoxyParamCaption})}

\begin{DoxyVerb}If ``completion_type`` is ``file`` or ``path``, list all regular files
and directories starting with ``current``; otherwise only list directories
starting with ``current``.

:param current: The word to be completed
:param completion_type: path completion type(``file``, ``path`` or ``dir``)
:return: A generator of regular files and/or directories
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{autocompletion_8py_source_l00143}{143}} of file \mbox{\hyperlink{autocompletion_8py_source}{autocompletion.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00143\ \textcolor{keyword}{def\ }auto\_complete\_paths(current:\ str,\ completion\_type:\ str)\ -\/>\ Iterable[str]:}
\DoxyCodeLine{00144\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}If\ \`{}\`{}completion\_type\`{}\`{}\ is\ \`{}\`{}file\`{}\`{}\ or\ \`{}\`{}path\`{}\`{},\ list\ all\ regular\ files}}
\DoxyCodeLine{00145\ \textcolor{stringliteral}{\ \ \ \ and\ directories\ starting\ with\ \`{}\`{}current\`{}\`{};\ otherwise\ only\ list\ directories}}
\DoxyCodeLine{00146\ \textcolor{stringliteral}{\ \ \ \ starting\ with\ \`{}\`{}current\`{}\`{}.}}
\DoxyCodeLine{00147\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00148\ \textcolor{stringliteral}{\ \ \ \ :param\ current:\ The\ word\ to\ be\ completed}}
\DoxyCodeLine{00149\ \textcolor{stringliteral}{\ \ \ \ :param\ completion\_type:\ path\ completion\ type(\`{}\`{}file\`{}\`{},\ \`{}\`{}path\`{}\`{}\ or\ \`{}\`{}dir\`{}\`{})}}
\DoxyCodeLine{00150\ \textcolor{stringliteral}{\ \ \ \ :return:\ A\ generator\ of\ regular\ files\ and/or\ directories}}
\DoxyCodeLine{00151\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00152\ \ \ \ \ directory,\ filename\ =\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.path.split}}(current)}
\DoxyCodeLine{00153\ \ \ \ \ current\_path\ =\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.path.abspath}}(directory)}
\DoxyCodeLine{00154\ \ \ \ \ \textcolor{comment}{\#\ Don't\ complete\ paths\ if\ they\ can't\ be\ accessed}}
\DoxyCodeLine{00155\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.access}}(current\_path,\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.R\_OK}}):}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{00157\ \ \ \ \ filename\ =\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.path.normcase}}(filename)}
\DoxyCodeLine{00158\ \ \ \ \ \textcolor{comment}{\#\ list\ all\ files\ that\ start\ with\ \`{}\`{}filename``}}
\DoxyCodeLine{00159\ \ \ \ \ file\_list\ =\ (}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ x\ \textcolor{keywordflow}{for}\ x\ \textcolor{keywordflow}{in}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.listdir}}(current\_path)\ \textcolor{keywordflow}{if}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.path.normcase}}(x).\mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{startswith}}(filename)}
\DoxyCodeLine{00161\ \ \ \ \ )}
\DoxyCodeLine{00162\ \ \ \ \ \textcolor{keywordflow}{for}\ f\ \textcolor{keywordflow}{in}\ file\_list:}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ opt\ =\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.path.join}}(current\_path,\ f)}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ comp\_file\ =\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.path.normcase}}(\mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.path.join}}(directory,\ f))}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ complete\ regular\ files\ when\ there\ is\ not\ \`{}\`{}<dir>``\ after\ option}}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ complete\ directories\ when\ there\ is\ \`{}\`{}<file>``,\ \`{}\`{}<path>``\ or}}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ \`{}\`{}<dir>``after\ option}}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ completion\_type\ !=\ \textcolor{stringliteral}{"{}dir"{}}\ \textcolor{keywordflow}{and}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.path.isfile}}(opt):}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{yield}\ comp\_file}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.path.isdir}}(opt):}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{yield}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.path.join}}(comp\_file,\ \textcolor{stringliteral}{"{}"{}})}

\end{DoxyCode}


References \mbox{\hyperlink{prime__search_8m_source_l00010}{i}}.



Referenced by \mbox{\hyperlink{autocompletion_8py_source_l00015}{pip.\+\_\+internal.\+cli.\+autocompletion.\+autocomplete()}}.

Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=300pt]{d7/d4e/namespacepip_1_1__internal_1_1cli_1_1autocompletion_ad16ab02b8e1f8451e5245e7d5b1926b3_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacepip_1_1__internal_1_1cli_1_1autocompletion_a6b43e9e15591029eb9523bffafedbcad}\label{namespacepip_1_1__internal_1_1cli_1_1autocompletion_a6b43e9e15591029eb9523bffafedbcad} 
\index{pip.\_internal.cli.autocompletion@{pip.\_internal.cli.autocompletion}!autocomplete@{autocomplete}}
\index{autocomplete@{autocomplete}!pip.\_internal.cli.autocompletion@{pip.\_internal.cli.autocompletion}}
\doxysubsubsection{\texorpdfstring{autocomplete()}{autocomplete()}}
{\footnotesize\ttfamily  \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{None}} autocomplete (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\begin{DoxyVerb}Entry Point for completion of main and subcommand options.\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{autocompletion_8py_source_l00015}{15}} of file \mbox{\hyperlink{autocompletion_8py_source}{autocompletion.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00015\ \textcolor{keyword}{def\ }autocomplete()\ -\/>\ None:}
\DoxyCodeLine{00016\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Entry\ Point\ for\ completion\ of\ main\ and\ subcommand\ options."{}"{}"{}}}
\DoxyCodeLine{00017\ \ \ \ \ \textcolor{comment}{\#\ Don't\ complete\ if\ user\ hasn't\ sourced\ bash\_completion\ file.}}
\DoxyCodeLine{00018\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{"{}PIP\_AUTO\_COMPLETE"{}}\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.environ}}:}
\DoxyCodeLine{00019\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{00020\ \ \ \ \ cwords\ =\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.environ}}[\textcolor{stringliteral}{"{}COMP\_WORDS"{}}].split()[1:]}
\DoxyCodeLine{00021\ \ \ \ \ cword\ =\ int(\mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.environ}}[\textcolor{stringliteral}{"{}COMP\_CWORD"{}}])}
\DoxyCodeLine{00022\ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ current\ =\ cwords[cword\ -\/\ 1]}
\DoxyCodeLine{00024\ \ \ \ \ \textcolor{keywordflow}{except}\ IndexError:}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ current\ =\ \textcolor{stringliteral}{"{}"{}}}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \ \ \ \ parser\ =\ create\_main\_parser()}
\DoxyCodeLine{00028\ \ \ \ \ subcommands\ =\ list(commands\_dict)}
\DoxyCodeLine{00029\ \ \ \ \ options\ =\ []}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \ \ \ \ \textcolor{comment}{\#\ subcommand}}
\DoxyCodeLine{00032\ \ \ \ \ subcommand\_name:\ Optional[str]\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00033\ \ \ \ \ \textcolor{keywordflow}{for}\ word\ \textcolor{keywordflow}{in}\ cwords:}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ word\ \textcolor{keywordflow}{in}\ subcommands:}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \ \ \ \ subcommand\_name\ =\ word}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break}}
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{comment}{\#\ subcommand\ options}}
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{keywordflow}{if}\ subcommand\_name\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ special\ case:\ 'help'\ subcommand\ has\ no\ options}}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ subcommand\_name\ ==\ \textcolor{stringliteral}{"{}help"{}}:}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{sys.exit}}(1)}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ special\ case:\ list\ locally\ installed\ dists\ for\ show\ and\ uninstall}}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ should\_list\_installed\ =\ \textcolor{keywordflow}{not}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{current.startswith}}(\textcolor{stringliteral}{"{}-\/"{}})\ \textcolor{keywordflow}{and}\ subcommand\_name\ \textcolor{keywordflow}{in}\ [}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}show"{}},}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}uninstall"{}},}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ ]}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ should\_list\_installed:}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \ \ \ \ env\ =\ get\_default\_environment()}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \ \ \ \ lc\ =\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{current.lower}}()}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \ \ \ \ installed\ =\ [}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{dist.canonical\_name}}}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ dist\ \textcolor{keywordflow}{in}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{env.iter\_installed\_distributions}}(local\_only=\textcolor{keyword}{True})}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{dist.canonical\_name.startswith}}(lc)}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{dist.canonical\_name}}\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ cwords[1:]}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \ \ \ \ ]}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ if\ there\ are\ no\ dists\ installed,\ fall\ back\ to\ option\ completion}}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ installed:}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ dist\ \textcolor{keywordflow}{in}\ installed:}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print(dist)}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{sys.exit}}(1)}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ should\_list\_installables\ =\ (}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{not}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{current.startswith}}(\textcolor{stringliteral}{"{}-\/"{}})\ \textcolor{keywordflow}{and}\ subcommand\_name\ ==\ \textcolor{stringliteral}{"{}install"{}}}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ should\_list\_installables:}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ path\ \textcolor{keywordflow}{in}\ auto\_complete\_paths(current,\ \textcolor{stringliteral}{"{}path"{}}):}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print(path)}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{sys.exit}}(1)}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ subcommand\ =\ create\_command(subcommand\_name)}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ opt\ \textcolor{keywordflow}{in}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{subcommand.parser.option\_list\_all}}:}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{opt.help}}\ !=\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{optparse.SUPPRESS\_HELP}}:}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ opt\_str\ \textcolor{keywordflow}{in}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{opt.\_long\_opts}}\ +\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{opt.\_short\_opts}}:}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{options.append}}((opt\_str,\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{opt.nargs}}))}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ filter\ out\ previously\ specified\ options\ from\ available\ options}}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ prev\_opts\ =\ [\mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{x.split}}(\textcolor{stringliteral}{"{}="{}})[0]\ \textcolor{keywordflow}{for}\ x\ \textcolor{keywordflow}{in}\ cwords[1\ :\ cword\ -\/\ 1]]}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ options\ =\ [(x,\ v)\ \textcolor{keywordflow}{for}\ (x,\ v)\ \textcolor{keywordflow}{in}\ options\ \textcolor{keywordflow}{if}\ x\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ prev\_opts]}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ filter\ options\ by\ current\ input}}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ options\ =\ [(k,\ v)\ \textcolor{keywordflow}{for}\ k,\ v\ \textcolor{keywordflow}{in}\ options\ \textcolor{keywordflow}{if}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{k.startswith}}(current)]}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ get\ completion\ type\ given\ cwords\ and\ available\ subcommand\ options}}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ completion\_type\ =\ get\_path\_completion\_type(}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \ \ \ \ cwords,}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \ \ \ \ cword,}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{subcommand.parser.option\_list\_all}},}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ get\ completion\ files\ and\ directories\ if\ \`{}\`{}completion\_type``\ is}}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ \`{}\`{}<file>``,\ \`{}\`{}<dir>``\ or\ \`{}\`{}<path>``}}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ completion\_type:}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \ \ \ \ paths\ =\ auto\_complete\_paths(current,\ completion\_type)}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \ \ \ \ options\ =\ [(path,\ 0)\ \textcolor{keywordflow}{for}\ path\ \textcolor{keywordflow}{in}\ paths]}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ option\ \textcolor{keywordflow}{in}\ options:}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \ \ \ \ opt\_label\ =\ option[0]}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ append\ '='\ to\ options\ which\ require\ args}}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ option[1]\ \textcolor{keywordflow}{and}\ option[0][:2]\ ==\ \textcolor{stringliteral}{"{}-\/-\/"{}}:}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ opt\_label\ +=\ \textcolor{stringliteral}{"{}="{}}}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \ \ \ \ print(opt\_label)}
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ show\ main\ parser\ options\ only\ when\ necessary}}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ opts\ =\ [\mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i.option\_list}}\ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{parser.option\_groups}}]}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{opts.append}}(\mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{parser.option\_list}})}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ flattened\_opts\ =\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{chain.from\_iterable}}(opts)}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{current.startswith}}(\textcolor{stringliteral}{"{}-\/"{}}):}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ opt\ \textcolor{keywordflow}{in}\ flattened\_opts:}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{opt.help}}\ !=\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{optparse.SUPPRESS\_HELP}}:}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ subcommands\ +=\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{opt.\_long\_opts}}\ +\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{opt.\_short\_opts}}}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ get\ completion\ type\ given\ cwords\ and\ all\ available\ options}}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \ \ \ \ completion\_type\ =\ get\_path\_completion\_type(cwords,\ cword,\ flattened\_opts)}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ completion\_type:}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ subcommands\ =\ list(auto\_complete\_paths(current,\ completion\_type))}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ print(\textcolor{stringliteral}{"{}\ "{}}.join([x\ \textcolor{keywordflow}{for}\ x\ \textcolor{keywordflow}{in}\ subcommands\ \textcolor{keywordflow}{if}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{x.startswith}}(current)]))}
\DoxyCodeLine{00116\ \ \ \ \ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{sys.exit}}(1)}
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00118\ }

\end{DoxyCode}


References \mbox{\hyperlink{autocompletion_8py_source_l00143}{pip.\+\_\+internal.\+cli.\+autocompletion.\+auto\+\_\+complete\+\_\+paths()}}, \mbox{\hyperlink{autocompletion_8py_source_l00121}{pip.\+\_\+internal.\+cli.\+autocompletion.\+get\+\_\+path\+\_\+completion\+\_\+type()}}, and \mbox{\hyperlink{prime__search_8m_source_l00010}{i}}.

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=321pt]{d7/d4e/namespacepip_1_1__internal_1_1cli_1_1autocompletion_a6b43e9e15591029eb9523bffafedbcad_cgraph}
\end{center}
\end{figure}
\Hypertarget{namespacepip_1_1__internal_1_1cli_1_1autocompletion_a3998bab638515e8ef66b17e1cdeba051}\label{namespacepip_1_1__internal_1_1cli_1_1autocompletion_a3998bab638515e8ef66b17e1cdeba051} 
\index{pip.\_internal.cli.autocompletion@{pip.\_internal.cli.autocompletion}!get\_path\_completion\_type@{get\_path\_completion\_type}}
\index{get\_path\_completion\_type@{get\_path\_completion\_type}!pip.\_internal.cli.autocompletion@{pip.\_internal.cli.autocompletion}}
\doxysubsubsection{\texorpdfstring{get\_path\_completion\_type()}{get\_path\_completion\_type()}}
{\footnotesize\ttfamily  Optional\mbox{[}str\mbox{]} get\+\_\+path\+\_\+completion\+\_\+type (\begin{DoxyParamCaption}\item[{List\mbox{[}str\mbox{]}}]{cwords,  }\item[{int}]{cword,  }\item[{Iterable\mbox{[}Any\mbox{]} }]{opts }\end{DoxyParamCaption})}

\begin{DoxyVerb}Get the type of path completion (``file``, ``dir``, ``path`` or None)

:param cwords: same as the environmental variable ``COMP_WORDS``
:param cword: same as the environmental variable ``COMP_CWORD``
:param opts: The available options to check
:return: path completion type (``file``, ``dir``, ``path`` or None)
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{autocompletion_8py_source_l00119}{119}} of file \mbox{\hyperlink{autocompletion_8py_source}{autocompletion.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00121\ )\ -\/>\ Optional[str]:}
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Get\ the\ type\ of\ path\ completion\ (\`{}\`{}file\`{}\`{},\ \`{}\`{}dir\`{}\`{},\ \`{}\`{}path\`{}\`{}\ or\ None)}}
\DoxyCodeLine{00123\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00124\ \textcolor{stringliteral}{\ \ \ \ :param\ cwords:\ same\ as\ the\ environmental\ variable\ \`{}\`{}COMP\_WORDS\`{}\`{}}}
\DoxyCodeLine{00125\ \textcolor{stringliteral}{\ \ \ \ :param\ cword:\ same\ as\ the\ environmental\ variable\ \`{}\`{}COMP\_CWORD\`{}\`{}}}
\DoxyCodeLine{00126\ \textcolor{stringliteral}{\ \ \ \ :param\ opts:\ The\ available\ options\ to\ check}}
\DoxyCodeLine{00127\ \textcolor{stringliteral}{\ \ \ \ :return:\ path\ completion\ type\ (\`{}\`{}file\`{}\`{},\ \`{}\`{}dir\`{}\`{},\ \`{}\`{}path\`{}\`{}\ or\ None)}}
\DoxyCodeLine{00128\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00129\ \ \ \ \ \textcolor{keywordflow}{if}\ cword\ <\ 2\ \textcolor{keywordflow}{or}\ \textcolor{keywordflow}{not}\ cwords[cword\ -\/\ 2].\mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{startswith}}(\textcolor{stringliteral}{"{}-\/"{}}):}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00131\ \ \ \ \ \textcolor{keywordflow}{for}\ opt\ \textcolor{keywordflow}{in}\ opts:}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{opt.help}}\ ==\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{optparse.SUPPRESS\_HELP}}:}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ o\ \textcolor{keywordflow}{in}\ str(opt).split(\textcolor{stringliteral}{"{}/"{}}):}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ cwords[cword\ -\/\ 2].split(\textcolor{stringliteral}{"{}="{}})[0]\ ==\ o:}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{opt.metavar}}\ \textcolor{keywordflow}{or}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{any}}(}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ x\ \textcolor{keywordflow}{in}\ (\textcolor{stringliteral}{"{}path"{}},\ \textcolor{stringliteral}{"{}file"{}},\ \textcolor{stringliteral}{"{}dir"{}})\ \textcolor{keywordflow}{for}\ x\ \textcolor{keywordflow}{in}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{opt.metavar.split}}(\textcolor{stringliteral}{"{}/"{}})}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ):}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{opt.metavar}}}
\DoxyCodeLine{00140\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ }

\end{DoxyCode}


References \mbox{\hyperlink{prime__search_8m_source_l00010}{i}}.



Referenced by \mbox{\hyperlink{autocompletion_8py_source_l00015}{pip.\+\_\+internal.\+cli.\+autocompletion.\+autocomplete()}}.

Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=321pt]{d7/d4e/namespacepip_1_1__internal_1_1cli_1_1autocompletion_a3998bab638515e8ef66b17e1cdeba051_icgraph}
\end{center}
\end{figure}
