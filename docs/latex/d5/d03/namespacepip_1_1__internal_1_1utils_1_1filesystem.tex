\doxysection{pip.\+\_\+internal.\+utils.\+filesystem Namespace Reference}
\hypertarget{namespacepip_1_1__internal_1_1utils_1_1filesystem}{}\label{namespacepip_1_1__internal_1_1utils_1_1filesystem}\index{pip.\_internal.utils.filesystem@{pip.\_internal.utils.filesystem}}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{namespacepip_1_1__internal_1_1utils_1_1filesystem_a7fb7ad879a830f37f7539fd078e9374e}{check\+\_\+path\+\_\+owner}} (str path)
\item 
Generator\mbox{[}Binary\+IO, \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{None}}, \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{None}}\mbox{]} \mbox{\hyperlink{namespacepip_1_1__internal_1_1utils_1_1filesystem_a6f31acb411ea90a8226876d9235d66e5}{adjacent\+\_\+tmp\+\_\+file}} (str path, \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}Any kwargs)
\item 
bool \mbox{\hyperlink{namespacepip_1_1__internal_1_1utils_1_1filesystem_aca8bcb76306c168b2728b7ef02cbff0e}{test\+\_\+writable\+\_\+dir}} (str path)
\item 
bool \mbox{\hyperlink{namespacepip_1_1__internal_1_1utils_1_1filesystem_afdd707f0b39b3448f9e5adb9034782e5}{\+\_\+test\+\_\+writable\+\_\+dir\+\_\+win}} (str path)
\item 
List\mbox{[}str\mbox{]} \mbox{\hyperlink{namespacepip_1_1__internal_1_1utils_1_1filesystem_a125b4f16b6ed72320da26bfe0d3a2f92}{find\+\_\+files}} (str path, str pattern)
\item 
Union\mbox{[}int, float\mbox{]} \mbox{\hyperlink{namespacepip_1_1__internal_1_1utils_1_1filesystem_a2aa934ca9a05385ea54ecf88bc2cab49}{file\+\_\+size}} (str path)
\item 
str \mbox{\hyperlink{namespacepip_1_1__internal_1_1utils_1_1filesystem_a48d710708470244b9ffd9c47cd65e142}{format\+\_\+file\+\_\+size}} (str path)
\item 
Union\mbox{[}int, float\mbox{]} \mbox{\hyperlink{namespacepip_1_1__internal_1_1utils_1_1filesystem_a26de449fb6bd624b0de544fecbb2cc1e}{directory\+\_\+size}} (str path)
\item 
str \mbox{\hyperlink{namespacepip_1_1__internal_1_1utils_1_1filesystem_a7f293ded6b3d9566abf97004bc3cc010}{format\+\_\+directory\+\_\+size}} (str path)
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacepip_1_1__internal_1_1utils_1_1filesystem_a0692756d9628a37c2f52933a5dc73eef}{\+\_\+replace\+\_\+retry}} = retry(reraise=True, stop=\mbox{\hyperlink{classpip_1_1__vendor_1_1tenacity_1_1stop_1_1stop__after__delay}{stop\+\_\+after\+\_\+delay}}(1), wait=\mbox{\hyperlink{classpip_1_1__vendor_1_1tenacity_1_1wait_1_1wait__fixed}{wait\+\_\+fixed}}(0.\+25))
\item 
\mbox{\hyperlink{namespacepip_1_1__internal_1_1utils_1_1filesystem_a42385a0b3c596879a9b70b0df184bb7a}{replace}} = \mbox{\hyperlink{namespacepip_1_1__internal_1_1utils_1_1filesystem_a0692756d9628a37c2f52933a5dc73eef}{\+\_\+replace\+\_\+retry}}(os.\+replace)
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{namespacepip_1_1__internal_1_1utils_1_1filesystem_afdd707f0b39b3448f9e5adb9034782e5}\label{namespacepip_1_1__internal_1_1utils_1_1filesystem_afdd707f0b39b3448f9e5adb9034782e5} 
\index{pip.\_internal.utils.filesystem@{pip.\_internal.utils.filesystem}!\_test\_writable\_dir\_win@{\_test\_writable\_dir\_win}}
\index{\_test\_writable\_dir\_win@{\_test\_writable\_dir\_win}!pip.\_internal.utils.filesystem@{pip.\_internal.utils.filesystem}}
\doxysubsubsection{\texorpdfstring{\_test\_writable\_dir\_win()}{\_test\_writable\_dir\_win()}}
{\footnotesize\ttfamily  bool \+\_\+test\+\_\+writable\+\_\+dir\+\_\+win (\begin{DoxyParamCaption}\item[{str}]{path }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{filesystem_8py_source_l00094}{94}} of file \mbox{\hyperlink{filesystem_8py_source}{filesystem.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00094\ \textcolor{keyword}{def\ }\_test\_writable\_dir\_win(path:\ str)\ -\/>\ bool:}
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{comment}{\#\ os.access\ doesn't\ work\ on\ Windows:\ http://bugs.python.org/issue2528}}
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{comment}{\#\ and\ we\ can't\ use\ tempfile:\ http://bugs.python.org/issue22107}}
\DoxyCodeLine{00097\ \ \ \ \ basename\ =\ \textcolor{stringliteral}{"{}accesstest\_deleteme\_fishfingers\_custard\_"{}}}
\DoxyCodeLine{00098\ \ \ \ \ alphabet\ =\ \textcolor{stringliteral}{"{}abcdefghijklmnopqrstuvwxyz0123456789"{}}}
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{keywordflow}{for}\ \_\ \textcolor{keywordflow}{in}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{range}}(10):}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ name\ =\ basename\ +\ \textcolor{stringliteral}{"{}"{}}.join(\mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{random.choice}}(alphabet)\ \textcolor{keywordflow}{for}\ \_\ \textcolor{keywordflow}{in}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{range}}(6))}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ file\ =\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.path.join}}(path,\ name)}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \ \ \ \ fd\ =\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.open}}(file,\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.O\_RDWR}}\ |\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.O\_CREAT}}\ |\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.O\_EXCL}})}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ FileExistsError:}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{pass}}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ PermissionError:}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ This\ could\ be\ because\ there's\ a\ directory\ with\ the\ same\ name.}}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ But\ it's\ highly\ unlikely\ there's\ a\ directory\ called\ that,}}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ so\ we'll\ assume\ it's\ because\ the\ parent\ dir\ is\ not\ writable.}}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ This\ could\ as\ well\ be\ because\ the\ parent\ dir\ is\ not\ readable,}}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ due\ to\ non-\/privileged\ user\ access.}}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{False}}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.close}}(fd)}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.unlink}}(file)}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{True}}
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{comment}{\#\ This\ should\ never\ be\ reached}}
\DoxyCodeLine{00119\ \ \ \ \ \textcolor{keywordflow}{raise}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{OSError}}(\textcolor{stringliteral}{"{}Unexpected\ condition\ testing\ for\ writable\ directory"{}})}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ }

\end{DoxyCode}


References \mbox{\hyperlink{prime__search_8m_source_l00010}{i}}.



Referenced by \mbox{\hyperlink{filesystem_8py_source_l00076}{pip.\+\_\+internal.\+utils.\+filesystem.\+test\+\_\+writable\+\_\+dir()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=340pt]{d5/d03/namespacepip_1_1__internal_1_1utils_1_1filesystem_afdd707f0b39b3448f9e5adb9034782e5_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacepip_1_1__internal_1_1utils_1_1filesystem_a6f31acb411ea90a8226876d9235d66e5}\label{namespacepip_1_1__internal_1_1utils_1_1filesystem_a6f31acb411ea90a8226876d9235d66e5} 
\index{pip.\_internal.utils.filesystem@{pip.\_internal.utils.filesystem}!adjacent\_tmp\_file@{adjacent\_tmp\_file}}
\index{adjacent\_tmp\_file@{adjacent\_tmp\_file}!pip.\_internal.utils.filesystem@{pip.\_internal.utils.filesystem}}
\doxysubsubsection{\texorpdfstring{adjacent\_tmp\_file()}{adjacent\_tmp\_file()}}
{\footnotesize\ttfamily  Generator\mbox{[}Binary\+IO, \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{None}}, \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{None}}\mbox{]} adjacent\+\_\+tmp\+\_\+file (\begin{DoxyParamCaption}\item[{str}]{path,  }\item[{\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}Any}]{kwargs }\end{DoxyParamCaption})}

\begin{DoxyVerb}Return a file-like object pointing to a tmp file next to path.

The file is created securely and is ensured to be written to disk
after the context reaches its end.

kwargs will be passed to tempfile.NamedTemporaryFile to control
the way the temporary file will be opened.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{filesystem_8py_source_l00044}{44}} of file \mbox{\hyperlink{filesystem_8py_source}{filesystem.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00044\ \textcolor{keyword}{def\ }adjacent\_tmp\_file(path:\ str,\ **kwargs:\ Any)\ -\/>\ Generator[BinaryIO,\ \textcolor{keywordtype}{None},\ \textcolor{keywordtype}{None}]:}
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Return\ a\ file-\/like\ object\ pointing\ to\ a\ tmp\ file\ next\ to\ path.}}
\DoxyCodeLine{00046\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00047\ \textcolor{stringliteral}{\ \ \ \ The\ file\ is\ created\ securely\ and\ is\ ensured\ to\ be\ written\ to\ disk}}
\DoxyCodeLine{00048\ \textcolor{stringliteral}{\ \ \ \ after\ the\ context\ reaches\ its\ end.}}
\DoxyCodeLine{00049\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00050\ \textcolor{stringliteral}{\ \ \ \ kwargs\ will\ be\ passed\ to\ tempfile.NamedTemporaryFile\ to\ control}}
\DoxyCodeLine{00051\ \textcolor{stringliteral}{\ \ \ \ the\ way\ the\ temporary\ file\ will\ be\ opened.}}
\DoxyCodeLine{00052\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{keyword}{with}\ NamedTemporaryFile(}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ delete=\textcolor{keyword}{False},}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ dir=\mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.path.dirname}}(path),}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ prefix=\mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.path.basename}}(path),}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ suffix=\textcolor{stringliteral}{"{}.tmp"{}},}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ **kwargs,}
\DoxyCodeLine{00059\ \ \ \ \ )\ \textcolor{keyword}{as}\ f:}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ result\ =\ cast(BinaryIO,\ f)}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{yield}\ result}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{finally}:}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{result.flush}}()}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.fsync}}(\mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{result.fileno}}())}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \textcolor{comment}{\#\ Tenacity\ raises\ RetryError\ by\ default,\ explicitly\ raise\ the\ original\ exception}}

\end{DoxyCode}


References \mbox{\hyperlink{prime__search_8m_source_l00010}{i}}.

\Hypertarget{namespacepip_1_1__internal_1_1utils_1_1filesystem_a7fb7ad879a830f37f7539fd078e9374e}\label{namespacepip_1_1__internal_1_1utils_1_1filesystem_a7fb7ad879a830f37f7539fd078e9374e} 
\index{pip.\_internal.utils.filesystem@{pip.\_internal.utils.filesystem}!check\_path\_owner@{check\_path\_owner}}
\index{check\_path\_owner@{check\_path\_owner}!pip.\_internal.utils.filesystem@{pip.\_internal.utils.filesystem}}
\doxysubsubsection{\texorpdfstring{check\_path\_owner()}{check\_path\_owner()}}
{\footnotesize\ttfamily  bool check\+\_\+path\+\_\+owner (\begin{DoxyParamCaption}\item[{str}]{path }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{filesystem_8py_source_l00016}{16}} of file \mbox{\hyperlink{filesystem_8py_source}{filesystem.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00016\ \textcolor{keyword}{def\ }check\_path\_owner(path:\ str)\ -\/>\ bool:}
\DoxyCodeLine{00017\ \ \ \ \ \textcolor{comment}{\#\ If\ we\ don't\ have\ a\ way\ to\ check\ the\ effective\ uid\ of\ this\ process,\ then}}
\DoxyCodeLine{00018\ \ \ \ \ \textcolor{comment}{\#\ we'll\ just\ assume\ that\ we\ own\ the\ directory.}}
\DoxyCodeLine{00019\ \ \ \ \ \textcolor{keywordflow}{if}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{sys.platform}}\ ==\ \textcolor{stringliteral}{"{}win32"{}}\ \textcolor{keywordflow}{or}\ \textcolor{keywordflow}{not}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{hasattr}}(os,\ \textcolor{stringliteral}{"{}geteuid"{}}):}
\DoxyCodeLine{00020\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{True}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \ \ \ \ \textcolor{keyword}{assert}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.path.isabs}}(path)}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \ \ \ \ previous\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{keywordflow}{while}\ path\ !=\ previous:}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.path.lexists}}(path):}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Check\ if\ path\ is\ writable\ by\ current\ user.}}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.geteuid}}()\ ==\ 0:}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Special\ handling\ for\ root\ user\ in\ order\ to\ handle\ properly}}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ cases\ where\ users\ use\ sudo\ without\ -\/H\ flag.}}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ path\_uid\ =\ get\_path\_uid(path)}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ OSError:}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{False}}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ path\_uid\ ==\ 0}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.access}}(path,\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.W\_OK}})}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \ \ \ \ previous,\ path\ =\ path,\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.path.dirname}}(path)}
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{False}\ \ \textcolor{comment}{\#\ assume\ we\ don't\ own\ the\ path}}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \textcolor{preprocessor}{@contextmanager}}

\end{DoxyCode}


References \mbox{\hyperlink{prime__search_8m_source_l00010}{i}}.

\Hypertarget{namespacepip_1_1__internal_1_1utils_1_1filesystem_a26de449fb6bd624b0de544fecbb2cc1e}\label{namespacepip_1_1__internal_1_1utils_1_1filesystem_a26de449fb6bd624b0de544fecbb2cc1e} 
\index{pip.\_internal.utils.filesystem@{pip.\_internal.utils.filesystem}!directory\_size@{directory\_size}}
\index{directory\_size@{directory\_size}!pip.\_internal.utils.filesystem@{pip.\_internal.utils.filesystem}}
\doxysubsubsection{\texorpdfstring{directory\_size()}{directory\_size()}}
{\footnotesize\ttfamily  Union\mbox{[}int, float\mbox{]} directory\+\_\+size (\begin{DoxyParamCaption}\item[{str}]{path }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{filesystem_8py_source_l00143}{143}} of file \mbox{\hyperlink{filesystem_8py_source}{filesystem.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00143\ \textcolor{keyword}{def\ }directory\_size(path:\ str)\ -\/>\ Union[int,\ float]:}
\DoxyCodeLine{00144\ \ \ \ \ size\ =\ 0.0}
\DoxyCodeLine{00145\ \ \ \ \ \textcolor{keywordflow}{for}\ root,\ \_dirs,\ files\ \textcolor{keywordflow}{in}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.walk}}(path):}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ filename\ \textcolor{keywordflow}{in}\ files:}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \ \ \ \ file\_path\ =\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.path.join}}(root,\ filename)}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \ \ \ \ size\ +=\ file\_size(file\_path)}
\DoxyCodeLine{00149\ \ \ \ \ \textcolor{keywordflow}{return}\ size}
\DoxyCodeLine{00150\ }
\DoxyCodeLine{00151\ }

\end{DoxyCode}


References \mbox{\hyperlink{filesystem_8py_source_l00132}{pip.\+\_\+internal.\+utils.\+filesystem.\+file\+\_\+size()}}, and \mbox{\hyperlink{prime__search_8m_source_l00010}{i}}.



Referenced by \mbox{\hyperlink{filesystem_8py_source_l00152}{pip.\+\_\+internal.\+utils.\+filesystem.\+format\+\_\+directory\+\_\+size()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=257pt]{d5/d03/namespacepip_1_1__internal_1_1utils_1_1filesystem_a26de449fb6bd624b0de544fecbb2cc1e_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=324pt]{d5/d03/namespacepip_1_1__internal_1_1utils_1_1filesystem_a26de449fb6bd624b0de544fecbb2cc1e_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacepip_1_1__internal_1_1utils_1_1filesystem_a2aa934ca9a05385ea54ecf88bc2cab49}\label{namespacepip_1_1__internal_1_1utils_1_1filesystem_a2aa934ca9a05385ea54ecf88bc2cab49} 
\index{pip.\_internal.utils.filesystem@{pip.\_internal.utils.filesystem}!file\_size@{file\_size}}
\index{file\_size@{file\_size}!pip.\_internal.utils.filesystem@{pip.\_internal.utils.filesystem}}
\doxysubsubsection{\texorpdfstring{file\_size()}{file\_size()}}
{\footnotesize\ttfamily  Union\mbox{[}int, float\mbox{]} file\+\_\+size (\begin{DoxyParamCaption}\item[{str}]{path }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{filesystem_8py_source_l00132}{132}} of file \mbox{\hyperlink{filesystem_8py_source}{filesystem.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00132\ \textcolor{keyword}{def\ }file\_size(path:\ str)\ -\/>\ Union[int,\ float]:}
\DoxyCodeLine{00133\ \ \ \ \ \textcolor{comment}{\#\ If\ it's\ a\ symlink,\ return\ 0.}}
\DoxyCodeLine{00134\ \ \ \ \ \textcolor{keywordflow}{if}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.path.islink}}(path):}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0}
\DoxyCodeLine{00136\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.path.getsize}}(path)}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00138\ }

\end{DoxyCode}


References \mbox{\hyperlink{prime__search_8m_source_l00010}{i}}.



Referenced by \mbox{\hyperlink{filesystem_8py_source_l00143}{pip.\+\_\+internal.\+utils.\+filesystem.\+directory\+\_\+size()}}, and \mbox{\hyperlink{filesystem_8py_source_l00139}{pip.\+\_\+internal.\+utils.\+filesystem.\+format\+\_\+file\+\_\+size()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d5/d03/namespacepip_1_1__internal_1_1utils_1_1filesystem_a2aa934ca9a05385ea54ecf88bc2cab49_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacepip_1_1__internal_1_1utils_1_1filesystem_a125b4f16b6ed72320da26bfe0d3a2f92}\label{namespacepip_1_1__internal_1_1utils_1_1filesystem_a125b4f16b6ed72320da26bfe0d3a2f92} 
\index{pip.\_internal.utils.filesystem@{pip.\_internal.utils.filesystem}!find\_files@{find\_files}}
\index{find\_files@{find\_files}!pip.\_internal.utils.filesystem@{pip.\_internal.utils.filesystem}}
\doxysubsubsection{\texorpdfstring{find\_files()}{find\_files()}}
{\footnotesize\ttfamily  List\mbox{[}str\mbox{]} find\+\_\+files (\begin{DoxyParamCaption}\item[{str}]{path,  }\item[{str}]{pattern }\end{DoxyParamCaption})}

\begin{DoxyVerb}Returns a list of absolute paths of files beneath path, recursively,
with filenames which match the UNIX-style shell glob pattern.\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{filesystem_8py_source_l00122}{122}} of file \mbox{\hyperlink{filesystem_8py_source}{filesystem.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00122\ \textcolor{keyword}{def\ }find\_files(path:\ str,\ pattern:\ str)\ -\/>\ List[str]:}
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Returns\ a\ list\ of\ absolute\ paths\ of\ files\ beneath\ path,\ recursively,}}
\DoxyCodeLine{00124\ \textcolor{stringliteral}{\ \ \ \ with\ filenames\ which\ match\ the\ UNIX-\/style\ shell\ glob\ pattern."{}"{}"{}}}
\DoxyCodeLine{00125\ \ \ \ \ result:\ List[str]\ =\ []}
\DoxyCodeLine{00126\ \ \ \ \ \textcolor{keywordflow}{for}\ root,\ \_,\ files\ \textcolor{keywordflow}{in}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.walk}}(path):}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ matches\ =\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{fnmatch.filter}}(files,\ pattern)}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{result.extend}}(\mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.path.join}}(root,\ f)\ \textcolor{keywordflow}{for}\ f\ \textcolor{keywordflow}{in}\ matches)}
\DoxyCodeLine{00129\ \ \ \ \ \textcolor{keywordflow}{return}\ result}
\DoxyCodeLine{00130\ }
\DoxyCodeLine{00131\ }

\end{DoxyCode}


References \mbox{\hyperlink{prime__search_8m_source_l00010}{i}}.

\Hypertarget{namespacepip_1_1__internal_1_1utils_1_1filesystem_a7f293ded6b3d9566abf97004bc3cc010}\label{namespacepip_1_1__internal_1_1utils_1_1filesystem_a7f293ded6b3d9566abf97004bc3cc010} 
\index{pip.\_internal.utils.filesystem@{pip.\_internal.utils.filesystem}!format\_directory\_size@{format\_directory\_size}}
\index{format\_directory\_size@{format\_directory\_size}!pip.\_internal.utils.filesystem@{pip.\_internal.utils.filesystem}}
\doxysubsubsection{\texorpdfstring{format\_directory\_size()}{format\_directory\_size()}}
{\footnotesize\ttfamily  str format\+\_\+directory\+\_\+size (\begin{DoxyParamCaption}\item[{str}]{path }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{filesystem_8py_source_l00152}{152}} of file \mbox{\hyperlink{filesystem_8py_source}{filesystem.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00152\ \textcolor{keyword}{def\ }format\_directory\_size(path:\ str)\ -\/>\ str:}
\DoxyCodeLine{00153\ \ \ \ \ \textcolor{keywordflow}{return}\ format\_size(directory\_size(path))}

\end{DoxyCode}


References \mbox{\hyperlink{filesystem_8py_source_l00143}{pip.\+\_\+internal.\+utils.\+filesystem.\+directory\+\_\+size()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d5/d03/namespacepip_1_1__internal_1_1utils_1_1filesystem_a7f293ded6b3d9566abf97004bc3cc010_cgraph}
\end{center}
\end{figure}
\Hypertarget{namespacepip_1_1__internal_1_1utils_1_1filesystem_a48d710708470244b9ffd9c47cd65e142}\label{namespacepip_1_1__internal_1_1utils_1_1filesystem_a48d710708470244b9ffd9c47cd65e142} 
\index{pip.\_internal.utils.filesystem@{pip.\_internal.utils.filesystem}!format\_file\_size@{format\_file\_size}}
\index{format\_file\_size@{format\_file\_size}!pip.\_internal.utils.filesystem@{pip.\_internal.utils.filesystem}}
\doxysubsubsection{\texorpdfstring{format\_file\_size()}{format\_file\_size()}}
{\footnotesize\ttfamily  str format\+\_\+file\+\_\+size (\begin{DoxyParamCaption}\item[{str}]{path }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{filesystem_8py_source_l00139}{139}} of file \mbox{\hyperlink{filesystem_8py_source}{filesystem.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00139\ \textcolor{keyword}{def\ }format\_file\_size(path:\ str)\ -\/>\ str:}
\DoxyCodeLine{00140\ \ \ \ \ \textcolor{keywordflow}{return}\ format\_size(file\_size(path))}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ }

\end{DoxyCode}


References \mbox{\hyperlink{filesystem_8py_source_l00132}{pip.\+\_\+internal.\+utils.\+filesystem.\+file\+\_\+size()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=267pt]{d5/d03/namespacepip_1_1__internal_1_1utils_1_1filesystem_a48d710708470244b9ffd9c47cd65e142_cgraph}
\end{center}
\end{figure}
\Hypertarget{namespacepip_1_1__internal_1_1utils_1_1filesystem_aca8bcb76306c168b2728b7ef02cbff0e}\label{namespacepip_1_1__internal_1_1utils_1_1filesystem_aca8bcb76306c168b2728b7ef02cbff0e} 
\index{pip.\_internal.utils.filesystem@{pip.\_internal.utils.filesystem}!test\_writable\_dir@{test\_writable\_dir}}
\index{test\_writable\_dir@{test\_writable\_dir}!pip.\_internal.utils.filesystem@{pip.\_internal.utils.filesystem}}
\doxysubsubsection{\texorpdfstring{test\_writable\_dir()}{test\_writable\_dir()}}
{\footnotesize\ttfamily  bool test\+\_\+writable\+\_\+dir (\begin{DoxyParamCaption}\item[{str}]{path }\end{DoxyParamCaption})}

\begin{DoxyVerb}Check if a directory is writable.

Uses os.access() on POSIX, tries creating files on Windows.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{filesystem_8py_source_l00076}{76}} of file \mbox{\hyperlink{filesystem_8py_source}{filesystem.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00076\ \textcolor{keyword}{def\ }test\_writable\_dir(path:\ str)\ -\/>\ bool:}
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Check\ if\ a\ directory\ is\ writable.}}
\DoxyCodeLine{00078\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00079\ \textcolor{stringliteral}{\ \ \ \ Uses\ os.access()\ on\ POSIX,\ tries\ creating\ files\ on\ Windows.}}
\DoxyCodeLine{00080\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{comment}{\#\ If\ the\ directory\ doesn't\ exist,\ find\ the\ closest\ parent\ that\ does.}}
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{keywordflow}{while}\ \textcolor{keywordflow}{not}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.path.isdir}}(path):}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ parent\ =\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.path.dirname}}(path)}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ parent\ ==\ path:}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break}\ \ \textcolor{comment}{\#\ Should\ never\ get\ here,\ but\ infinite\ loops\ are\ bad}}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ path\ =\ parent}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00088\ \ \ \ \ \textcolor{keywordflow}{if}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.name}}\ ==\ \textcolor{stringliteral}{"{}posix"{}}:}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.access}}(path,\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.W\_OK}})}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{keywordflow}{return}\ \_test\_writable\_dir\_win(path)}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ }

\end{DoxyCode}


References \mbox{\hyperlink{filesystem_8py_source_l00094}{pip.\+\_\+internal.\+utils.\+filesystem.\+\_\+test\+\_\+writable\+\_\+dir\+\_\+win()}}, and \mbox{\hyperlink{prime__search_8m_source_l00010}{i}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=340pt]{d5/d03/namespacepip_1_1__internal_1_1utils_1_1filesystem_aca8bcb76306c168b2728b7ef02cbff0e_cgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\Hypertarget{namespacepip_1_1__internal_1_1utils_1_1filesystem_a0692756d9628a37c2f52933a5dc73eef}\label{namespacepip_1_1__internal_1_1utils_1_1filesystem_a0692756d9628a37c2f52933a5dc73eef} 
\index{pip.\_internal.utils.filesystem@{pip.\_internal.utils.filesystem}!\_replace\_retry@{\_replace\_retry}}
\index{\_replace\_retry@{\_replace\_retry}!pip.\_internal.utils.filesystem@{pip.\_internal.utils.filesystem}}
\doxysubsubsection{\texorpdfstring{\_replace\_retry}{\_replace\_retry}}
{\footnotesize\ttfamily \+\_\+replace\+\_\+retry = retry(reraise=True, stop=\mbox{\hyperlink{classpip_1_1__vendor_1_1tenacity_1_1stop_1_1stop__after__delay}{stop\+\_\+after\+\_\+delay}}(1), wait=\mbox{\hyperlink{classpip_1_1__vendor_1_1tenacity_1_1wait_1_1wait__fixed}{wait\+\_\+fixed}}(0.\+25))\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{filesystem_8py_source_l00069}{69}} of file \mbox{\hyperlink{filesystem_8py_source}{filesystem.\+py}}.

\Hypertarget{namespacepip_1_1__internal_1_1utils_1_1filesystem_a42385a0b3c596879a9b70b0df184bb7a}\label{namespacepip_1_1__internal_1_1utils_1_1filesystem_a42385a0b3c596879a9b70b0df184bb7a} 
\index{pip.\_internal.utils.filesystem@{pip.\_internal.utils.filesystem}!replace@{replace}}
\index{replace@{replace}!pip.\_internal.utils.filesystem@{pip.\_internal.utils.filesystem}}
\doxysubsubsection{\texorpdfstring{replace}{replace}}
{\footnotesize\ttfamily replace = \mbox{\hyperlink{namespacepip_1_1__internal_1_1utils_1_1filesystem_a0692756d9628a37c2f52933a5dc73eef}{\+\_\+replace\+\_\+retry}}(os.\+replace)}



Definition at line \mbox{\hyperlink{filesystem_8py_source_l00071}{71}} of file \mbox{\hyperlink{filesystem_8py_source}{filesystem.\+py}}.

