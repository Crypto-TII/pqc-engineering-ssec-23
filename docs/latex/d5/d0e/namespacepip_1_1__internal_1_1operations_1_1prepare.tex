\doxysection{pip.\+\_\+internal.\+operations.\+prepare Namespace Reference}
\hypertarget{namespacepip_1_1__internal_1_1operations_1_1prepare}{}\label{namespacepip_1_1__internal_1_1operations_1_1prepare}\index{pip.\_internal.operations.prepare@{pip.\_internal.operations.prepare}}
\doxysubsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classpip_1_1__internal_1_1operations_1_1prepare_1_1File}{File}}
\item 
class \mbox{\hyperlink{classpip_1_1__internal_1_1operations_1_1prepare_1_1RequirementPreparer}{Requirement\+Preparer}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classpip_1_1__internal_1_1metadata_1_1base_1_1BaseDistribution}{Base\+Distribution}} \mbox{\hyperlink{namespacepip_1_1__internal_1_1operations_1_1prepare_a50d04d2aa7d48d3f0bc3d7c5d1adc70c}{\+\_\+get\+\_\+prepared\+\_\+distribution}} (\mbox{\hyperlink{classpip_1_1__internal_1_1req_1_1req__install_1_1InstallRequirement}{Install\+Requirement}} req, \mbox{\hyperlink{classpip_1_1__internal_1_1operations_1_1build_1_1build__tracker_1_1BuildTracker}{Build\+Tracker}} build\+\_\+tracker, \mbox{\hyperlink{classpip_1_1__internal_1_1index_1_1package__finder_1_1PackageFinder}{Package\+Finder}} finder, bool build\+\_\+isolation, bool check\+\_\+build\+\_\+deps)
\item 
\mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{None}} \mbox{\hyperlink{namespacepip_1_1__internal_1_1operations_1_1prepare_af52c74043600268370be25d7ef4cc0b5}{unpack\+\_\+vcs\+\_\+link}} (\mbox{\hyperlink{classpip_1_1__internal_1_1models_1_1link_1_1Link}{Link}} link, str location, int verbosity)
\item 
\mbox{\hyperlink{classpip_1_1__internal_1_1operations_1_1prepare_1_1File}{File}} \mbox{\hyperlink{namespacepip_1_1__internal_1_1operations_1_1prepare_a0baa6de1885d0a6d80c29c3c9abe069b}{get\+\_\+http\+\_\+url}} (\mbox{\hyperlink{classpip_1_1__internal_1_1models_1_1link_1_1Link}{Link}} link, \mbox{\hyperlink{classpip_1_1__internal_1_1network_1_1download_1_1Downloader}{Downloader}} download, Optional\mbox{[}str\mbox{]} download\+\_\+dir=\mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{None}}, Optional\mbox{[}\mbox{\hyperlink{classpip_1_1__internal_1_1utils_1_1hashes_1_1Hashes}{Hashes}}\mbox{]} hashes=\mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{None}})
\item 
\mbox{\hyperlink{classpip_1_1__internal_1_1operations_1_1prepare_1_1File}{File}} \mbox{\hyperlink{namespacepip_1_1__internal_1_1operations_1_1prepare_a2057fa0618c2bf62bdae19d68f10cd86}{get\+\_\+file\+\_\+url}} (\mbox{\hyperlink{classpip_1_1__internal_1_1models_1_1link_1_1Link}{Link}} link, Optional\mbox{[}str\mbox{]} download\+\_\+dir=\mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{None}}, Optional\mbox{[}\mbox{\hyperlink{classpip_1_1__internal_1_1utils_1_1hashes_1_1Hashes}{Hashes}}\mbox{]} hashes=\mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{None}})
\item 
Optional\mbox{[}\mbox{\hyperlink{classpip_1_1__internal_1_1operations_1_1prepare_1_1File}{File}}\mbox{]} \mbox{\hyperlink{namespacepip_1_1__internal_1_1operations_1_1prepare_a1a3925c4e6f1099f2271b742001ee3f6}{unpack\+\_\+url}} (\mbox{\hyperlink{classpip_1_1__internal_1_1models_1_1link_1_1Link}{Link}} link, str location, \mbox{\hyperlink{classpip_1_1__internal_1_1network_1_1download_1_1Downloader}{Downloader}} download, int verbosity, Optional\mbox{[}str\mbox{]} download\+\_\+dir=\mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{None}}, Optional\mbox{[}\mbox{\hyperlink{classpip_1_1__internal_1_1utils_1_1hashes_1_1Hashes}{Hashes}}\mbox{]} hashes=\mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{None}})
\item 
Optional\mbox{[}str\mbox{]} \mbox{\hyperlink{namespacepip_1_1__internal_1_1operations_1_1prepare_aa46bb38e7bb428fb970fe837e38564c8}{\+\_\+check\+\_\+download\+\_\+dir}} (\mbox{\hyperlink{classpip_1_1__internal_1_1models_1_1link_1_1Link}{Link}} link, str download\+\_\+dir, Optional\mbox{[}\mbox{\hyperlink{classpip_1_1__internal_1_1utils_1_1hashes_1_1Hashes}{Hashes}}\mbox{]} hashes, bool \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{warn\+\_\+on\+\_\+hash\+\_\+mismatch}}=True)
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacepip_1_1__internal_1_1operations_1_1prepare_a0b14e488ae28d98d262453f3e9cd6e4d}{logger}} = logging.\+get\+Logger(\+\_\+\+\_\+name\+\_\+\+\_\+)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}Prepares a distribution for installation
\end{DoxyVerb}
 

\doxysubsection{Function Documentation}
\Hypertarget{namespacepip_1_1__internal_1_1operations_1_1prepare_aa46bb38e7bb428fb970fe837e38564c8}\label{namespacepip_1_1__internal_1_1operations_1_1prepare_aa46bb38e7bb428fb970fe837e38564c8} 
\index{pip.\_internal.operations.prepare@{pip.\_internal.operations.prepare}!\_check\_download\_dir@{\_check\_download\_dir}}
\index{\_check\_download\_dir@{\_check\_download\_dir}!pip.\_internal.operations.prepare@{pip.\_internal.operations.prepare}}
\doxysubsubsection{\texorpdfstring{\_check\_download\_dir()}{\_check\_download\_dir()}}
{\footnotesize\ttfamily  Optional\mbox{[}str\mbox{]} \+\_\+check\+\_\+download\+\_\+dir (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classpip_1_1__internal_1_1models_1_1link_1_1Link}{Link}}}]{link,  }\item[{str}]{download\+\_\+dir,  }\item[{Optional\mbox{[}\mbox{\hyperlink{classpip_1_1__internal_1_1utils_1_1hashes_1_1Hashes}{Hashes}}\mbox{]}}]{hashes,  }\item[{bool }]{warn\+\_\+on\+\_\+hash\+\_\+mismatch = {\ttfamily True} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Check download_dir for previously downloaded file with correct hash
If a correct file is found return its path else None
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{prepare_8py_source_l00181}{181}} of file \mbox{\hyperlink{prepare_8py_source}{prepare.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00186\ )\ -\/>\ Optional[str]:}
\DoxyCodeLine{00187\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Check\ download\_dir\ for\ previously\ downloaded\ file\ with\ correct\ hash}}
\DoxyCodeLine{00188\ \textcolor{stringliteral}{\ \ \ \ If\ a\ correct\ file\ is\ found\ return\ its\ path\ else\ None}}
\DoxyCodeLine{00189\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00190\ \ \ \ \ download\_path\ =\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.path.join}}(download\_dir,\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{link.filename}})}
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00192\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.path.exists}}(download\_path):}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00194\ }
\DoxyCodeLine{00195\ \ \ \ \ \textcolor{comment}{\#\ If\ already\ downloaded,\ does\ its\ hash\ match?}}
\DoxyCodeLine{00196\ \ \ \ \ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{logger.info}}(\textcolor{stringliteral}{"{}File\ was\ already\ downloaded\ \%s"{}},\ download\_path)}
\DoxyCodeLine{00197\ \ \ \ \ \textcolor{keywordflow}{if}\ hashes:}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{hashes.check\_against\_path}}(download\_path)}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ HashMismatch:}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ warn\_on\_hash\_mismatch:}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{logger.warning}}(}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Previously-\/downloaded\ file\ \%s\ has\ bad\ hash.\ Re-\/downloading."{}},}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ download\_path,}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{os.unlink}}(download\_path)}
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00208\ \ \ \ \ \textcolor{keywordflow}{return}\ download\_path}
\DoxyCodeLine{00209\ }
\DoxyCodeLine{00210\ }

\end{DoxyCode}


References \mbox{\hyperlink{prime__search_8m_source_l00010}{i}}.



Referenced by \mbox{\hyperlink{prepare_8py_source_l00116}{pip.\+\_\+internal.\+operations.\+prepare.\+get\+\_\+file\+\_\+url()}}, \mbox{\hyperlink{prepare_8py_source_l00095}{pip.\+\_\+internal.\+operations.\+prepare.\+get\+\_\+http\+\_\+url()}}, \mbox{\hyperlink{prepare_8py_source_l00504}{Requirement\+Preparer.\+prepare\+\_\+linked\+\_\+requirement()}}, and \mbox{\hyperlink{prepare_8py_source_l00542}{Requirement\+Preparer.\+prepare\+\_\+linked\+\_\+requirements\+\_\+more()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare_aa46bb38e7bb428fb970fe837e38564c8_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacepip_1_1__internal_1_1operations_1_1prepare_a50d04d2aa7d48d3f0bc3d7c5d1adc70c}\label{namespacepip_1_1__internal_1_1operations_1_1prepare_a50d04d2aa7d48d3f0bc3d7c5d1adc70c} 
\index{pip.\_internal.operations.prepare@{pip.\_internal.operations.prepare}!\_get\_prepared\_distribution@{\_get\_prepared\_distribution}}
\index{\_get\_prepared\_distribution@{\_get\_prepared\_distribution}!pip.\_internal.operations.prepare@{pip.\_internal.operations.prepare}}
\doxysubsubsection{\texorpdfstring{\_get\_prepared\_distribution()}{\_get\_prepared\_distribution()}}
{\footnotesize\ttfamily  \mbox{\hyperlink{classpip_1_1__internal_1_1metadata_1_1base_1_1BaseDistribution}{Base\+Distribution}} \+\_\+get\+\_\+prepared\+\_\+distribution (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classpip_1_1__internal_1_1req_1_1req__install_1_1InstallRequirement}{Install\+Requirement}}}]{req,  }\item[{\mbox{\hyperlink{classpip_1_1__internal_1_1operations_1_1build_1_1build__tracker_1_1BuildTracker}{Build\+Tracker}}}]{build\+\_\+tracker,  }\item[{\mbox{\hyperlink{classpip_1_1__internal_1_1index_1_1package__finder_1_1PackageFinder}{Package\+Finder}}}]{finder,  }\item[{bool}]{build\+\_\+isolation,  }\item[{bool}]{check\+\_\+build\+\_\+deps }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Prepare a distribution for installation.\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{prepare_8py_source_l00059}{59}} of file \mbox{\hyperlink{prepare_8py_source}{prepare.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00065\ )\ -\/>\ BaseDistribution:}
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Prepare\ a\ distribution\ for\ installation."{}"{}"{}}}
\DoxyCodeLine{00067\ \ \ \ \ abstract\_dist\ =\ make\_distribution\_for\_install\_requirement(req)}
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{keyword}{with}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{build\_tracker.track}}(req):}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{abstract\_dist.prepare\_distribution\_metadata}}(}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \ \ \ \ finder,\ build\_isolation,\ check\_build\_deps}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{00072\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{abstract\_dist.get\_metadata\_distribution}}()}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ }

\end{DoxyCode}


References \mbox{\hyperlink{prime__search_8m_source_l00010}{i}}.



Referenced by \mbox{\hyperlink{prepare_8py_source_l00572}{Requirement\+Preparer.\+\_\+prepare\+\_\+linked\+\_\+requirement()}}, and \mbox{\hyperlink{prepare_8py_source_l00691}{Requirement\+Preparer.\+prepare\+\_\+editable\+\_\+requirement()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare_a50d04d2aa7d48d3f0bc3d7c5d1adc70c_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacepip_1_1__internal_1_1operations_1_1prepare_a2057fa0618c2bf62bdae19d68f10cd86}\label{namespacepip_1_1__internal_1_1operations_1_1prepare_a2057fa0618c2bf62bdae19d68f10cd86} 
\index{pip.\_internal.operations.prepare@{pip.\_internal.operations.prepare}!get\_file\_url@{get\_file\_url}}
\index{get\_file\_url@{get\_file\_url}!pip.\_internal.operations.prepare@{pip.\_internal.operations.prepare}}
\doxysubsubsection{\texorpdfstring{get\_file\_url()}{get\_file\_url()}}
{\footnotesize\ttfamily  \mbox{\hyperlink{classpip_1_1__internal_1_1operations_1_1prepare_1_1File}{File}} get\+\_\+file\+\_\+url (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classpip_1_1__internal_1_1models_1_1link_1_1Link}{Link}}}]{link,  }\item[{Optional\mbox{[}str\mbox{]} }]{download\+\_\+dir = {\ttfamily \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{None}}},  }\item[{Optional\mbox{[}\mbox{\hyperlink{classpip_1_1__internal_1_1utils_1_1hashes_1_1Hashes}{Hashes}}\mbox{]} }]{hashes = {\ttfamily \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{None}}} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Get file and optionally check its hash.\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{prepare_8py_source_l00114}{114}} of file \mbox{\hyperlink{prepare_8py_source}{prepare.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00116\ )\ -\/>\ File:}
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Get\ file\ and\ optionally\ check\ its\ hash."{}"{}"{}}}
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{comment}{\#\ If\ a\ download\ dir\ is\ specified,\ is\ the\ file\ already\ there\ and\ valid?}}
\DoxyCodeLine{00119\ \ \ \ \ already\_downloaded\_path\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00120\ \ \ \ \ \textcolor{keywordflow}{if}\ download\_dir:}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ already\_downloaded\_path\ =\ \_check\_download\_dir(link,\ download\_dir,\ hashes)}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{keywordflow}{if}\ already\_downloaded\_path:}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ from\_path\ =\ already\_downloaded\_path}
\DoxyCodeLine{00125\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ from\_path\ =\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{link.file\_path}}}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00128\ \ \ \ \ \textcolor{comment}{\#\ If\ -\/-\/require-\/hashes\ is\ off,\ \`{}hashes`\ is\ either\ empty,\ the}}
\DoxyCodeLine{00129\ \ \ \ \ \textcolor{comment}{\#\ link's\ embedded\ hash,\ or\ MissingHashes;\ it\ is\ required\ to}}
\DoxyCodeLine{00130\ \ \ \ \ \textcolor{comment}{\#\ match.\ If\ -\/-\/require-\/hashes\ is\ on,\ we\ are\ satisfied\ by\ any}}
\DoxyCodeLine{00131\ \ \ \ \ \textcolor{comment}{\#\ hash\ in\ \`{}hashes`\ matching:\ a\ URL-\/based\ or\ an\ option-\/based}}
\DoxyCodeLine{00132\ \ \ \ \ \textcolor{comment}{\#\ one;\ no\ internet-\/sourced\ hash\ will\ be\ in\ \`{}hashes`.}}
\DoxyCodeLine{00133\ \ \ \ \ \textcolor{keywordflow}{if}\ hashes:}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{hashes.check\_against\_path}}(from\_path)}
\DoxyCodeLine{00135\ \ \ \ \ \textcolor{keywordflow}{return}\ File(from\_path,\ \textcolor{keywordtype}{None})}
\DoxyCodeLine{00136\ }
\DoxyCodeLine{00137\ }

\end{DoxyCode}


References \mbox{\hyperlink{prepare_8py_source_l00186}{pip.\+\_\+internal.\+operations.\+prepare.\+\_\+check\+\_\+download\+\_\+dir()}}, and \mbox{\hyperlink{prime__search_8m_source_l00010}{i}}.



Referenced by \mbox{\hyperlink{prepare_8py_source_l00145}{pip.\+\_\+internal.\+operations.\+prepare.\+unpack\+\_\+url()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=308pt]{d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare_a2057fa0618c2bf62bdae19d68f10cd86_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare_a2057fa0618c2bf62bdae19d68f10cd86_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacepip_1_1__internal_1_1operations_1_1prepare_a0baa6de1885d0a6d80c29c3c9abe069b}\label{namespacepip_1_1__internal_1_1operations_1_1prepare_a0baa6de1885d0a6d80c29c3c9abe069b} 
\index{pip.\_internal.operations.prepare@{pip.\_internal.operations.prepare}!get\_http\_url@{get\_http\_url}}
\index{get\_http\_url@{get\_http\_url}!pip.\_internal.operations.prepare@{pip.\_internal.operations.prepare}}
\doxysubsubsection{\texorpdfstring{get\_http\_url()}{get\_http\_url()}}
{\footnotesize\ttfamily  \mbox{\hyperlink{classpip_1_1__internal_1_1operations_1_1prepare_1_1File}{File}} get\+\_\+http\+\_\+url (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classpip_1_1__internal_1_1models_1_1link_1_1Link}{Link}}}]{link,  }\item[{\mbox{\hyperlink{classpip_1_1__internal_1_1network_1_1download_1_1Downloader}{Downloader}}}]{download,  }\item[{Optional\mbox{[}str\mbox{]} }]{download\+\_\+dir = {\ttfamily \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{None}}},  }\item[{Optional\mbox{[}\mbox{\hyperlink{classpip_1_1__internal_1_1utils_1_1hashes_1_1Hashes}{Hashes}}\mbox{]} }]{hashes = {\ttfamily \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{None}}} }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{prepare_8py_source_l00090}{90}} of file \mbox{\hyperlink{prepare_8py_source}{prepare.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00095\ )\ -\/>\ File:}
\DoxyCodeLine{00096\ \ \ \ \ temp\_dir\ =\ TempDirectory(kind=\textcolor{stringliteral}{"{}unpack"{}},\ globally\_managed=\textcolor{keyword}{True})}
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{comment}{\#\ If\ a\ download\ dir\ is\ specified,\ is\ the\ file\ already\ downloaded\ there?}}
\DoxyCodeLine{00098\ \ \ \ \ already\_downloaded\_path\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{keywordflow}{if}\ download\_dir:}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ already\_downloaded\_path\ =\ \_check\_download\_dir(link,\ download\_dir,\ hashes)}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{keywordflow}{if}\ already\_downloaded\_path:}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ from\_path\ =\ already\_downloaded\_path}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ content\_type\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00105\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ let's\ download\ to\ a\ tmp\ dir}}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ from\_path,\ content\_type\ =\ download(link,\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{temp\_dir.path}})}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ hashes:}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{hashes.check\_against\_path}}(from\_path)}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \ \ \textcolor{keywordflow}{return}\ File(from\_path,\ content\_type)}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00113\ }

\end{DoxyCode}


References \mbox{\hyperlink{prepare_8py_source_l00186}{pip.\+\_\+internal.\+operations.\+prepare.\+\_\+check\+\_\+download\+\_\+dir()}}, and \mbox{\hyperlink{prime__search_8m_source_l00010}{i}}.



Referenced by \mbox{\hyperlink{prepare_8py_source_l00390}{Requirement\+Preparer.\+\_\+fetch\+\_\+metadata\+\_\+using\+\_\+link\+\_\+data\+\_\+attr()}}, and \mbox{\hyperlink{prepare_8py_source_l00145}{pip.\+\_\+internal.\+operations.\+prepare.\+unpack\+\_\+url()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=312pt]{d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare_a0baa6de1885d0a6d80c29c3c9abe069b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare_a0baa6de1885d0a6d80c29c3c9abe069b_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacepip_1_1__internal_1_1operations_1_1prepare_a1a3925c4e6f1099f2271b742001ee3f6}\label{namespacepip_1_1__internal_1_1operations_1_1prepare_a1a3925c4e6f1099f2271b742001ee3f6} 
\index{pip.\_internal.operations.prepare@{pip.\_internal.operations.prepare}!unpack\_url@{unpack\_url}}
\index{unpack\_url@{unpack\_url}!pip.\_internal.operations.prepare@{pip.\_internal.operations.prepare}}
\doxysubsubsection{\texorpdfstring{unpack\_url()}{unpack\_url()}}
{\footnotesize\ttfamily  Optional\mbox{[}\mbox{\hyperlink{classpip_1_1__internal_1_1operations_1_1prepare_1_1File}{File}}\mbox{]} unpack\+\_\+url (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classpip_1_1__internal_1_1models_1_1link_1_1Link}{Link}}}]{link,  }\item[{str}]{location,  }\item[{\mbox{\hyperlink{classpip_1_1__internal_1_1network_1_1download_1_1Downloader}{Downloader}}}]{download,  }\item[{int}]{verbosity,  }\item[{Optional\mbox{[}str\mbox{]} }]{download\+\_\+dir = {\ttfamily \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{None}}},  }\item[{Optional\mbox{[}\mbox{\hyperlink{classpip_1_1__internal_1_1utils_1_1hashes_1_1Hashes}{Hashes}}\mbox{]} }]{hashes = {\ttfamily \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{None}}} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Unpack link into location, downloading if required.

:param hashes: A Hashes object, one of whose embedded hashes must match,
    or HashMismatch will be raised. If the Hashes is empty, no matches are
    required, and unhashable types of requirements (like VCS ones, which
    would ordinarily raise HashUnsupported) are allowed.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{prepare_8py_source_l00138}{138}} of file \mbox{\hyperlink{prepare_8py_source}{prepare.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00145\ )\ -\/>\ Optional[File]:}
\DoxyCodeLine{00146\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Unpack\ link\ into\ location,\ downloading\ if\ required.}}
\DoxyCodeLine{00147\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00148\ \textcolor{stringliteral}{\ \ \ \ :param\ hashes:\ A\ Hashes\ object,\ one\ of\ whose\ embedded\ hashes\ must\ match,}}
\DoxyCodeLine{00149\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ or\ HashMismatch\ will\ be\ raised.\ If\ the\ Hashes\ is\ empty,\ no\ matches\ are}}
\DoxyCodeLine{00150\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ required,\ and\ unhashable\ types\ of\ requirements\ (like\ VCS\ ones,\ which}}
\DoxyCodeLine{00151\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ would\ ordinarily\ raise\ HashUnsupported)\ are\ allowed.}}
\DoxyCodeLine{00152\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00153\ \ \ \ \ \textcolor{comment}{\#\ non-\/editable\ vcs\ urls}}
\DoxyCodeLine{00154\ \ \ \ \ \textcolor{keywordflow}{if}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{link.is\_vcs}}:}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ unpack\_vcs\_link(link,\ location,\ verbosity=verbosity)}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00157\ }
\DoxyCodeLine{00158\ \ \ \ \ \textcolor{keyword}{assert}\ \textcolor{keywordflow}{not}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{link.is\_existing\_dir}}()}
\DoxyCodeLine{00159\ }
\DoxyCodeLine{00160\ \ \ \ \ \textcolor{comment}{\#\ file\ urls}}
\DoxyCodeLine{00161\ \ \ \ \ \textcolor{keywordflow}{if}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{link.is\_file}}:}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ file\ =\ get\_file\_url(link,\ download\_dir,\ hashes=hashes)}
\DoxyCodeLine{00163\ }
\DoxyCodeLine{00164\ \ \ \ \ \textcolor{comment}{\#\ http\ urls}}
\DoxyCodeLine{00165\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ file\ =\ get\_http\_url(}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \ \ \ \ link,}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \ \ \ \ download,}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ \ \ \ \ download\_dir,}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \ \ \ \ hashes=hashes,}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{00172\ }
\DoxyCodeLine{00173\ \ \ \ \ \textcolor{comment}{\#\ unpack\ the\ archive\ to\ the\ build\ dir\ location.\ even\ when\ only\ downloading}}
\DoxyCodeLine{00174\ \ \ \ \ \textcolor{comment}{\#\ archives,\ they\ have\ to\ be\ unpacked\ to\ parse\ dependencies,\ except\ wheels}}
\DoxyCodeLine{00175\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{link.is\_wheel}}:}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ unpack\_file(\mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{file.path}},\ location,\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{file.content\_type}})}
\DoxyCodeLine{00177\ }
\DoxyCodeLine{00178\ \ \ \ \ \textcolor{keywordflow}{return}\ file}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00180\ }

\end{DoxyCode}


References \mbox{\hyperlink{prepare_8py_source_l00116}{pip.\+\_\+internal.\+operations.\+prepare.\+get\+\_\+file\+\_\+url()}}, \mbox{\hyperlink{prepare_8py_source_l00095}{pip.\+\_\+internal.\+operations.\+prepare.\+get\+\_\+http\+\_\+url()}}, \mbox{\hyperlink{prime__search_8m_source_l00010}{i}}, and \mbox{\hyperlink{prepare_8py_source_l00075}{pip.\+\_\+internal.\+operations.\+prepare.\+unpack\+\_\+vcs\+\_\+link()}}.



Referenced by \mbox{\hyperlink{prepare_8py_source_l00572}{Requirement\+Preparer.\+\_\+prepare\+\_\+linked\+\_\+requirement()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare_a1a3925c4e6f1099f2271b742001ee3f6_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare_a1a3925c4e6f1099f2271b742001ee3f6_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacepip_1_1__internal_1_1operations_1_1prepare_af52c74043600268370be25d7ef4cc0b5}\label{namespacepip_1_1__internal_1_1operations_1_1prepare_af52c74043600268370be25d7ef4cc0b5} 
\index{pip.\_internal.operations.prepare@{pip.\_internal.operations.prepare}!unpack\_vcs\_link@{unpack\_vcs\_link}}
\index{unpack\_vcs\_link@{unpack\_vcs\_link}!pip.\_internal.operations.prepare@{pip.\_internal.operations.prepare}}
\doxysubsubsection{\texorpdfstring{unpack\_vcs\_link()}{unpack\_vcs\_link()}}
{\footnotesize\ttfamily  \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{None}} unpack\+\_\+vcs\+\_\+link (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classpip_1_1__internal_1_1models_1_1link_1_1Link}{Link}}}]{link,  }\item[{str}]{location,  }\item[{int}]{verbosity }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{prepare_8py_source_l00075}{75}} of file \mbox{\hyperlink{prepare_8py_source}{prepare.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00075\ \textcolor{keyword}{def\ }unpack\_vcs\_link(link:\ Link,\ location:\ str,\ verbosity:\ int)\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{00076\ \ \ \ \ vcs\_backend\ =\ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{vcs.get\_backend\_for\_scheme}}(\mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{link.scheme}})}
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keyword}{assert}\ vcs\_backend\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00078\ \ \ \ \ \mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{vcs\_backend.unpack}}(location,\ url=hide\_url(\mbox{\hyperlink{prime__search_8m_a6f6ccfcf58b31cb6412107d9d5281426}{link.url}}),\ verbosity=verbosity)}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ }

\end{DoxyCode}


References \mbox{\hyperlink{prime__search_8m_source_l00010}{i}}.



Referenced by \mbox{\hyperlink{prepare_8py_source_l00145}{pip.\+\_\+internal.\+operations.\+prepare.\+unpack\+\_\+url()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare_af52c74043600268370be25d7ef4cc0b5_icgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\Hypertarget{namespacepip_1_1__internal_1_1operations_1_1prepare_a0b14e488ae28d98d262453f3e9cd6e4d}\label{namespacepip_1_1__internal_1_1operations_1_1prepare_a0b14e488ae28d98d262453f3e9cd6e4d} 
\index{pip.\_internal.operations.prepare@{pip.\_internal.operations.prepare}!logger@{logger}}
\index{logger@{logger}!pip.\_internal.operations.prepare@{pip.\_internal.operations.prepare}}
\doxysubsubsection{\texorpdfstring{logger}{logger}}
{\footnotesize\ttfamily logger = logging.\+get\+Logger(\+\_\+\+\_\+name\+\_\+\+\_\+)}



Definition at line \mbox{\hyperlink{prepare_8py_source_l00056}{56}} of file \mbox{\hyperlink{prepare_8py_source}{prepare.\+py}}.

