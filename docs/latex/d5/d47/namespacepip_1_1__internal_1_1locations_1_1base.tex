\doxysection{pip.\+\_\+internal.\+locations.\+base Namespace Reference}
\hypertarget{namespacepip_1_1__internal_1_1locations_1_1base}{}\label{namespacepip_1_1__internal_1_1locations_1_1base}\index{pip.\_internal.locations.base@{pip.\_internal.locations.base}}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
str \mbox{\hyperlink{namespacepip_1_1__internal_1_1locations_1_1base_a31adb11ef1f22a6195ff49c6c949c932}{get\+\_\+major\+\_\+minor\+\_\+version}} ()
\item 
str \mbox{\hyperlink{namespacepip_1_1__internal_1_1locations_1_1base_a7f8e7286704aef4552e9269a922d4669}{change\+\_\+root}} (str new\+\_\+root, str pathname)
\item 
str \mbox{\hyperlink{namespacepip_1_1__internal_1_1locations_1_1base_a239c0f4610fd7960b3c40ec5ebec0178}{get\+\_\+src\+\_\+prefix}} ()
\item 
bool \mbox{\hyperlink{namespacepip_1_1__internal_1_1locations_1_1base_ae5b2402946724bf5767c20b9689b204a}{is\+\_\+osx\+\_\+framework}} ()
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacepip_1_1__internal_1_1locations_1_1base_a9ffdb3b48d9dedd6b34aee3622b063aa}{USER\+\_\+\+CACHE\+\_\+\+DIR}} = \mbox{\hyperlink{namespacepip_1_1__internal_1_1utils_1_1appdirs_ab414f6de50ce0bf54bd7f5f0a9935d0d}{appdirs.\+user\+\_\+cache\+\_\+dir}}("{}pip"{})
\item 
str \mbox{\hyperlink{namespacepip_1_1__internal_1_1locations_1_1base_a68da1a8b573a7dbd711195c814f057c2}{site\+\_\+packages}} = sysconfig.\+get\+\_\+path("{}purelib"{})
\item 
typing \mbox{\hyperlink{namespacepip_1_1__internal_1_1locations_1_1base_a84ca1443d9d1bcf29f41aaa1463386c9}{user\+\_\+site}} = site.\+getusersitepackages()
\end{DoxyCompactItemize}


\label{doc-func-members}
\Hypertarget{namespacepip_1_1__internal_1_1locations_1_1base_doc-func-members}
\doxysubsection{Function Documentation}
\Hypertarget{namespacepip_1_1__internal_1_1locations_1_1base_a7f8e7286704aef4552e9269a922d4669}\index{pip.\_internal.locations.base@{pip.\_internal.locations.base}!change\_root@{change\_root}}
\index{change\_root@{change\_root}!pip.\_internal.locations.base@{pip.\_internal.locations.base}}
\doxysubsubsection{\texorpdfstring{change\_root()}{change\_root()}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1locations_1_1base_a7f8e7286704aef4552e9269a922d4669} 
 str change\+\_\+root (\begin{DoxyParamCaption}\item[{str}]{new\+\_\+root}{, }\item[{str}]{pathname}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Return 'pathname' with 'new_root' prepended.

If 'pathname' is relative, this is equivalent to os.path.join(new_root, pathname).
Otherwise, it requires making 'pathname' relative and then joining the
two, which is tricky on DOS/Windows and Mac OS.

This is borrowed from Python's standard library's distutils module.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{locations_2base_8py_source_l00027}{27}} of file \mbox{\hyperlink{locations_2base_8py_source}{base.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00027\ \textcolor{keyword}{def\ }change\_root(new\_root:\ str,\ pathname:\ str)\ -\/>\ str:}
\DoxyCodeLine{00028\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Return\ 'pathname'\ with\ 'new\_root'\ prepended.}}
\DoxyCodeLine{00029\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00030\ \textcolor{stringliteral}{\ \ \ \ If\ 'pathname'\ is\ relative,\ this\ is\ equivalent\ to\ os.path.join(new\_root,\ pathname).}}
\DoxyCodeLine{00031\ \textcolor{stringliteral}{\ \ \ \ Otherwise,\ it\ requires\ making\ 'pathname'\ relative\ and\ then\ joining\ the}}
\DoxyCodeLine{00032\ \textcolor{stringliteral}{\ \ \ \ two,\ which\ is\ tricky\ on\ DOS/Windows\ and\ Mac\ OS.}}
\DoxyCodeLine{00033\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00034\ \textcolor{stringliteral}{\ \ \ \ This\ is\ borrowed\ from\ Python's\ standard\ library's\ distutils\ module.}}
\DoxyCodeLine{00035\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00036\ \ \ \ \ \textcolor{keywordflow}{if}\ os.name\ ==\ \textcolor{stringliteral}{"{}posix"{}}:}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ os.path.isabs(pathname):}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ os.path.join(new\_root,\ pathname)}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ os.path.join(new\_root,\ pathname[1:])}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \ \ \ \ \textcolor{keywordflow}{elif}\ os.name\ ==\ \textcolor{stringliteral}{"{}nt"{}}:}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ (drive,\ path)\ =\ os.path.splitdrive(pathname)}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ path[0]\ ==\ \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)"{}}:}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \ \ \ \ path\ =\ path[1:]}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ os.path.join(new\_root,\ path)}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ InstallationError(}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{"{}Unknown\ platform:\ \{os.name\}\(\backslash\)n"{}}}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Can\ not\ change\ root\ path\ prefix\ on\ unknown\ platform."{}}}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ }

\end{DoxyCode}
\Hypertarget{namespacepip_1_1__internal_1_1locations_1_1base_a31adb11ef1f22a6195ff49c6c949c932}\index{pip.\_internal.locations.base@{pip.\_internal.locations.base}!get\_major\_minor\_version@{get\_major\_minor\_version}}
\index{get\_major\_minor\_version@{get\_major\_minor\_version}!pip.\_internal.locations.base@{pip.\_internal.locations.base}}
\doxysubsubsection{\texorpdfstring{get\_major\_minor\_version()}{get\_major\_minor\_version()}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1locations_1_1base_a31adb11ef1f22a6195ff49c6c949c932} 
 str get\+\_\+major\+\_\+minor\+\_\+version (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Return the major-minor version of the current Python as a string, e.g.
"3.7" or "3.10".
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{locations_2base_8py_source_l00019}{19}} of file \mbox{\hyperlink{locations_2base_8py_source}{base.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00019\ \textcolor{keyword}{def\ }get\_major\_minor\_version()\ -\/>\ str:}
\DoxyCodeLine{00020\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00021\ \textcolor{stringliteral}{\ \ \ \ Return\ the\ major-\/minor\ version\ of\ the\ current\ Python\ as\ a\ string,\ e.g.}}
\DoxyCodeLine{00022\ \textcolor{stringliteral}{\ \ \ \ "{}3.7"{}\ or\ "{}3.10"{}.}}
\DoxyCodeLine{00023\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00024\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}\{\}.\{\}"{}}.format(*sys.version\_info)}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ }

\end{DoxyCode}
\Hypertarget{namespacepip_1_1__internal_1_1locations_1_1base_a239c0f4610fd7960b3c40ec5ebec0178}\index{pip.\_internal.locations.base@{pip.\_internal.locations.base}!get\_src\_prefix@{get\_src\_prefix}}
\index{get\_src\_prefix@{get\_src\_prefix}!pip.\_internal.locations.base@{pip.\_internal.locations.base}}
\doxysubsubsection{\texorpdfstring{get\_src\_prefix()}{get\_src\_prefix()}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1locations_1_1base_a239c0f4610fd7960b3c40ec5ebec0178} 
 str get\+\_\+src\+\_\+prefix (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{locations_2base_8py_source_l00055}{55}} of file \mbox{\hyperlink{locations_2base_8py_source}{base.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00055\ \textcolor{keyword}{def\ }get\_src\_prefix()\ -\/>\ str:}
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{keywordflow}{if}\ running\_under\_virtualenv():}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ src\_prefix\ =\ os.path.join(sys.prefix,\ \textcolor{stringliteral}{"{}src"{}})}
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ FIXME:\ keep\ src\ in\ cwd\ for\ now\ (it\ is\ not\ a\ temporary\ folder)}}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \ \ \ \ src\_prefix\ =\ os.path.join(os.getcwd(),\ \textcolor{stringliteral}{"{}src"{}})}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ OSError:}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ In\ case\ the\ current\ working\ directory\ has\ been\ renamed\ or\ deleted}}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \ \ \ \ sys.exit(\textcolor{stringliteral}{"{}The\ folder\ you\ are\ executing\ pip\ from\ can\ no\ longer\ be\ found."{}})}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{comment}{\#\ under\ macOS\ +\ virtualenv\ sys.prefix\ is\ not\ properly\ resolved}}
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{comment}{\#\ it\ is\ something\ like\ /path/to/python/bin/..}}
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{keywordflow}{return}\ os.path.abspath(src\_prefix)}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ }

\end{DoxyCode}
\Hypertarget{namespacepip_1_1__internal_1_1locations_1_1base_ae5b2402946724bf5767c20b9689b204a}\index{pip.\_internal.locations.base@{pip.\_internal.locations.base}!is\_osx\_framework@{is\_osx\_framework}}
\index{is\_osx\_framework@{is\_osx\_framework}!pip.\_internal.locations.base@{pip.\_internal.locations.base}}
\doxysubsubsection{\texorpdfstring{is\_osx\_framework()}{is\_osx\_framework()}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1locations_1_1base_ae5b2402946724bf5767c20b9689b204a} 
 bool is\+\_\+osx\+\_\+framework (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{locations_2base_8py_source_l00080}{80}} of file \mbox{\hyperlink{locations_2base_8py_source}{base.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00080\ \textcolor{keyword}{def\ }is\_osx\_framework()\ -\/>\ bool:}
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{keywordflow}{return}\ bool(sysconfig.get\_config\_var(\textcolor{stringliteral}{"{}PYTHONFRAMEWORK"{}}))}

\end{DoxyCode}


\label{doc-var-members}
\Hypertarget{namespacepip_1_1__internal_1_1locations_1_1base_doc-var-members}
\doxysubsection{Variable Documentation}
\Hypertarget{namespacepip_1_1__internal_1_1locations_1_1base_a68da1a8b573a7dbd711195c814f057c2}\index{pip.\_internal.locations.base@{pip.\_internal.locations.base}!site\_packages@{site\_packages}}
\index{site\_packages@{site\_packages}!pip.\_internal.locations.base@{pip.\_internal.locations.base}}
\doxysubsubsection{\texorpdfstring{site\_packages}{site\_packages}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1locations_1_1base_a68da1a8b573a7dbd711195c814f057c2} 
str site\+\_\+packages = sysconfig.\+get\+\_\+path("{}purelib"{})}



Definition at line \mbox{\hyperlink{locations_2base_8py_source_l00016}{16}} of file \mbox{\hyperlink{locations_2base_8py_source}{base.\+py}}.

\Hypertarget{namespacepip_1_1__internal_1_1locations_1_1base_a9ffdb3b48d9dedd6b34aee3622b063aa}\index{pip.\_internal.locations.base@{pip.\_internal.locations.base}!USER\_CACHE\_DIR@{USER\_CACHE\_DIR}}
\index{USER\_CACHE\_DIR@{USER\_CACHE\_DIR}!pip.\_internal.locations.base@{pip.\_internal.locations.base}}
\doxysubsubsection{\texorpdfstring{USER\_CACHE\_DIR}{USER\_CACHE\_DIR}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1locations_1_1base_a9ffdb3b48d9dedd6b34aee3622b063aa} 
USER\+\_\+\+CACHE\+\_\+\+DIR = \mbox{\hyperlink{namespacepip_1_1__internal_1_1utils_1_1appdirs_ab414f6de50ce0bf54bd7f5f0a9935d0d}{appdirs.\+user\+\_\+cache\+\_\+dir}}("{}pip"{})}



Definition at line \mbox{\hyperlink{locations_2base_8py_source_l00013}{13}} of file \mbox{\hyperlink{locations_2base_8py_source}{base.\+py}}.

\Hypertarget{namespacepip_1_1__internal_1_1locations_1_1base_a84ca1443d9d1bcf29f41aaa1463386c9}\index{pip.\_internal.locations.base@{pip.\_internal.locations.base}!user\_site@{user\_site}}
\index{user\_site@{user\_site}!pip.\_internal.locations.base@{pip.\_internal.locations.base}}
\doxysubsubsection{\texorpdfstring{user\_site}{user\_site}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1locations_1_1base_a84ca1443d9d1bcf29f41aaa1463386c9} 
user\+\_\+site = site.\+getusersitepackages()}



Definition at line \mbox{\hyperlink{locations_2base_8py_source_l00074}{74}} of file \mbox{\hyperlink{locations_2base_8py_source}{base.\+py}}.

