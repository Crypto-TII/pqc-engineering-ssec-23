\doxysection{pip.\+\_\+internal.\+operations.\+build.\+metadata\+\_\+legacy Namespace Reference}
\hypertarget{namespacepip_1_1__internal_1_1operations_1_1build_1_1metadata__legacy}{}\label{namespacepip_1_1__internal_1_1operations_1_1build_1_1metadata__legacy}\index{pip.\_internal.operations.build.metadata\_legacy@{pip.\_internal.operations.build.metadata\_legacy}}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
str \mbox{\hyperlink{namespacepip_1_1__internal_1_1operations_1_1build_1_1metadata__legacy_a6c7d2d33103481a686329334d07cb3f9}{\+\_\+find\+\_\+egg\+\_\+info}} (str directory)
\item 
str \mbox{\hyperlink{namespacepip_1_1__internal_1_1operations_1_1build_1_1metadata__legacy_aa3a284fc83f81d561a9044d47ff28234}{generate\+\_\+metadata}} (\mbox{\hyperlink{classpip_1_1__internal_1_1build__env_1_1_build_environment}{Build\+Environment}} build\+\_\+env, str setup\+\_\+py\+\_\+path, str source\+\_\+dir, bool isolated, str details)
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacepip_1_1__internal_1_1operations_1_1build_1_1metadata__legacy_a0b14e488ae28d98d262453f3e9cd6e4d}{logger}} = logging.\+get\+Logger(\+\_\+\+\_\+name\+\_\+\+\_\+)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}Metadata generation logic for legacy source distributions.
\end{DoxyVerb}
 

\label{doc-func-members}
\Hypertarget{namespacepip_1_1__internal_1_1operations_1_1build_1_1metadata__legacy_doc-func-members}
\doxysubsection{Function Documentation}
\Hypertarget{namespacepip_1_1__internal_1_1operations_1_1build_1_1metadata__legacy_a6c7d2d33103481a686329334d07cb3f9}\index{pip.\_internal.operations.build.metadata\_legacy@{pip.\_internal.operations.build.metadata\_legacy}!\_find\_egg\_info@{\_find\_egg\_info}}
\index{\_find\_egg\_info@{\_find\_egg\_info}!pip.\_internal.operations.build.metadata\_legacy@{pip.\_internal.operations.build.metadata\_legacy}}
\doxysubsubsection{\texorpdfstring{\_find\_egg\_info()}{\_find\_egg\_info()}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1operations_1_1build_1_1metadata__legacy_a6c7d2d33103481a686329334d07cb3f9} 
 str \+\_\+find\+\_\+egg\+\_\+info (\begin{DoxyParamCaption}\item[{str}]{directory}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Find an .egg-info subdirectory in `directory`.\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{metadata__legacy_8py_source_l00021}{21}} of file \mbox{\hyperlink{metadata__legacy_8py_source}{metadata\+\_\+legacy.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00021\ \textcolor{keyword}{def\ }\_find\_egg\_info(directory:\ str)\ -\/>\ str:}
\DoxyCodeLine{00022\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Find\ an\ .egg-\/info\ subdirectory\ in\ \`{}directory\`{}."{}"{}"{}}}
\DoxyCodeLine{00023\ \ \ \ \ filenames\ =\ [f\ \textcolor{keywordflow}{for}\ f\ \textcolor{keywordflow}{in}\ os.listdir(directory)\ \textcolor{keywordflow}{if}\ f.endswith(\textcolor{stringliteral}{"{}.egg-\/info"{}})]}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ filenames:}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ InstallationError(f\textcolor{stringliteral}{"{}No\ .egg-\/info\ directory\ found\ in\ \{directory\}"{}})}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \ \ \ \ \textcolor{keywordflow}{if}\ len(filenames)\ >\ 1:}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ InstallationError(}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}More\ than\ one\ .egg-\/info\ directory\ found\ in\ \{\}"{}}.format(directory)}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \ \ \ \ \textcolor{keywordflow}{return}\ os.path.join(directory,\ filenames[0])}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ }

\end{DoxyCode}


Referenced by \mbox{\hyperlink{metadata__legacy_8py_source_l00042}{generate\+\_\+metadata()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=294pt]{da/d20/namespacepip_1_1__internal_1_1operations_1_1build_1_1metadata__legacy_a6c7d2d33103481a686329334d07cb3f9_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacepip_1_1__internal_1_1operations_1_1build_1_1metadata__legacy_aa3a284fc83f81d561a9044d47ff28234}\index{pip.\_internal.operations.build.metadata\_legacy@{pip.\_internal.operations.build.metadata\_legacy}!generate\_metadata@{generate\_metadata}}
\index{generate\_metadata@{generate\_metadata}!pip.\_internal.operations.build.metadata\_legacy@{pip.\_internal.operations.build.metadata\_legacy}}
\doxysubsubsection{\texorpdfstring{generate\_metadata()}{generate\_metadata()}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1operations_1_1build_1_1metadata__legacy_aa3a284fc83f81d561a9044d47ff28234} 
 str generate\+\_\+metadata (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classpip_1_1__internal_1_1build__env_1_1_build_environment}{Build\+Environment}}}]{build\+\_\+env}{, }\item[{str}]{setup\+\_\+py\+\_\+path}{, }\item[{str}]{source\+\_\+dir}{, }\item[{bool}]{isolated}{, }\item[{str}]{details}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Generate metadata using setup.py-based defacto mechanisms.

Returns the generated metadata directory.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{metadata__legacy_8py_source_l00036}{36}} of file \mbox{\hyperlink{metadata__legacy_8py_source}{metadata\+\_\+legacy.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00042\ )\ -\/>\ str:}
\DoxyCodeLine{00043\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Generate\ metadata\ using\ setup.py-\/based\ defacto\ mechanisms.}}
\DoxyCodeLine{00044\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00045\ \textcolor{stringliteral}{\ \ \ \ Returns\ the\ generated\ metadata\ directory.}}
\DoxyCodeLine{00046\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00047\ \ \ \ \ logger.debug(}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Running\ setup.py\ (path:\%s)\ egg\_info\ for\ package\ \%s"{}},}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ setup\_py\_path,}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ details,}
\DoxyCodeLine{00051\ \ \ \ \ )}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \ \ \ \ egg\_info\_dir\ =\ TempDirectory(kind=\textcolor{stringliteral}{"{}pip-\/egg-\/info"{}},\ globally\_managed=\textcolor{keyword}{True}).path}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \ \ \ \ args\ =\ make\_setuptools\_egg\_info\_args(}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ setup\_py\_path,}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ egg\_info\_dir=egg\_info\_dir,}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ no\_user\_config=isolated,}
\DoxyCodeLine{00059\ \ \ \ \ )}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{keyword}{with}\ build\_env:}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \textcolor{keyword}{with}\ open\_spinner(\textcolor{stringliteral}{"{}Preparing\ metadata\ (setup.py)"{}})\ \textcolor{keyword}{as}\ spinner:}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ call\_subprocess(}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ args,}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cwd=source\_dir,}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ command\_desc=\textcolor{stringliteral}{"{}python\ setup.py\ egg\_info"{}},}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ spinner=spinner,}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ InstallationSubprocessError\ \textcolor{keyword}{as}\ error:}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ MetadataGenerationFailed(package\_details=details)\ \textcolor{keyword}{from}\ error}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{comment}{\#\ Return\ the\ .egg-\/info\ directory.}}
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{keywordflow}{return}\ \_find\_egg\_info(egg\_info\_dir)}

\end{DoxyCode}


References \mbox{\hyperlink{metadata__legacy_8py_source_l00021}{\+\_\+find\+\_\+egg\+\_\+info()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=294pt]{da/d20/namespacepip_1_1__internal_1_1operations_1_1build_1_1metadata__legacy_aa3a284fc83f81d561a9044d47ff28234_cgraph}
\end{center}
\end{figure}


\label{doc-var-members}
\Hypertarget{namespacepip_1_1__internal_1_1operations_1_1build_1_1metadata__legacy_doc-var-members}
\doxysubsection{Variable Documentation}
\Hypertarget{namespacepip_1_1__internal_1_1operations_1_1build_1_1metadata__legacy_a0b14e488ae28d98d262453f3e9cd6e4d}\index{pip.\_internal.operations.build.metadata\_legacy@{pip.\_internal.operations.build.metadata\_legacy}!logger@{logger}}
\index{logger@{logger}!pip.\_internal.operations.build.metadata\_legacy@{pip.\_internal.operations.build.metadata\_legacy}}
\doxysubsubsection{\texorpdfstring{logger}{logger}}
{\footnotesize\ttfamily \label{namespacepip_1_1__internal_1_1operations_1_1build_1_1metadata__legacy_a0b14e488ae28d98d262453f3e9cd6e4d} 
logger = logging.\+get\+Logger(\+\_\+\+\_\+name\+\_\+\+\_\+)}



Definition at line \mbox{\hyperlink{metadata__legacy_8py_source_l00018}{18}} of file \mbox{\hyperlink{metadata__legacy_8py_source}{metadata\+\_\+legacy.\+py}}.

