\doxysection{Wrapped\+Socket Class Reference}
\hypertarget{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket}{}\label{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket}\index{WrappedSocket@{WrappedSocket}}


Inheritance diagram for Wrapped\+Socket\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=165pt]{dc/db5/classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Wrapped\+Socket\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=165pt]{dd/de0/classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a6d66e5265e0d3955dcd49463b3393ef6}{\+\_\+\+\_\+init\+\_\+\+\_\+}} (self, \mbox{\hyperlink{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a84edc84c8145e7997b70f9919ce44d68}{socket}})
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a3bdf3dae07c902f093d7a7e80fc11525}{handshake}} (self, server\+\_\+hostname, verify, trust\+\_\+bundle, min\+\_\+version, max\+\_\+version, client\+\_\+cert, client\+\_\+key, client\+\_\+key\+\_\+passphrase, alpn\+\_\+protocols)
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_ae48102ec672cac38d26b6875809ae811}{fileno}} (self)
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_ad9bffc271e053c80738656f2756cad6d}{recv}} (self, bufsiz)
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a3ee5242631efe6828859a8a871baae73}{recv\+\_\+into}} (self, buffer, nbytes=None)
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_afc1abb6c10c8e4aa4d24618174f6038e}{settimeout}} (self, timeout)
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a25aed6ebe566d50d761091e2adab51de}{gettimeout}} (self)
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a93fb67178e49e221096d45e57a5439e3}{send}} (self, data)
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_ac4263cd0f592b9a15fe72b1ffc4a5b5c}{sendall}} (self, data)
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a2a3dcde32d38915de728835355e132ef}{shutdown}} (self)
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a8ab79e14e24aa440dcd1d9e822eb1f1c}{close}} (self)
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a4fa53c35c81131fddc8a95a4dac2bd71}{getpeercert}} (self, binary\+\_\+form=False)
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a6a1c11cb894e93434d76ac120c45d837}{version}} (self)
\end{DoxyCompactItemize}
\doxysubsubsection*{Data Fields}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a84edc84c8145e7997b70f9919ce44d68}{socket}} = socket
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a261f9f58ccbeaa962c4e675e4212c9cc}{context}} = None
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a4b63e8816ddb07d2700068d35c7da792}{\+\_\+raise\+\_\+on\+\_\+error}} (self)
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_aa266ed961b8eb7e382f31c704ceee811}{\+\_\+set\+\_\+ciphers}} (self)
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_ac517445a35d29f465e567945b20adf5f}{\+\_\+set\+\_\+alpn\+\_\+protocols}} (self, protocols)
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a7a886419c7eb341e946f9e1435e03b25}{\+\_\+custom\+\_\+validate}} (self, verify, trust\+\_\+bundle)
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a2f615f64de1897bce11835ee6be92ed8}{\+\_\+evaluate\+\_\+trust}} (self, trust\+\_\+bundle)
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a3ea815bbc7d4b5bc3ce1975bc4ab8b9c}{\+\_\+decref\+\_\+socketios}} (self)
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_afa46d3d6d6e7e3f08fd085de450efaa2}{\+\_\+reuse}} (self)
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a9665c4f61173da836dc161fbb52dacc0}{\+\_\+drop}} (self)
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a38ad6fa45318fc9e8bb34b1c7df1ec08}{\+\_\+makefile\+\_\+refs}} = 0
\item 
bool \mbox{\hyperlink{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_af4a8be523945fd0c4187dddbbc732d87}{\+\_\+closed}} = False
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_afe77e67e0f2bdc0ccb6870486bd2e4c6}{\+\_\+exception}} = None
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a9e89644f6364561ac88160db65a4d40e}{\+\_\+keychain}} = None
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_ae0101803cdf4dee026b1a973dd93360c}{\+\_\+keychain\+\_\+dir}} = None
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a6086b1fb97145e9ee7c5ea5bb09f70c9}{\+\_\+client\+\_\+cert\+\_\+chain}} = None
\item 
\mbox{\hyperlink{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a57dd75984445a31b2e8c9438a17d6f29}{\+\_\+timeout}} = self.\+socket.\+gettimeout()
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}API-compatibility wrapper for Python's OpenSSL wrapped socket object.

Note: _makefile_refs, _drop(), and _reuse() are needed for the garbage
collector of PyPy.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{securetransport_8py_source_l00326}{326}} of file \mbox{\hyperlink{securetransport_8py_source}{securetransport.\+py}}.



\label{doc-constructors}
\Hypertarget{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_doc-constructors}
\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a6d66e5265e0d3955dcd49463b3393ef6}\index{WrappedSocket@{WrappedSocket}!\_\_init\_\_@{\_\_init\_\_}}
\index{\_\_init\_\_@{\_\_init\_\_}!WrappedSocket@{WrappedSocket}}
\doxysubsubsection{\texorpdfstring{\_\_init\_\_()}{\_\_init\_\_()}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a6d66e5265e0d3955dcd49463b3393ef6} 
\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{}]{socket}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{securetransport_8py_source_l00334}{334}} of file \mbox{\hyperlink{securetransport_8py_source}{securetransport.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00334\ \ \ \ \ \textcolor{keyword}{def\ }\_\_init\_\_(self,\ socket):}
\DoxyCodeLine{00335\ \ \ \ \ \ \ \ \ self.socket\ =\ socket}
\DoxyCodeLine{00336\ \ \ \ \ \ \ \ \ self.context\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00337\ \ \ \ \ \ \ \ \ self.\_makefile\_refs\ =\ 0}
\DoxyCodeLine{00338\ \ \ \ \ \ \ \ \ self.\_closed\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{00339\ \ \ \ \ \ \ \ \ self.\_exception\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00340\ \ \ \ \ \ \ \ \ self.\_keychain\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00341\ \ \ \ \ \ \ \ \ self.\_keychain\_dir\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00342\ \ \ \ \ \ \ \ \ self.\_client\_cert\_chain\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00343\ }
\DoxyCodeLine{00344\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ We\ save\ off\ the\ previously-\/configured\ timeout\ and\ then\ set\ it\ to}}
\DoxyCodeLine{00345\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ zero.\ This\ is\ done\ because\ we\ use\ select\ and\ friends\ to\ handle\ the}}
\DoxyCodeLine{00346\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ timeouts,\ but\ if\ we\ leave\ the\ timeout\ set\ on\ the\ lower\ socket\ then}}
\DoxyCodeLine{00347\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Python\ will\ "{}kindly"{}\ call\ select\ on\ that\ socket\ again\ for\ us.\ Avoid}}
\DoxyCodeLine{00348\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ that\ by\ forcing\ the\ timeout\ to\ zero.}}
\DoxyCodeLine{00349\ \ \ \ \ \ \ \ \ self.\_timeout\ =\ self.socket.gettimeout()}
\DoxyCodeLine{00350\ \ \ \ \ \ \ \ \ self.socket.settimeout(0)}
\DoxyCodeLine{00351\ }

\end{DoxyCode}


\label{doc-func-members}
\Hypertarget{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_doc-func-members}
\doxysubsection{Member Function Documentation}
\Hypertarget{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a7a886419c7eb341e946f9e1435e03b25}\index{WrappedSocket@{WrappedSocket}!\_custom\_validate@{\_custom\_validate}}
\index{\_custom\_validate@{\_custom\_validate}!WrappedSocket@{WrappedSocket}}
\doxysubsubsection{\texorpdfstring{\_custom\_validate()}{\_custom\_validate()}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a7a886419c7eb341e946f9e1435e03b25} 
\+\_\+custom\+\_\+validate (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{}]{verify}{, }\item[{}]{trust\+\_\+bundle}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Called when we have set custom validation. We do this in two cases:
first, when cert validation is entirely disabled; and second, when
using a custom trust DB.
Raises an SSLError if the connection is not trusted.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{securetransport_8py_source_l00399}{399}} of file \mbox{\hyperlink{securetransport_8py_source}{securetransport.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00399\ \ \ \ \ \textcolor{keyword}{def\ }\_custom\_validate(self,\ verify,\ trust\_bundle):}
\DoxyCodeLine{00400\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00401\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Called\ when\ we\ have\ set\ custom\ validation.\ We\ do\ this\ in\ two\ cases:}}
\DoxyCodeLine{00402\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ first,\ when\ cert\ validation\ is\ entirely\ disabled;\ and\ second,\ when}}
\DoxyCodeLine{00403\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ using\ a\ custom\ trust\ DB.}}
\DoxyCodeLine{00404\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Raises\ an\ SSLError\ if\ the\ connection\ is\ not\ trusted.}}
\DoxyCodeLine{00405\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00406\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ If\ we\ disabled\ cert\ validation,\ just\ say:\ cool.}}
\DoxyCodeLine{00407\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ verify:}
\DoxyCodeLine{00408\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{00409\ }
\DoxyCodeLine{00410\ \ \ \ \ \ \ \ \ successes\ =\ (}
\DoxyCodeLine{00411\ \ \ \ \ \ \ \ \ \ \ \ \ SecurityConst.kSecTrustResultUnspecified,}
\DoxyCodeLine{00412\ \ \ \ \ \ \ \ \ \ \ \ \ SecurityConst.kSecTrustResultProceed,}
\DoxyCodeLine{00413\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{00414\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{00415\ \ \ \ \ \ \ \ \ \ \ \ \ trust\_result\ =\ self.\_evaluate\_trust(trust\_bundle)}
\DoxyCodeLine{00416\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ trust\_result\ \textcolor{keywordflow}{in}\ successes:}
\DoxyCodeLine{00417\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{00418\ \ \ \ \ \ \ \ \ \ \ \ \ reason\ =\ \textcolor{stringliteral}{"{}error\ code:\ \%d"{}}\ \%\ (trust\_result,)}
\DoxyCodeLine{00419\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ Exception\ \textcolor{keyword}{as}\ e:}
\DoxyCodeLine{00420\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Do\ not\ trust\ on\ error}}
\DoxyCodeLine{00421\ \ \ \ \ \ \ \ \ \ \ \ \ reason\ =\ \textcolor{stringliteral}{"{}exception:\ \%r"{}}\ \%\ (e,)}
\DoxyCodeLine{00422\ }
\DoxyCodeLine{00423\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ SecureTransport\ does\ not\ send\ an\ alert\ nor\ shuts\ down\ the\ connection.}}
\DoxyCodeLine{00424\ \ \ \ \ \ \ \ \ rec\ =\ \_build\_tls\_unknown\_ca\_alert(self.version())}
\DoxyCodeLine{00425\ \ \ \ \ \ \ \ \ self.socket.sendall(rec)}
\DoxyCodeLine{00426\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ close\ the\ connection\ immediately}}
\DoxyCodeLine{00427\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ l\_onoff\ =\ 1,\ activate\ linger}}
\DoxyCodeLine{00428\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ l\_linger\ =\ 0,\ linger\ for\ 0\ seoncds}}
\DoxyCodeLine{00429\ \ \ \ \ \ \ \ \ opts\ =\ struct.pack(\textcolor{stringliteral}{"{}ii"{}},\ 1,\ 0)}
\DoxyCodeLine{00430\ \ \ \ \ \ \ \ \ self.socket.setsockopt(socket.SOL\_SOCKET,\ socket.SO\_LINGER,\ opts)}
\DoxyCodeLine{00431\ \ \ \ \ \ \ \ \ self.close()}
\DoxyCodeLine{00432\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ ssl.SSLError(\textcolor{stringliteral}{"{}certificate\ verify\ failed,\ \%s"{}}\ \%\ reason)}
\DoxyCodeLine{00433\ }

\end{DoxyCode}


References \mbox{\hyperlink{securetransport_8py_source_l00434}{\+\_\+evaluate\+\_\+trust()}}, \mbox{\hyperlink{lazy__wheel_8py_source_l00079}{Lazy\+Zip\+Over\+HTTP.\+close()}}, \mbox{\hyperlink{adapter_8py_source_l00135}{Cache\+Control\+Adapter.\+close()}}, \mbox{\hyperlink{__vendor_2cachecontrol_2cache_8py_source_l00023}{Base\+Cache.\+close()}}, \mbox{\hyperlink{redis__cache_8py_source_l00037}{Redis\+Cache.\+close()}}, \mbox{\hyperlink{universaldetector_8py_source_l00285}{Universal\+Detector.\+close()}}, \mbox{\hyperlink{pygments_2util_8py_source_l00329}{Unclosing\+Text\+IOWrapper.\+close()}}, \mbox{\hyperlink{adapters_8py_source_l00095}{Base\+Adapter.\+close()}}, \mbox{\hyperlink{adapters_8py_source_l00360}{HTTPAdapter.\+close()}}, \mbox{\hyperlink{__vendor_2requests_2models_8py_source_l01023}{Response.\+close()}}, \mbox{\hyperlink{sessions_8py_source_l00796}{Session.\+close()}}, \mbox{\hyperlink{__null__file_8py_source_l00006}{Null\+File.\+close()}}, \mbox{\hyperlink{progress_8py_source_l00256}{\+\_\+\+Reader.\+close()}}, \mbox{\hyperlink{connectionpool_8py_source_l00101}{Connection\+Pool.\+close()}}, \mbox{\hyperlink{connectionpool_8py_source_l00500}{HTTPConnection\+Pool.\+close()}}, \mbox{\hyperlink{pyopenssl_8py_source_l00374}{close()}}, \mbox{\hyperlink{securetransport_8py_source_l00649}{sendall()}}, \mbox{\hyperlink{pyopenssl_8py_source_l00285}{socket}}, \mbox{\hyperlink{cmdoptions_8py_source_l00201}{Pip\+Option.\+version}}, \mbox{\hyperlink{metadata_2base_8py_source_l00283}{Base\+Distribution.\+version()}}, \mbox{\hyperlink{__dists_8py_source_l00177}{Distribution.\+version()}}, \mbox{\hyperlink{candidate_8py_source_l00014}{Installation\+Candidate.\+version}}, \mbox{\hyperlink{__internal_2models_2wheel_8py_source_l00033}{Wheel.\+version}}, \mbox{\hyperlink{resolution_2resolvelib_2base_8py_source_l00119}{Candidate.\+version()}}, \mbox{\hyperlink{candidates_8py_source_l00191}{\+\_\+\+Install\+Requirement\+Backed\+Candidate.\+version()}}, \mbox{\hyperlink{candidates_8py_source_l00199}{\+\_\+\+Install\+Requirement\+Backed\+Candidate.\+version}}, \mbox{\hyperlink{candidates_8py_source_l00363}{Already\+Installed\+Candidate.\+version}}, \mbox{\hyperlink{candidates_8py_source_l00379}{Already\+Installed\+Candidate.\+version()}}, \mbox{\hyperlink{candidates_8py_source_l00463}{Extras\+Candidate.\+version()}}, \mbox{\hyperlink{candidates_8py_source_l00500}{Extras\+Candidate.\+version}}, \mbox{\hyperlink{candidates_8py_source_l00545}{Requires\+Python\+Candidate.\+version()}}, \mbox{\hyperlink{database_8py_source_l00350}{Distribution.\+version}}, \mbox{\hyperlink{database_8py_source_l00986}{Egg\+Info\+Distribution.\+version}}, \mbox{\hyperlink{database_8py_source_l00582}{Installed\+Distribution.\+version}}, \mbox{\hyperlink{__vendor_2distlib_2metadata_8py_source_l00610}{Legacy\+Metadata.\+version}}, \mbox{\hyperlink{__vendor_2distlib_2metadata_8py_source_l00825}{Metadata.\+version}}, \mbox{\hyperlink{distro_8py_source_l00880}{Linux\+Distribution.\+version()}}, \mbox{\hyperlink{specifiers_8py_source_l00154}{\+\_\+\+Individual\+Specifier.\+version()}}, \mbox{\hyperlink{specifiers_8py_source_l00189}{\+\_\+\+Individual\+Specifier.\+version}}, \mbox{\hyperlink{platformdirs_2api_8py_source_l00048}{Platform\+Dirs\+ABC.\+version}}, \mbox{\hyperlink{windows_8py_source_l00049}{Windows.\+version}}, \mbox{\hyperlink{pyopenssl_8py_source_l00398}{version()}}, and \mbox{\hyperlink{response_8py_source_l00221}{HTTPResponse.\+version}}.



Referenced by \mbox{\hyperlink{securetransport_8py_source_l00485}{handshake()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{da/dfd/classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a7a886419c7eb341e946f9e1435e03b25_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=272pt]{da/dfd/classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a7a886419c7eb341e946f9e1435e03b25_icgraph}
\end{center}
\end{figure}
\Hypertarget{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a3ea815bbc7d4b5bc3ce1975bc4ab8b9c}\index{WrappedSocket@{WrappedSocket}!\_decref\_socketios@{\_decref\_socketios}}
\index{\_decref\_socketios@{\_decref\_socketios}!WrappedSocket@{WrappedSocket}}
\doxysubsubsection{\texorpdfstring{\_decref\_socketios()}{\_decref\_socketios()}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a3ea815bbc7d4b5bc3ce1975bc4ab8b9c} 
\+\_\+decref\+\_\+socketios (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{securetransport_8py_source_l00571}{571}} of file \mbox{\hyperlink{securetransport_8py_source}{securetransport.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00571\ \ \ \ \ \textcolor{keyword}{def\ }\_decref\_socketios(self):}
\DoxyCodeLine{00572\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\_makefile\_refs\ >\ 0:}
\DoxyCodeLine{00573\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_makefile\_refs\ -\/=\ 1}
\DoxyCodeLine{00574\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\_closed:}
\DoxyCodeLine{00575\ \ \ \ \ \ \ \ \ \ \ \ \ self.close()}
\DoxyCodeLine{00576\ }

\end{DoxyCode}


References \mbox{\hyperlink{progress_8py_source_l00187}{\+\_\+\+Reader.\+\_\+closed}}, \mbox{\hyperlink{pyopenssl_8py_source_l00288}{\+\_\+closed}}, \mbox{\hyperlink{pyopenssl_8py_source_l00287}{\+\_\+makefile\+\_\+refs}}, \mbox{\hyperlink{lazy__wheel_8py_source_l00079}{Lazy\+Zip\+Over\+HTTP.\+close()}}, \mbox{\hyperlink{adapter_8py_source_l00135}{Cache\+Control\+Adapter.\+close()}}, \mbox{\hyperlink{__vendor_2cachecontrol_2cache_8py_source_l00023}{Base\+Cache.\+close()}}, \mbox{\hyperlink{redis__cache_8py_source_l00037}{Redis\+Cache.\+close()}}, \mbox{\hyperlink{universaldetector_8py_source_l00285}{Universal\+Detector.\+close()}}, \mbox{\hyperlink{pygments_2util_8py_source_l00329}{Unclosing\+Text\+IOWrapper.\+close()}}, \mbox{\hyperlink{adapters_8py_source_l00095}{Base\+Adapter.\+close()}}, \mbox{\hyperlink{adapters_8py_source_l00360}{HTTPAdapter.\+close()}}, \mbox{\hyperlink{__vendor_2requests_2models_8py_source_l01023}{Response.\+close()}}, \mbox{\hyperlink{sessions_8py_source_l00796}{Session.\+close()}}, \mbox{\hyperlink{__null__file_8py_source_l00006}{Null\+File.\+close()}}, \mbox{\hyperlink{progress_8py_source_l00256}{\+\_\+\+Reader.\+close()}}, \mbox{\hyperlink{connectionpool_8py_source_l00101}{Connection\+Pool.\+close()}}, \mbox{\hyperlink{connectionpool_8py_source_l00500}{HTTPConnection\+Pool.\+close()}}, and \mbox{\hyperlink{pyopenssl_8py_source_l00374}{close()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{da/dfd/classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a3ea815bbc7d4b5bc3ce1975bc4ab8b9c_cgraph}
\end{center}
\end{figure}
\Hypertarget{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a9665c4f61173da836dc161fbb52dacc0}\index{WrappedSocket@{WrappedSocket}!\_drop@{\_drop}}
\index{\_drop@{\_drop}!WrappedSocket@{WrappedSocket}}
\doxysubsubsection{\texorpdfstring{\_drop()}{\_drop()}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a9665c4f61173da836dc161fbb52dacc0} 
\+\_\+drop (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{securetransport_8py_source_l00760}{760}} of file \mbox{\hyperlink{securetransport_8py_source}{securetransport.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00760\ \ \ \ \ \textcolor{keyword}{def\ }\_drop(self):}
\DoxyCodeLine{00761\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\_makefile\_refs\ <\ 1:}
\DoxyCodeLine{00762\ \ \ \ \ \ \ \ \ \ \ \ \ self.close()}
\DoxyCodeLine{00763\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00764\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_makefile\_refs\ -\/=\ 1}
\DoxyCodeLine{00765\ }
\DoxyCodeLine{00766\ }

\end{DoxyCode}


References \mbox{\hyperlink{pyopenssl_8py_source_l00287}{\+\_\+makefile\+\_\+refs}}, \mbox{\hyperlink{lazy__wheel_8py_source_l00079}{Lazy\+Zip\+Over\+HTTP.\+close()}}, \mbox{\hyperlink{adapter_8py_source_l00135}{Cache\+Control\+Adapter.\+close()}}, \mbox{\hyperlink{__vendor_2cachecontrol_2cache_8py_source_l00023}{Base\+Cache.\+close()}}, \mbox{\hyperlink{redis__cache_8py_source_l00037}{Redis\+Cache.\+close()}}, \mbox{\hyperlink{universaldetector_8py_source_l00285}{Universal\+Detector.\+close()}}, \mbox{\hyperlink{pygments_2util_8py_source_l00329}{Unclosing\+Text\+IOWrapper.\+close()}}, \mbox{\hyperlink{adapters_8py_source_l00095}{Base\+Adapter.\+close()}}, \mbox{\hyperlink{adapters_8py_source_l00360}{HTTPAdapter.\+close()}}, \mbox{\hyperlink{__vendor_2requests_2models_8py_source_l01023}{Response.\+close()}}, \mbox{\hyperlink{sessions_8py_source_l00796}{Session.\+close()}}, \mbox{\hyperlink{__null__file_8py_source_l00006}{Null\+File.\+close()}}, \mbox{\hyperlink{progress_8py_source_l00256}{\+\_\+\+Reader.\+close()}}, \mbox{\hyperlink{connectionpool_8py_source_l00101}{Connection\+Pool.\+close()}}, \mbox{\hyperlink{connectionpool_8py_source_l00500}{HTTPConnection\+Pool.\+close()}}, and \mbox{\hyperlink{pyopenssl_8py_source_l00374}{close()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{da/dfd/classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a9665c4f61173da836dc161fbb52dacc0_cgraph}
\end{center}
\end{figure}
\Hypertarget{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a2f615f64de1897bce11835ee6be92ed8}\index{WrappedSocket@{WrappedSocket}!\_evaluate\_trust@{\_evaluate\_trust}}
\index{\_evaluate\_trust@{\_evaluate\_trust}!WrappedSocket@{WrappedSocket}}
\doxysubsubsection{\texorpdfstring{\_evaluate\_trust()}{\_evaluate\_trust()}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a2f615f64de1897bce11835ee6be92ed8} 
\+\_\+evaluate\+\_\+trust (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{}]{trust\+\_\+bundle}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{securetransport_8py_source_l00434}{434}} of file \mbox{\hyperlink{securetransport_8py_source}{securetransport.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00434\ \ \ \ \ \textcolor{keyword}{def\ }\_evaluate\_trust(self,\ trust\_bundle):}
\DoxyCodeLine{00435\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ We\ want\ data\ in\ memory,\ so\ load\ it\ up.}}
\DoxyCodeLine{00436\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ os.path.isfile(trust\_bundle):}
\DoxyCodeLine{00437\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{with}\ open(trust\_bundle,\ \textcolor{stringliteral}{"{}rb"{}})\ \textcolor{keyword}{as}\ f:}
\DoxyCodeLine{00438\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ trust\_bundle\ =\ f.read()}
\DoxyCodeLine{00439\ }
\DoxyCodeLine{00440\ \ \ \ \ \ \ \ \ cert\_array\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00441\ \ \ \ \ \ \ \ \ trust\ =\ Security.SecTrustRef()}
\DoxyCodeLine{00442\ }
\DoxyCodeLine{00443\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{00444\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Get\ a\ CFArray\ that\ contains\ the\ certs\ we\ want.}}
\DoxyCodeLine{00445\ \ \ \ \ \ \ \ \ \ \ \ \ cert\_array\ =\ \_cert\_array\_from\_pem(trust\_bundle)}
\DoxyCodeLine{00446\ }
\DoxyCodeLine{00447\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Ok,\ now\ the\ hard\ part.\ We\ want\ to\ get\ the\ SecTrustRef\ that\ ST\ has}}
\DoxyCodeLine{00448\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ created\ for\ this\ connection,\ shove\ our\ CAs\ into\ it,\ tell\ ST\ to}}
\DoxyCodeLine{00449\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ ignore\ everything\ else\ it\ knows,\ and\ then\ ask\ if\ it\ can\ build\ a}}
\DoxyCodeLine{00450\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ chain.\ This\ is\ a\ buuuunch\ of\ code.}}
\DoxyCodeLine{00451\ \ \ \ \ \ \ \ \ \ \ \ \ result\ =\ Security.SSLCopyPeerTrust(self.context,\ ctypes.byref(trust))}
\DoxyCodeLine{00452\ \ \ \ \ \ \ \ \ \ \ \ \ \_assert\_no\_error(result)}
\DoxyCodeLine{00453\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ trust:}
\DoxyCodeLine{00454\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ ssl.SSLError(\textcolor{stringliteral}{"{}Failed\ to\ copy\ trust\ reference"{}})}
\DoxyCodeLine{00455\ }
\DoxyCodeLine{00456\ \ \ \ \ \ \ \ \ \ \ \ \ result\ =\ Security.SecTrustSetAnchorCertificates(trust,\ cert\_array)}
\DoxyCodeLine{00457\ \ \ \ \ \ \ \ \ \ \ \ \ \_assert\_no\_error(result)}
\DoxyCodeLine{00458\ }
\DoxyCodeLine{00459\ \ \ \ \ \ \ \ \ \ \ \ \ result\ =\ Security.SecTrustSetAnchorCertificatesOnly(trust,\ \textcolor{keyword}{True})}
\DoxyCodeLine{00460\ \ \ \ \ \ \ \ \ \ \ \ \ \_assert\_no\_error(result)}
\DoxyCodeLine{00461\ }
\DoxyCodeLine{00462\ \ \ \ \ \ \ \ \ \ \ \ \ trust\_result\ =\ Security.SecTrustResultType()}
\DoxyCodeLine{00463\ \ \ \ \ \ \ \ \ \ \ \ \ result\ =\ Security.SecTrustEvaluate(trust,\ ctypes.byref(trust\_result))}
\DoxyCodeLine{00464\ \ \ \ \ \ \ \ \ \ \ \ \ \_assert\_no\_error(result)}
\DoxyCodeLine{00465\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{finally}:}
\DoxyCodeLine{00466\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ trust:}
\DoxyCodeLine{00467\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ CoreFoundation.CFRelease(trust)}
\DoxyCodeLine{00468\ }
\DoxyCodeLine{00469\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ cert\_array\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{00470\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ CoreFoundation.CFRelease(cert\_array)}
\DoxyCodeLine{00471\ }
\DoxyCodeLine{00472\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ trust\_result.value}
\DoxyCodeLine{00473\ }

\end{DoxyCode}


References \mbox{\hyperlink{__internal_2exceptions_8py_source_l00095}{Diagnostic\+Pip\+Error.\+context}}, \mbox{\hyperlink{database_8py_source_l00354}{Distribution.\+context}}, and \mbox{\hyperlink{securetransport_8py_source_l00336}{context}}.



Referenced by \mbox{\hyperlink{securetransport_8py_source_l00399}{\+\_\+custom\+\_\+validate()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{da/dfd/classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a2f615f64de1897bce11835ee6be92ed8_icgraph}
\end{center}
\end{figure}
\Hypertarget{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a4b63e8816ddb07d2700068d35c7da792}\index{WrappedSocket@{WrappedSocket}!\_raise\_on\_error@{\_raise\_on\_error}}
\index{\_raise\_on\_error@{\_raise\_on\_error}!WrappedSocket@{WrappedSocket}}
\doxysubsubsection{\texorpdfstring{\_raise\_on\_error()}{\_raise\_on\_error()}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a4b63e8816ddb07d2700068d35c7da792} 
\+\_\+raise\+\_\+on\+\_\+error (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}A context manager that can be used to wrap calls that do I/O from
SecureTransport. If any of the I/O callbacks hit an exception, this
context manager will correctly propagate the exception after the fact.
This avoids silently swallowing those exceptions.

It also correctly forces the socket closed.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{securetransport_8py_source_l00353}{353}} of file \mbox{\hyperlink{securetransport_8py_source}{securetransport.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00353\ \ \ \ \ \textcolor{keyword}{def\ }\_raise\_on\_error(self):}
\DoxyCodeLine{00354\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00355\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ A\ context\ manager\ that\ can\ be\ used\ to\ wrap\ calls\ that\ do\ I/O\ from}}
\DoxyCodeLine{00356\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ SecureTransport.\ If\ any\ of\ the\ I/O\ callbacks\ hit\ an\ exception,\ this}}
\DoxyCodeLine{00357\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ context\ manager\ will\ correctly\ propagate\ the\ exception\ after\ the\ fact.}}
\DoxyCodeLine{00358\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ This\ avoids\ silently\ swallowing\ those\ exceptions.}}
\DoxyCodeLine{00359\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00360\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ It\ also\ correctly\ forces\ the\ socket\ closed.}}
\DoxyCodeLine{00361\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00362\ \ \ \ \ \ \ \ \ self.\_exception\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00363\ }
\DoxyCodeLine{00364\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ We\ explicitly\ don't\ catch\ around\ this\ yield\ because\ in\ the\ unlikely}}
\DoxyCodeLine{00365\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ event\ that\ an\ exception\ was\ hit\ in\ the\ block\ we\ don't\ want\ to\ swallow}}
\DoxyCodeLine{00366\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ it.}}
\DoxyCodeLine{00367\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{yield}}
\DoxyCodeLine{00368\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\_exception\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{00369\ \ \ \ \ \ \ \ \ \ \ \ \ exception,\ self.\_exception\ =\ self.\_exception,\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00370\ \ \ \ \ \ \ \ \ \ \ \ \ self.close()}
\DoxyCodeLine{00371\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ exception}
\DoxyCodeLine{00372\ }

\end{DoxyCode}


References \mbox{\hyperlink{securetransport_8py_source_l00339}{\+\_\+exception}}, \mbox{\hyperlink{lazy__wheel_8py_source_l00079}{Lazy\+Zip\+Over\+HTTP.\+close()}}, \mbox{\hyperlink{adapter_8py_source_l00135}{Cache\+Control\+Adapter.\+close()}}, \mbox{\hyperlink{__vendor_2cachecontrol_2cache_8py_source_l00023}{Base\+Cache.\+close()}}, \mbox{\hyperlink{redis__cache_8py_source_l00037}{Redis\+Cache.\+close()}}, \mbox{\hyperlink{universaldetector_8py_source_l00285}{Universal\+Detector.\+close()}}, \mbox{\hyperlink{pygments_2util_8py_source_l00329}{Unclosing\+Text\+IOWrapper.\+close()}}, \mbox{\hyperlink{adapters_8py_source_l00095}{Base\+Adapter.\+close()}}, \mbox{\hyperlink{adapters_8py_source_l00360}{HTTPAdapter.\+close()}}, \mbox{\hyperlink{__vendor_2requests_2models_8py_source_l01023}{Response.\+close()}}, \mbox{\hyperlink{sessions_8py_source_l00796}{Session.\+close()}}, \mbox{\hyperlink{__null__file_8py_source_l00006}{Null\+File.\+close()}}, \mbox{\hyperlink{progress_8py_source_l00256}{\+\_\+\+Reader.\+close()}}, \mbox{\hyperlink{connectionpool_8py_source_l00101}{Connection\+Pool.\+close()}}, \mbox{\hyperlink{connectionpool_8py_source_l00500}{HTTPConnection\+Pool.\+close()}}, and \mbox{\hyperlink{pyopenssl_8py_source_l00374}{close()}}.



Referenced by \mbox{\hyperlink{securetransport_8py_source_l00485}{handshake()}}, \mbox{\hyperlink{securetransport_8py_source_l00583}{recv\+\_\+into()}}, \mbox{\hyperlink{securetransport_8py_source_l00632}{send()}}, and \mbox{\hyperlink{securetransport_8py_source_l00655}{shutdown()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{da/dfd/classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a4b63e8816ddb07d2700068d35c7da792_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{da/dfd/classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a4b63e8816ddb07d2700068d35c7da792_icgraph}
\end{center}
\end{figure}
\Hypertarget{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_afa46d3d6d6e7e3f08fd085de450efaa2}\index{WrappedSocket@{WrappedSocket}!\_reuse@{\_reuse}}
\index{\_reuse@{\_reuse}!WrappedSocket@{WrappedSocket}}
\doxysubsubsection{\texorpdfstring{\_reuse()}{\_reuse()}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_afa46d3d6d6e7e3f08fd085de450efaa2} 
\+\_\+reuse (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{securetransport_8py_source_l00757}{757}} of file \mbox{\hyperlink{securetransport_8py_source}{securetransport.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00757\ \ \ \ \ \textcolor{keyword}{def\ }\_reuse(self):}
\DoxyCodeLine{00758\ \ \ \ \ \ \ \ \ self.\_makefile\_refs\ +=\ 1}
\DoxyCodeLine{00759\ }

\end{DoxyCode}


References \mbox{\hyperlink{pyopenssl_8py_source_l00287}{\+\_\+makefile\+\_\+refs}}.

\Hypertarget{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_ac517445a35d29f465e567945b20adf5f}\index{WrappedSocket@{WrappedSocket}!\_set\_alpn\_protocols@{\_set\_alpn\_protocols}}
\index{\_set\_alpn\_protocols@{\_set\_alpn\_protocols}!WrappedSocket@{WrappedSocket}}
\doxysubsubsection{\texorpdfstring{\_set\_alpn\_protocols()}{\_set\_alpn\_protocols()}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_ac517445a35d29f465e567945b20adf5f} 
\+\_\+set\+\_\+alpn\+\_\+protocols (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{}]{protocols}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Sets up the ALPN protocols on the context.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{securetransport_8py_source_l00386}{386}} of file \mbox{\hyperlink{securetransport_8py_source}{securetransport.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00386\ \ \ \ \ \textcolor{keyword}{def\ }\_set\_alpn\_protocols(self,\ protocols):}
\DoxyCodeLine{00387\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00388\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Sets\ up\ the\ ALPN\ protocols\ on\ the\ context.}}
\DoxyCodeLine{00389\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00390\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ protocols:}
\DoxyCodeLine{00391\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{00392\ \ \ \ \ \ \ \ \ protocols\_arr\ =\ \_create\_cfstring\_array(protocols)}
\DoxyCodeLine{00393\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{00394\ \ \ \ \ \ \ \ \ \ \ \ \ result\ =\ Security.SSLSetALPNProtocols(self.context,\ protocols\_arr)}
\DoxyCodeLine{00395\ \ \ \ \ \ \ \ \ \ \ \ \ \_assert\_no\_error(result)}
\DoxyCodeLine{00396\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{finally}:}
\DoxyCodeLine{00397\ \ \ \ \ \ \ \ \ \ \ \ \ CoreFoundation.CFRelease(protocols\_arr)}
\DoxyCodeLine{00398\ }

\end{DoxyCode}


References \mbox{\hyperlink{__internal_2exceptions_8py_source_l00095}{Diagnostic\+Pip\+Error.\+context}}, \mbox{\hyperlink{database_8py_source_l00354}{Distribution.\+context}}, and \mbox{\hyperlink{securetransport_8py_source_l00336}{context}}.



Referenced by \mbox{\hyperlink{securetransport_8py_source_l00485}{handshake()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=282pt]{da/dfd/classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_ac517445a35d29f465e567945b20adf5f_icgraph}
\end{center}
\end{figure}
\Hypertarget{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_aa266ed961b8eb7e382f31c704ceee811}\index{WrappedSocket@{WrappedSocket}!\_set\_ciphers@{\_set\_ciphers}}
\index{\_set\_ciphers@{\_set\_ciphers}!WrappedSocket@{WrappedSocket}}
\doxysubsubsection{\texorpdfstring{\_set\_ciphers()}{\_set\_ciphers()}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_aa266ed961b8eb7e382f31c704ceee811} 
\+\_\+set\+\_\+ciphers (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Sets up the allowed ciphers. By default this matches the set in
util.ssl_.DEFAULT_CIPHERS, at least as supported by macOS. This is done
custom and doesn't allow changing at this time, mostly because parsing
OpenSSL cipher strings is going to be a freaking nightmare.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{securetransport_8py_source_l00373}{373}} of file \mbox{\hyperlink{securetransport_8py_source}{securetransport.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00373\ \ \ \ \ \textcolor{keyword}{def\ }\_set\_ciphers(self):}
\DoxyCodeLine{00374\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00375\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Sets\ up\ the\ allowed\ ciphers.\ By\ default\ this\ matches\ the\ set\ in}}
\DoxyCodeLine{00376\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ util.ssl\_.DEFAULT\_CIPHERS,\ at\ least\ as\ supported\ by\ macOS.\ This\ is\ done}}
\DoxyCodeLine{00377\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ custom\ and\ doesn't\ allow\ changing\ at\ this\ time,\ mostly\ because\ parsing}}
\DoxyCodeLine{00378\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ OpenSSL\ cipher\ strings\ is\ going\ to\ be\ a\ freaking\ nightmare.}}
\DoxyCodeLine{00379\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00380\ \ \ \ \ \ \ \ \ ciphers\ =\ (Security.SSLCipherSuite\ *\ len(CIPHER\_SUITES))(*CIPHER\_SUITES)}
\DoxyCodeLine{00381\ \ \ \ \ \ \ \ \ result\ =\ Security.SSLSetEnabledCiphers(}
\DoxyCodeLine{00382\ \ \ \ \ \ \ \ \ \ \ \ \ self.context,\ ciphers,\ len(CIPHER\_SUITES)}
\DoxyCodeLine{00383\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{00384\ \ \ \ \ \ \ \ \ \_assert\_no\_error(result)}
\DoxyCodeLine{00385\ }

\end{DoxyCode}


References \mbox{\hyperlink{__internal_2exceptions_8py_source_l00095}{Diagnostic\+Pip\+Error.\+context}}, \mbox{\hyperlink{database_8py_source_l00354}{Distribution.\+context}}, and \mbox{\hyperlink{securetransport_8py_source_l00336}{context}}.



Referenced by \mbox{\hyperlink{securetransport_8py_source_l00485}{handshake()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=251pt]{da/dfd/classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_aa266ed961b8eb7e382f31c704ceee811_icgraph}
\end{center}
\end{figure}
\Hypertarget{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a8ab79e14e24aa440dcd1d9e822eb1f1c}\index{WrappedSocket@{WrappedSocket}!close@{close}}
\index{close@{close}!WrappedSocket@{WrappedSocket}}
\doxysubsubsection{\texorpdfstring{close()}{close()}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a8ab79e14e24aa440dcd1d9e822eb1f1c} 
close (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{securetransport_8py_source_l00659}{659}} of file \mbox{\hyperlink{securetransport_8py_source}{securetransport.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00659\ \ \ \ \ \textcolor{keyword}{def\ }close(self):}
\DoxyCodeLine{00660\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ TODO:\ should\ I\ do\ clean\ shutdown\ here?\ Do\ I\ have\ to?}}
\DoxyCodeLine{00661\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\_makefile\_refs\ <\ 1:}
\DoxyCodeLine{00662\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_closed\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{00663\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.context:}
\DoxyCodeLine{00664\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ CoreFoundation.CFRelease(self.context)}
\DoxyCodeLine{00665\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.context\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00666\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\_client\_cert\_chain:}
\DoxyCodeLine{00667\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ CoreFoundation.CFRelease(self.\_client\_cert\_chain)}
\DoxyCodeLine{00668\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_client\_cert\_chain\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00669\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\_keychain:}
\DoxyCodeLine{00670\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Security.SecKeychainDelete(self.\_keychain)}
\DoxyCodeLine{00671\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ CoreFoundation.CFRelease(self.\_keychain)}
\DoxyCodeLine{00672\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ shutil.rmtree(self.\_keychain\_dir)}
\DoxyCodeLine{00673\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_keychain\ =\ self.\_keychain\_dir\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00674\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.socket.close()}
\DoxyCodeLine{00675\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00676\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_makefile\_refs\ -\/=\ 1}
\DoxyCodeLine{00677\ }

\end{DoxyCode}


References \mbox{\hyperlink{securetransport_8py_source_l00342}{\+\_\+client\+\_\+cert\+\_\+chain}}, \mbox{\hyperlink{progress_8py_source_l00187}{\+\_\+\+Reader.\+\_\+closed}}, \mbox{\hyperlink{pyopenssl_8py_source_l00288}{\+\_\+closed}}, \mbox{\hyperlink{securetransport_8py_source_l00340}{\+\_\+keychain}}, \mbox{\hyperlink{securetransport_8py_source_l00341}{\+\_\+keychain\+\_\+dir}}, \mbox{\hyperlink{pyopenssl_8py_source_l00287}{\+\_\+makefile\+\_\+refs}}, \mbox{\hyperlink{securetransport_8py_source_l00659}{close()}}, \mbox{\hyperlink{__internal_2exceptions_8py_source_l00095}{Diagnostic\+Pip\+Error.\+context}}, \mbox{\hyperlink{database_8py_source_l00354}{Distribution.\+context}}, \mbox{\hyperlink{securetransport_8py_source_l00336}{context}}, and \mbox{\hyperlink{pyopenssl_8py_source_l00285}{socket}}.



Referenced by \mbox{\hyperlink{__vendor_2distlib_2compat_8py_source_l00286}{Zip\+Ext\+File.\+\_\+\+\_\+exit\+\_\+\+\_\+()}}, \mbox{\hyperlink{__vendor_2distlib_2compat_8py_source_l00294}{Zip\+File.\+\_\+\+\_\+exit\+\_\+\+\_\+()}}, \mbox{\hyperlink{ssltransport_8py_source_l00066}{SSLTransport.\+\_\+\+\_\+exit\+\_\+\+\_\+()}}, \mbox{\hyperlink{securetransport_8py_source_l00399}{\+\_\+custom\+\_\+validate()}}, \mbox{\hyperlink{securetransport_8py_source_l00571}{\+\_\+decref\+\_\+socketios()}}, \mbox{\hyperlink{securetransport_8py_source_l00760}{\+\_\+drop()}}, \mbox{\hyperlink{securetransport_8py_source_l00353}{\+\_\+raise\+\_\+on\+\_\+error()}}, \mbox{\hyperlink{response_8py_source_l00747}{HTTPResponse.\+\_\+update\+\_\+chunk\+\_\+length()}}, \mbox{\hyperlink{securetransport_8py_source_l00659}{close()}}, and \mbox{\hyperlink{securetransport_8py_source_l00583}{recv\+\_\+into()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=119pt]{da/dfd/classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a8ab79e14e24aa440dcd1d9e822eb1f1c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{da/dfd/classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a8ab79e14e24aa440dcd1d9e822eb1f1c_icgraph}
\end{center}
\end{figure}
\Hypertarget{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_ae48102ec672cac38d26b6875809ae811}\index{WrappedSocket@{WrappedSocket}!fileno@{fileno}}
\index{fileno@{fileno}!WrappedSocket@{WrappedSocket}}
\doxysubsubsection{\texorpdfstring{fileno()}{fileno()}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_ae48102ec672cac38d26b6875809ae811} 
fileno (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{securetransport_8py_source_l00567}{567}} of file \mbox{\hyperlink{securetransport_8py_source}{securetransport.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00567\ \ \ \ \ \textcolor{keyword}{def\ }fileno(self):}
\DoxyCodeLine{00568\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.socket.fileno()}
\DoxyCodeLine{00569\ }

\end{DoxyCode}


References \mbox{\hyperlink{securetransport_8py_source_l00567}{fileno()}}, and \mbox{\hyperlink{pyopenssl_8py_source_l00285}{socket}}.



Referenced by \mbox{\hyperlink{securetransport_8py_source_l00567}{fileno()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=119pt]{da/dfd/classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_ae48102ec672cac38d26b6875809ae811_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=119pt]{da/dfd/classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_ae48102ec672cac38d26b6875809ae811_icgraph}
\end{center}
\end{figure}
\Hypertarget{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a4fa53c35c81131fddc8a95a4dac2bd71}\index{WrappedSocket@{WrappedSocket}!getpeercert@{getpeercert}}
\index{getpeercert@{getpeercert}!WrappedSocket@{WrappedSocket}}
\doxysubsubsection{\texorpdfstring{getpeercert()}{getpeercert()}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a4fa53c35c81131fddc8a95a4dac2bd71} 
getpeercert (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{}]{binary\+\_\+form}{ = {\ttfamily False}}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{securetransport_8py_source_l00678}{678}} of file \mbox{\hyperlink{securetransport_8py_source}{securetransport.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00678\ \ \ \ \ \textcolor{keyword}{def\ }getpeercert(self,\ binary\_form=False):}
\DoxyCodeLine{00679\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Urgh,\ annoying.}}
\DoxyCodeLine{00680\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#}}
\DoxyCodeLine{00681\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Here's\ how\ we\ do\ this:}}
\DoxyCodeLine{00682\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#}}
\DoxyCodeLine{00683\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ 1.\ Call\ SSLCopyPeerTrust\ to\ get\ hold\ of\ the\ trust\ object\ for\ this}}
\DoxyCodeLine{00684\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ \ \ \ connection.}}
\DoxyCodeLine{00685\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ 2.\ Call\ SecTrustGetCertificateAtIndex\ for\ index\ 0\ to\ get\ the\ leaf.}}
\DoxyCodeLine{00686\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ 3.\ To\ get\ the\ CN,\ call\ SecCertificateCopyCommonName\ and\ process\ that}}
\DoxyCodeLine{00687\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ \ \ \ string\ so\ that\ it's\ of\ the\ appropriate\ type.}}
\DoxyCodeLine{00688\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ 4.\ To\ get\ the\ SAN,\ we\ need\ to\ do\ something\ a\ bit\ more\ complex:}}
\DoxyCodeLine{00689\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ \ \ \ a.\ Call\ SecCertificateCopyValues\ to\ get\ the\ data,\ requesting}}
\DoxyCodeLine{00690\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ \ \ \ \ \ \ kSecOIDSubjectAltName.}}
\DoxyCodeLine{00691\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ \ \ \ b.\ Mess\ about\ with\ this\ dictionary\ to\ try\ to\ get\ the\ SANs\ out.}}
\DoxyCodeLine{00692\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#}}
\DoxyCodeLine{00693\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ This\ is\ gross.\ Really\ gross.\ It's\ going\ to\ be\ a\ few\ hundred\ LoC\ extra}}
\DoxyCodeLine{00694\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ just\ to\ repeat\ something\ that\ SecureTransport\ can\ *already\ do*.\ So\ my}}
\DoxyCodeLine{00695\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ operating\ assumption\ at\ this\ time\ is\ that\ what\ we\ want\ to\ do\ is}}
\DoxyCodeLine{00696\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ instead\ to\ just\ flag\ to\ urllib3\ that\ it\ shouldn't\ do\ its\ own\ hostname}}
\DoxyCodeLine{00697\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ validation\ when\ using\ SecureTransport.}}
\DoxyCodeLine{00698\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ binary\_form:}
\DoxyCodeLine{00699\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ ValueError(\textcolor{stringliteral}{"{}SecureTransport\ only\ supports\ dumping\ binary\ certs"{}})}
\DoxyCodeLine{00700\ \ \ \ \ \ \ \ \ trust\ =\ Security.SecTrustRef()}
\DoxyCodeLine{00701\ \ \ \ \ \ \ \ \ certdata\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00702\ \ \ \ \ \ \ \ \ der\_bytes\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00703\ }
\DoxyCodeLine{00704\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{00705\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Grab\ the\ trust\ store.}}
\DoxyCodeLine{00706\ \ \ \ \ \ \ \ \ \ \ \ \ result\ =\ Security.SSLCopyPeerTrust(self.context,\ ctypes.byref(trust))}
\DoxyCodeLine{00707\ \ \ \ \ \ \ \ \ \ \ \ \ \_assert\_no\_error(result)}
\DoxyCodeLine{00708\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ trust:}
\DoxyCodeLine{00709\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Probably\ we\ haven't\ done\ the\ handshake\ yet.\ No\ biggie.}}
\DoxyCodeLine{00710\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00711\ }
\DoxyCodeLine{00712\ \ \ \ \ \ \ \ \ \ \ \ \ cert\_count\ =\ Security.SecTrustGetCertificateCount(trust)}
\DoxyCodeLine{00713\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ cert\_count:}
\DoxyCodeLine{00714\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Also\ a\ case\ that\ might\ happen\ if\ we\ haven't\ handshaked.}}
\DoxyCodeLine{00715\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Handshook?\ Handshaken?}}
\DoxyCodeLine{00716\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00717\ }
\DoxyCodeLine{00718\ \ \ \ \ \ \ \ \ \ \ \ \ leaf\ =\ Security.SecTrustGetCertificateAtIndex(trust,\ 0)}
\DoxyCodeLine{00719\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ leaf}
\DoxyCodeLine{00720\ }
\DoxyCodeLine{00721\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Ok,\ now\ we\ want\ the\ DER\ bytes.}}
\DoxyCodeLine{00722\ \ \ \ \ \ \ \ \ \ \ \ \ certdata\ =\ Security.SecCertificateCopyData(leaf)}
\DoxyCodeLine{00723\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ certdata}
\DoxyCodeLine{00724\ }
\DoxyCodeLine{00725\ \ \ \ \ \ \ \ \ \ \ \ \ data\_length\ =\ CoreFoundation.CFDataGetLength(certdata)}
\DoxyCodeLine{00726\ \ \ \ \ \ \ \ \ \ \ \ \ data\_buffer\ =\ CoreFoundation.CFDataGetBytePtr(certdata)}
\DoxyCodeLine{00727\ \ \ \ \ \ \ \ \ \ \ \ \ der\_bytes\ =\ ctypes.string\_at(data\_buffer,\ data\_length)}
\DoxyCodeLine{00728\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{finally}:}
\DoxyCodeLine{00729\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ certdata:}
\DoxyCodeLine{00730\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ CoreFoundation.CFRelease(certdata)}
\DoxyCodeLine{00731\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ trust:}
\DoxyCodeLine{00732\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ CoreFoundation.CFRelease(trust)}
\DoxyCodeLine{00733\ }
\DoxyCodeLine{00734\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ der\_bytes}
\DoxyCodeLine{00735\ }

\end{DoxyCode}


References \mbox{\hyperlink{__internal_2exceptions_8py_source_l00095}{Diagnostic\+Pip\+Error.\+context}}, \mbox{\hyperlink{database_8py_source_l00354}{Distribution.\+context}}, and \mbox{\hyperlink{securetransport_8py_source_l00336}{context}}.

\Hypertarget{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a25aed6ebe566d50d761091e2adab51de}\index{WrappedSocket@{WrappedSocket}!gettimeout@{gettimeout}}
\index{gettimeout@{gettimeout}!WrappedSocket@{WrappedSocket}}
\doxysubsubsection{\texorpdfstring{gettimeout()}{gettimeout()}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a25aed6ebe566d50d761091e2adab51de} 
gettimeout (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{securetransport_8py_source_l00629}{629}} of file \mbox{\hyperlink{securetransport_8py_source}{securetransport.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00629\ \ \ \ \ \textcolor{keyword}{def\ }gettimeout(self):}
\DoxyCodeLine{00630\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\_timeout}
\DoxyCodeLine{00631\ }

\end{DoxyCode}


References \mbox{\hyperlink{securetransport_8py_source_l00349}{\+\_\+timeout}}.

\Hypertarget{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a3bdf3dae07c902f093d7a7e80fc11525}\index{WrappedSocket@{WrappedSocket}!handshake@{handshake}}
\index{handshake@{handshake}!WrappedSocket@{WrappedSocket}}
\doxysubsubsection{\texorpdfstring{handshake()}{handshake()}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a3bdf3dae07c902f093d7a7e80fc11525} 
handshake (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{}]{server\+\_\+hostname}{, }\item[{}]{verify}{, }\item[{}]{trust\+\_\+bundle}{, }\item[{}]{min\+\_\+version}{, }\item[{}]{max\+\_\+version}{, }\item[{}]{client\+\_\+cert}{, }\item[{}]{client\+\_\+key}{, }\item[{}]{client\+\_\+key\+\_\+passphrase}{, }\item[{}]{alpn\+\_\+protocols}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Actually performs the TLS handshake. This is run automatically by
wrapped socket, and shouldn't be needed in user code.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{securetransport_8py_source_l00474}{474}} of file \mbox{\hyperlink{securetransport_8py_source}{securetransport.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00485\ \ \ \ \ ):}
\DoxyCodeLine{00486\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00487\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Actually\ performs\ the\ TLS\ handshake.\ This\ is\ run\ automatically\ by}}
\DoxyCodeLine{00488\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ wrapped\ socket,\ and\ shouldn't\ be\ needed\ in\ user\ code.}}
\DoxyCodeLine{00489\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00490\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ First,\ we\ do\ the\ initial\ bits\ of\ connection\ setup.\ We\ need\ to\ create}}
\DoxyCodeLine{00491\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ a\ context,\ set\ its\ I/O\ funcs,\ and\ set\ the\ connection\ reference.}}
\DoxyCodeLine{00492\ \ \ \ \ \ \ \ \ self.context\ =\ Security.SSLCreateContext(}
\DoxyCodeLine{00493\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{None},\ SecurityConst.kSSLClientSide,\ SecurityConst.kSSLStreamType}
\DoxyCodeLine{00494\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{00495\ \ \ \ \ \ \ \ \ result\ =\ Security.SSLSetIOFuncs(}
\DoxyCodeLine{00496\ \ \ \ \ \ \ \ \ \ \ \ \ self.context,\ \_read\_callback\_pointer,\ \_write\_callback\_pointer}
\DoxyCodeLine{00497\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{00498\ \ \ \ \ \ \ \ \ \_assert\_no\_error(result)}
\DoxyCodeLine{00499\ }
\DoxyCodeLine{00500\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Here\ we\ need\ to\ compute\ the\ handle\ to\ use.\ We\ do\ this\ by\ taking\ the}}
\DoxyCodeLine{00501\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ id\ of\ self\ modulo\ 2**31\ -\/\ 1.\ If\ this\ is\ already\ in\ the\ dictionary,\ we}}
\DoxyCodeLine{00502\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ just\ keep\ incrementing\ by\ one\ until\ we\ find\ a\ free\ space.}}
\DoxyCodeLine{00503\ \ \ \ \ \ \ \ \ \textcolor{keyword}{with}\ \_connection\_ref\_lock:}
\DoxyCodeLine{00504\ \ \ \ \ \ \ \ \ \ \ \ \ handle\ =\ id(self)\ \%\ 2147483647}
\DoxyCodeLine{00505\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ handle\ \textcolor{keywordflow}{in}\ \_connection\_refs:}
\DoxyCodeLine{00506\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ handle\ =\ (handle\ +\ 1)\ \%\ 2147483647}
\DoxyCodeLine{00507\ \ \ \ \ \ \ \ \ \ \ \ \ \_connection\_refs[handle]\ =\ self}
\DoxyCodeLine{00508\ }
\DoxyCodeLine{00509\ \ \ \ \ \ \ \ \ result\ =\ Security.SSLSetConnection(self.context,\ handle)}
\DoxyCodeLine{00510\ \ \ \ \ \ \ \ \ \_assert\_no\_error(result)}
\DoxyCodeLine{00511\ }
\DoxyCodeLine{00512\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ If\ we\ have\ a\ server\ hostname,\ we\ should\ set\ that\ too.}}
\DoxyCodeLine{00513\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ server\_hostname:}
\DoxyCodeLine{00514\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ isinstance(server\_hostname,\ bytes):}
\DoxyCodeLine{00515\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ server\_hostname\ =\ server\_hostname.encode(\textcolor{stringliteral}{"{}utf-\/8"{}})}
\DoxyCodeLine{00516\ }
\DoxyCodeLine{00517\ \ \ \ \ \ \ \ \ \ \ \ \ result\ =\ Security.SSLSetPeerDomainName(}
\DoxyCodeLine{00518\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.context,\ server\_hostname,\ len(server\_hostname)}
\DoxyCodeLine{00519\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{00520\ \ \ \ \ \ \ \ \ \ \ \ \ \_assert\_no\_error(result)}
\DoxyCodeLine{00521\ }
\DoxyCodeLine{00522\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Setup\ the\ ciphers.}}
\DoxyCodeLine{00523\ \ \ \ \ \ \ \ \ self.\_set\_ciphers()}
\DoxyCodeLine{00524\ }
\DoxyCodeLine{00525\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Setup\ the\ ALPN\ protocols.}}
\DoxyCodeLine{00526\ \ \ \ \ \ \ \ \ self.\_set\_alpn\_protocols(alpn\_protocols)}
\DoxyCodeLine{00527\ }
\DoxyCodeLine{00528\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Set\ the\ minimum\ and\ maximum\ TLS\ versions.}}
\DoxyCodeLine{00529\ \ \ \ \ \ \ \ \ result\ =\ Security.SSLSetProtocolVersionMin(self.context,\ min\_version)}
\DoxyCodeLine{00530\ \ \ \ \ \ \ \ \ \_assert\_no\_error(result)}
\DoxyCodeLine{00531\ }
\DoxyCodeLine{00532\ \ \ \ \ \ \ \ \ result\ =\ Security.SSLSetProtocolVersionMax(self.context,\ max\_version)}
\DoxyCodeLine{00533\ \ \ \ \ \ \ \ \ \_assert\_no\_error(result)}
\DoxyCodeLine{00534\ }
\DoxyCodeLine{00535\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ If\ there's\ a\ trust\ DB,\ we\ need\ to\ use\ it.\ We\ do\ that\ by\ telling}}
\DoxyCodeLine{00536\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ SecureTransport\ to\ break\ on\ server\ auth.\ We\ also\ do\ that\ if\ we\ don't}}
\DoxyCodeLine{00537\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ want\ to\ validate\ the\ certs\ at\ all:\ we\ just\ won't\ actually\ do\ any}}
\DoxyCodeLine{00538\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ authing\ in\ that\ case.}}
\DoxyCodeLine{00539\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ verify\ \textcolor{keywordflow}{or}\ trust\_bundle\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{00540\ \ \ \ \ \ \ \ \ \ \ \ \ result\ =\ Security.SSLSetSessionOption(}
\DoxyCodeLine{00541\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.context,\ SecurityConst.kSSLSessionOptionBreakOnServerAuth,\ \textcolor{keyword}{True}}
\DoxyCodeLine{00542\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{00543\ \ \ \ \ \ \ \ \ \ \ \ \ \_assert\_no\_error(result)}
\DoxyCodeLine{00544\ }
\DoxyCodeLine{00545\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ If\ there's\ a\ client\ cert,\ we\ need\ to\ use\ it.}}
\DoxyCodeLine{00546\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ client\_cert:}
\DoxyCodeLine{00547\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_keychain,\ self.\_keychain\_dir\ =\ \_temporary\_keychain()}
\DoxyCodeLine{00548\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_client\_cert\_chain\ =\ \_load\_client\_cert\_chain(}
\DoxyCodeLine{00549\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_keychain,\ client\_cert,\ client\_key}
\DoxyCodeLine{00550\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{00551\ \ \ \ \ \ \ \ \ \ \ \ \ result\ =\ Security.SSLSetCertificate(self.context,\ self.\_client\_cert\_chain)}
\DoxyCodeLine{00552\ \ \ \ \ \ \ \ \ \ \ \ \ \_assert\_no\_error(result)}
\DoxyCodeLine{00553\ }
\DoxyCodeLine{00554\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ \textcolor{keyword}{True}:}
\DoxyCodeLine{00555\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{with}\ self.\_raise\_on\_error():}
\DoxyCodeLine{00556\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result\ =\ Security.SSLHandshake(self.context)}
\DoxyCodeLine{00557\ }
\DoxyCodeLine{00558\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ result\ ==\ SecurityConst.errSSLWouldBlock:}
\DoxyCodeLine{00559\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ socket.timeout(\textcolor{stringliteral}{"{}handshake\ timed\ out"{}})}
\DoxyCodeLine{00560\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ result\ ==\ SecurityConst.errSSLServerAuthCompleted:}
\DoxyCodeLine{00561\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_custom\_validate(verify,\ trust\_bundle)}
\DoxyCodeLine{00562\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{00563\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00564\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_assert\_no\_error(result)}
\DoxyCodeLine{00565\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break}}
\DoxyCodeLine{00566\ }

\end{DoxyCode}


References \mbox{\hyperlink{securetransport_8py_source_l00342}{\+\_\+client\+\_\+cert\+\_\+chain}}, \mbox{\hyperlink{securetransport_8py_source_l00399}{\+\_\+custom\+\_\+validate()}}, \mbox{\hyperlink{securetransport_8py_source_l00340}{\+\_\+keychain}}, \mbox{\hyperlink{securetransport_8py_source_l00341}{\+\_\+keychain\+\_\+dir}}, \mbox{\hyperlink{securetransport_8py_source_l00353}{\+\_\+raise\+\_\+on\+\_\+error()}}, \mbox{\hyperlink{securetransport_8py_source_l00386}{\+\_\+set\+\_\+alpn\+\_\+protocols()}}, \mbox{\hyperlink{securetransport_8py_source_l00373}{\+\_\+set\+\_\+ciphers()}}, \mbox{\hyperlink{__internal_2exceptions_8py_source_l00095}{Diagnostic\+Pip\+Error.\+context}}, \mbox{\hyperlink{database_8py_source_l00354}{Distribution.\+context}}, and \mbox{\hyperlink{securetransport_8py_source_l00336}{context}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{da/dfd/classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a3bdf3dae07c902f093d7a7e80fc11525_cgraph}
\end{center}
\end{figure}
\Hypertarget{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_ad9bffc271e053c80738656f2756cad6d}\index{WrappedSocket@{WrappedSocket}!recv@{recv}}
\index{recv@{recv}!WrappedSocket@{WrappedSocket}}
\doxysubsubsection{\texorpdfstring{recv()}{recv()}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_ad9bffc271e053c80738656f2756cad6d} 
recv (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{}]{bufsiz}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{securetransport_8py_source_l00577}{577}} of file \mbox{\hyperlink{securetransport_8py_source}{securetransport.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00577\ \ \ \ \ \textcolor{keyword}{def\ }recv(self,\ bufsiz):}
\DoxyCodeLine{00578\ \ \ \ \ \ \ \ \ buffer\ =\ ctypes.create\_string\_buffer(bufsiz)}
\DoxyCodeLine{00579\ \ \ \ \ \ \ \ \ bytes\_read\ =\ self.recv\_into(buffer,\ bufsiz)}
\DoxyCodeLine{00580\ \ \ \ \ \ \ \ \ data\ =\ buffer[:bytes\_read]}
\DoxyCodeLine{00581\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ data}
\DoxyCodeLine{00582\ }

\end{DoxyCode}


References \mbox{\hyperlink{pyopenssl_8py_source_l00325}{recv\+\_\+into()}}, and \mbox{\hyperlink{securetransport_8py_source_l00583}{recv\+\_\+into()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{da/dfd/classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_ad9bffc271e053c80738656f2756cad6d_cgraph}
\end{center}
\end{figure}
\Hypertarget{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a3ee5242631efe6828859a8a871baae73}\index{WrappedSocket@{WrappedSocket}!recv\_into@{recv\_into}}
\index{recv\_into@{recv\_into}!WrappedSocket@{WrappedSocket}}
\doxysubsubsection{\texorpdfstring{recv\_into()}{recv\_into()}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a3ee5242631efe6828859a8a871baae73} 
recv\+\_\+into (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{}]{buffer}{, }\item[{}]{nbytes}{ = {\ttfamily None}}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{securetransport_8py_source_l00583}{583}} of file \mbox{\hyperlink{securetransport_8py_source}{securetransport.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00583\ \ \ \ \ \textcolor{keyword}{def\ }recv\_into(self,\ buffer,\ nbytes=None):}
\DoxyCodeLine{00584\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Read\ short\ on\ EOF.}}
\DoxyCodeLine{00585\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\_closed:}
\DoxyCodeLine{00586\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0}
\DoxyCodeLine{00587\ }
\DoxyCodeLine{00588\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ nbytes\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{00589\ \ \ \ \ \ \ \ \ \ \ \ \ nbytes\ =\ len(buffer)}
\DoxyCodeLine{00590\ }
\DoxyCodeLine{00591\ \ \ \ \ \ \ \ \ buffer\ =\ (ctypes.c\_char\ *\ nbytes).from\_buffer(buffer)}
\DoxyCodeLine{00592\ \ \ \ \ \ \ \ \ processed\_bytes\ =\ ctypes.c\_size\_t(0)}
\DoxyCodeLine{00593\ }
\DoxyCodeLine{00594\ \ \ \ \ \ \ \ \ \textcolor{keyword}{with}\ self.\_raise\_on\_error():}
\DoxyCodeLine{00595\ \ \ \ \ \ \ \ \ \ \ \ \ result\ =\ Security.SSLRead(}
\DoxyCodeLine{00596\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.context,\ buffer,\ nbytes,\ ctypes.byref(processed\_bytes)}
\DoxyCodeLine{00597\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{00598\ }
\DoxyCodeLine{00599\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ There\ are\ some\ result\ codes\ that\ we\ want\ to\ treat\ as\ "{}not\ always}}
\DoxyCodeLine{00600\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ errors"{}.\ Specifically,\ those\ are\ errSSLWouldBlock,}}
\DoxyCodeLine{00601\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ errSSLClosedGraceful,\ and\ errSSLClosedNoNotify.}}
\DoxyCodeLine{00602\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ result\ ==\ SecurityConst.errSSLWouldBlock:}
\DoxyCodeLine{00603\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ If\ we\ didn't\ process\ any\ bytes,\ then\ this\ was\ just\ a\ time\ out.}}
\DoxyCodeLine{00604\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ However,\ we\ can\ get\ errSSLWouldBlock\ in\ situations\ when\ we\ *did*}}
\DoxyCodeLine{00605\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ read\ some\ data,\ and\ in\ those\ cases\ we\ should\ just\ read\ "{}short"{}}}
\DoxyCodeLine{00606\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ and\ return.}}
\DoxyCodeLine{00607\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ processed\_bytes.value\ ==\ 0:}
\DoxyCodeLine{00608\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Timed\ out,\ no\ data\ read.}}
\DoxyCodeLine{00609\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ socket.timeout(\textcolor{stringliteral}{"{}recv\ timed\ out"{}})}
\DoxyCodeLine{00610\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ result\ \textcolor{keywordflow}{in}\ (}
\DoxyCodeLine{00611\ \ \ \ \ \ \ \ \ \ \ \ \ SecurityConst.errSSLClosedGraceful,}
\DoxyCodeLine{00612\ \ \ \ \ \ \ \ \ \ \ \ \ SecurityConst.errSSLClosedNoNotify,}
\DoxyCodeLine{00613\ \ \ \ \ \ \ \ \ ):}
\DoxyCodeLine{00614\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ The\ remote\ peer\ has\ closed\ this\ connection.\ We\ should\ do\ so\ as}}
\DoxyCodeLine{00615\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ well.\ Note\ that\ we\ don't\ actually\ return\ here\ because\ in}}
\DoxyCodeLine{00616\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ principle\ this\ could\ actually\ be\ fired\ along\ with\ return\ data.}}
\DoxyCodeLine{00617\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ It's\ unlikely\ though.}}
\DoxyCodeLine{00618\ \ \ \ \ \ \ \ \ \ \ \ \ self.close()}
\DoxyCodeLine{00619\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00620\ \ \ \ \ \ \ \ \ \ \ \ \ \_assert\_no\_error(result)}
\DoxyCodeLine{00621\ }
\DoxyCodeLine{00622\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Ok,\ we\ read\ and\ probably\ succeeded.\ We\ should\ return\ whatever\ data}}
\DoxyCodeLine{00623\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ was\ actually\ read.}}
\DoxyCodeLine{00624\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ processed\_bytes.value}
\DoxyCodeLine{00625\ }

\end{DoxyCode}


References \mbox{\hyperlink{progress_8py_source_l00187}{\+\_\+\+Reader.\+\_\+closed}}, \mbox{\hyperlink{pyopenssl_8py_source_l00288}{\+\_\+closed}}, \mbox{\hyperlink{securetransport_8py_source_l00353}{\+\_\+raise\+\_\+on\+\_\+error()}}, \mbox{\hyperlink{lazy__wheel_8py_source_l00079}{Lazy\+Zip\+Over\+HTTP.\+close()}}, \mbox{\hyperlink{adapter_8py_source_l00135}{Cache\+Control\+Adapter.\+close()}}, \mbox{\hyperlink{__vendor_2cachecontrol_2cache_8py_source_l00023}{Base\+Cache.\+close()}}, \mbox{\hyperlink{redis__cache_8py_source_l00037}{Redis\+Cache.\+close()}}, \mbox{\hyperlink{universaldetector_8py_source_l00285}{Universal\+Detector.\+close()}}, \mbox{\hyperlink{pygments_2util_8py_source_l00329}{Unclosing\+Text\+IOWrapper.\+close()}}, \mbox{\hyperlink{adapters_8py_source_l00095}{Base\+Adapter.\+close()}}, \mbox{\hyperlink{adapters_8py_source_l00360}{HTTPAdapter.\+close()}}, \mbox{\hyperlink{__vendor_2requests_2models_8py_source_l01023}{Response.\+close()}}, \mbox{\hyperlink{sessions_8py_source_l00796}{Session.\+close()}}, \mbox{\hyperlink{__null__file_8py_source_l00006}{Null\+File.\+close()}}, \mbox{\hyperlink{progress_8py_source_l00256}{\+\_\+\+Reader.\+close()}}, \mbox{\hyperlink{connectionpool_8py_source_l00101}{Connection\+Pool.\+close()}}, \mbox{\hyperlink{connectionpool_8py_source_l00500}{HTTPConnection\+Pool.\+close()}}, \mbox{\hyperlink{pyopenssl_8py_source_l00374}{close()}}, \mbox{\hyperlink{__internal_2exceptions_8py_source_l00095}{Diagnostic\+Pip\+Error.\+context}}, \mbox{\hyperlink{database_8py_source_l00354}{Distribution.\+context}}, and \mbox{\hyperlink{securetransport_8py_source_l00336}{context}}.



Referenced by \mbox{\hyperlink{securetransport_8py_source_l00577}{recv()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{da/dfd/classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a3ee5242631efe6828859a8a871baae73_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=207pt]{da/dfd/classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a3ee5242631efe6828859a8a871baae73_icgraph}
\end{center}
\end{figure}
\Hypertarget{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a93fb67178e49e221096d45e57a5439e3}\index{WrappedSocket@{WrappedSocket}!send@{send}}
\index{send@{send}!WrappedSocket@{WrappedSocket}}
\doxysubsubsection{\texorpdfstring{send()}{send()}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a93fb67178e49e221096d45e57a5439e3} 
send (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{}]{data}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{securetransport_8py_source_l00632}{632}} of file \mbox{\hyperlink{securetransport_8py_source}{securetransport.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00632\ \ \ \ \ \textcolor{keyword}{def\ }send(self,\ data):}
\DoxyCodeLine{00633\ \ \ \ \ \ \ \ \ processed\_bytes\ =\ ctypes.c\_size\_t(0)}
\DoxyCodeLine{00634\ }
\DoxyCodeLine{00635\ \ \ \ \ \ \ \ \ \textcolor{keyword}{with}\ self.\_raise\_on\_error():}
\DoxyCodeLine{00636\ \ \ \ \ \ \ \ \ \ \ \ \ result\ =\ Security.SSLWrite(}
\DoxyCodeLine{00637\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.context,\ data,\ len(data),\ ctypes.byref(processed\_bytes)}
\DoxyCodeLine{00638\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{00639\ }
\DoxyCodeLine{00640\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ result\ ==\ SecurityConst.errSSLWouldBlock\ \textcolor{keywordflow}{and}\ processed\_bytes.value\ ==\ 0:}
\DoxyCodeLine{00641\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Timed\ out}}
\DoxyCodeLine{00642\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ socket.timeout(\textcolor{stringliteral}{"{}send\ timed\ out"{}})}
\DoxyCodeLine{00643\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00644\ \ \ \ \ \ \ \ \ \ \ \ \ \_assert\_no\_error(result)}
\DoxyCodeLine{00645\ }
\DoxyCodeLine{00646\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ We\ sent,\ and\ probably\ succeeded.\ Tell\ them\ how\ much\ we\ sent.}}
\DoxyCodeLine{00647\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ processed\_bytes.value}
\DoxyCodeLine{00648\ }

\end{DoxyCode}


References \mbox{\hyperlink{securetransport_8py_source_l00353}{\+\_\+raise\+\_\+on\+\_\+error()}}, \mbox{\hyperlink{__internal_2exceptions_8py_source_l00095}{Diagnostic\+Pip\+Error.\+context}}, \mbox{\hyperlink{database_8py_source_l00354}{Distribution.\+context}}, and \mbox{\hyperlink{securetransport_8py_source_l00336}{context}}.



Referenced by \mbox{\hyperlink{connection_8py_source_l00246}{HTTPConnection.\+request\+\_\+chunked()}}, \mbox{\hyperlink{securetransport_8py_source_l00649}{sendall()}}, and \mbox{\hyperlink{ssltransport_8py_source_l00089}{SSLTransport.\+sendall()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{da/dfd/classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a93fb67178e49e221096d45e57a5439e3_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{da/dfd/classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a93fb67178e49e221096d45e57a5439e3_icgraph}
\end{center}
\end{figure}
\Hypertarget{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_ac4263cd0f592b9a15fe72b1ffc4a5b5c}\index{WrappedSocket@{WrappedSocket}!sendall@{sendall}}
\index{sendall@{sendall}!WrappedSocket@{WrappedSocket}}
\doxysubsubsection{\texorpdfstring{sendall()}{sendall()}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_ac4263cd0f592b9a15fe72b1ffc4a5b5c} 
sendall (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{}]{data}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{securetransport_8py_source_l00649}{649}} of file \mbox{\hyperlink{securetransport_8py_source}{securetransport.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00649\ \ \ \ \ \textcolor{keyword}{def\ }sendall(self,\ data):}
\DoxyCodeLine{00650\ \ \ \ \ \ \ \ \ total\_sent\ =\ 0}
\DoxyCodeLine{00651\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ total\_sent\ <\ len(data):}
\DoxyCodeLine{00652\ \ \ \ \ \ \ \ \ \ \ \ \ sent\ =\ self.send(data[total\_sent\ :\ total\_sent\ +\ SSL\_WRITE\_BLOCKSIZE])}
\DoxyCodeLine{00653\ \ \ \ \ \ \ \ \ \ \ \ \ total\_sent\ +=\ sent}
\DoxyCodeLine{00654\ }

\end{DoxyCode}


References \mbox{\hyperlink{adapter_8py_source_l00040}{Cache\+Control\+Adapter.\+send()}}, \mbox{\hyperlink{adapters_8py_source_l00078}{Base\+Adapter.\+send()}}, \mbox{\hyperlink{adapters_8py_source_l00436}{HTTPAdapter.\+send()}}, \mbox{\hyperlink{sessions_8py_source_l00673}{Session.\+send()}}, and \mbox{\hyperlink{securetransport_8py_source_l00632}{send()}}.



Referenced by \mbox{\hyperlink{securetransport_8py_source_l00399}{\+\_\+custom\+\_\+validate()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{da/dfd/classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_ac4263cd0f592b9a15fe72b1ffc4a5b5c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{da/dfd/classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_ac4263cd0f592b9a15fe72b1ffc4a5b5c_icgraph}
\end{center}
\end{figure}
\Hypertarget{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_afc1abb6c10c8e4aa4d24618174f6038e}\index{WrappedSocket@{WrappedSocket}!settimeout@{settimeout}}
\index{settimeout@{settimeout}!WrappedSocket@{WrappedSocket}}
\doxysubsubsection{\texorpdfstring{settimeout()}{settimeout()}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_afc1abb6c10c8e4aa4d24618174f6038e} 
settimeout (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{}]{timeout}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{securetransport_8py_source_l00626}{626}} of file \mbox{\hyperlink{securetransport_8py_source}{securetransport.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00626\ \ \ \ \ \textcolor{keyword}{def\ }settimeout(self,\ timeout):}
\DoxyCodeLine{00627\ \ \ \ \ \ \ \ \ self.\_timeout\ =\ timeout}
\DoxyCodeLine{00628\ }

\end{DoxyCode}


References \mbox{\hyperlink{securetransport_8py_source_l00349}{\+\_\+timeout}}.

\Hypertarget{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a2a3dcde32d38915de728835355e132ef}\index{WrappedSocket@{WrappedSocket}!shutdown@{shutdown}}
\index{shutdown@{shutdown}!WrappedSocket@{WrappedSocket}}
\doxysubsubsection{\texorpdfstring{shutdown()}{shutdown()}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a2a3dcde32d38915de728835355e132ef} 
shutdown (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{securetransport_8py_source_l00655}{655}} of file \mbox{\hyperlink{securetransport_8py_source}{securetransport.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00655\ \ \ \ \ \textcolor{keyword}{def\ }shutdown(self):}
\DoxyCodeLine{00656\ \ \ \ \ \ \ \ \ \textcolor{keyword}{with}\ self.\_raise\_on\_error():}
\DoxyCodeLine{00657\ \ \ \ \ \ \ \ \ \ \ \ \ Security.SSLClose(self.context)}
\DoxyCodeLine{00658\ }

\end{DoxyCode}


References \mbox{\hyperlink{securetransport_8py_source_l00353}{\+\_\+raise\+\_\+on\+\_\+error()}}, \mbox{\hyperlink{__internal_2exceptions_8py_source_l00095}{Diagnostic\+Pip\+Error.\+context}}, \mbox{\hyperlink{database_8py_source_l00354}{Distribution.\+context}}, and \mbox{\hyperlink{securetransport_8py_source_l00336}{context}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{da/dfd/classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a2a3dcde32d38915de728835355e132ef_cgraph}
\end{center}
\end{figure}
\Hypertarget{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a6a1c11cb894e93434d76ac120c45d837}\index{WrappedSocket@{WrappedSocket}!version@{version}}
\index{version@{version}!WrappedSocket@{WrappedSocket}}
\doxysubsubsection{\texorpdfstring{version()}{version()}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a6a1c11cb894e93434d76ac120c45d837} 
version (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{securetransport_8py_source_l00736}{736}} of file \mbox{\hyperlink{securetransport_8py_source}{securetransport.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00736\ \ \ \ \ \textcolor{keyword}{def\ }version(self):}
\DoxyCodeLine{00737\ \ \ \ \ \ \ \ \ protocol\ =\ Security.SSLProtocol()}
\DoxyCodeLine{00738\ \ \ \ \ \ \ \ \ result\ =\ Security.SSLGetNegotiatedProtocolVersion(}
\DoxyCodeLine{00739\ \ \ \ \ \ \ \ \ \ \ \ \ self.context,\ ctypes.byref(protocol)}
\DoxyCodeLine{00740\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{00741\ \ \ \ \ \ \ \ \ \_assert\_no\_error(result)}
\DoxyCodeLine{00742\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ protocol.value\ ==\ SecurityConst.kTLSProtocol13:}
\DoxyCodeLine{00743\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ ssl.SSLError(\textcolor{stringliteral}{"{}SecureTransport\ does\ not\ support\ TLS\ 1.3"{}})}
\DoxyCodeLine{00744\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ protocol.value\ ==\ SecurityConst.kTLSProtocol12:}
\DoxyCodeLine{00745\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}TLSv1.2"{}}}
\DoxyCodeLine{00746\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ protocol.value\ ==\ SecurityConst.kTLSProtocol11:}
\DoxyCodeLine{00747\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}TLSv1.1"{}}}
\DoxyCodeLine{00748\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ protocol.value\ ==\ SecurityConst.kTLSProtocol1:}
\DoxyCodeLine{00749\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}TLSv1"{}}}
\DoxyCodeLine{00750\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ protocol.value\ ==\ SecurityConst.kSSLProtocol3:}
\DoxyCodeLine{00751\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}SSLv3"{}}}
\DoxyCodeLine{00752\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ protocol.value\ ==\ SecurityConst.kSSLProtocol2:}
\DoxyCodeLine{00753\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}SSLv2"{}}}
\DoxyCodeLine{00754\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00755\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ ssl.SSLError(\textcolor{stringliteral}{"{}Unknown\ TLS\ version:\ \%r"{}}\ \%\ protocol)}
\DoxyCodeLine{00756\ }

\end{DoxyCode}


References \mbox{\hyperlink{__internal_2exceptions_8py_source_l00095}{Diagnostic\+Pip\+Error.\+context}}, \mbox{\hyperlink{database_8py_source_l00354}{Distribution.\+context}}, and \mbox{\hyperlink{securetransport_8py_source_l00336}{context}}.



Referenced by \mbox{\hyperlink{securetransport_8py_source_l00399}{\+\_\+custom\+\_\+validate()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{da/dfd/classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a6a1c11cb894e93434d76ac120c45d837_icgraph}
\end{center}
\end{figure}


\label{doc-variable-members}
\Hypertarget{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_doc-variable-members}
\doxysubsection{Field Documentation}
\Hypertarget{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a6086b1fb97145e9ee7c5ea5bb09f70c9}\index{WrappedSocket@{WrappedSocket}!\_client\_cert\_chain@{\_client\_cert\_chain}}
\index{\_client\_cert\_chain@{\_client\_cert\_chain}!WrappedSocket@{WrappedSocket}}
\doxysubsubsection{\texorpdfstring{\_client\_cert\_chain}{\_client\_cert\_chain}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a6086b1fb97145e9ee7c5ea5bb09f70c9} 
\+\_\+client\+\_\+cert\+\_\+chain = None\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{securetransport_8py_source_l00342}{342}} of file \mbox{\hyperlink{securetransport_8py_source}{securetransport.\+py}}.



Referenced by \mbox{\hyperlink{securetransport_8py_source_l00659}{close()}}, and \mbox{\hyperlink{securetransport_8py_source_l00485}{handshake()}}.

\Hypertarget{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_af4a8be523945fd0c4187dddbbc732d87}\index{WrappedSocket@{WrappedSocket}!\_closed@{\_closed}}
\index{\_closed@{\_closed}!WrappedSocket@{WrappedSocket}}
\doxysubsubsection{\texorpdfstring{\_closed}{\_closed}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_af4a8be523945fd0c4187dddbbc732d87} 
bool \+\_\+closed = False\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{securetransport_8py_source_l00338}{338}} of file \mbox{\hyperlink{securetransport_8py_source}{securetransport.\+py}}.



Referenced by \mbox{\hyperlink{securetransport_8py_source_l00571}{\+\_\+decref\+\_\+socketios()}}, \mbox{\hyperlink{securetransport_8py_source_l00659}{close()}}, and \mbox{\hyperlink{securetransport_8py_source_l00583}{recv\+\_\+into()}}.

\Hypertarget{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_afe77e67e0f2bdc0ccb6870486bd2e4c6}\index{WrappedSocket@{WrappedSocket}!\_exception@{\_exception}}
\index{\_exception@{\_exception}!WrappedSocket@{WrappedSocket}}
\doxysubsubsection{\texorpdfstring{\_exception}{\_exception}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_afe77e67e0f2bdc0ccb6870486bd2e4c6} 
\+\_\+exception = None\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{securetransport_8py_source_l00339}{339}} of file \mbox{\hyperlink{securetransport_8py_source}{securetransport.\+py}}.



Referenced by \mbox{\hyperlink{securetransport_8py_source_l00353}{\+\_\+raise\+\_\+on\+\_\+error()}}.

\Hypertarget{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a9e89644f6364561ac88160db65a4d40e}\index{WrappedSocket@{WrappedSocket}!\_keychain@{\_keychain}}
\index{\_keychain@{\_keychain}!WrappedSocket@{WrappedSocket}}
\doxysubsubsection{\texorpdfstring{\_keychain}{\_keychain}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a9e89644f6364561ac88160db65a4d40e} 
\+\_\+keychain = None\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{securetransport_8py_source_l00340}{340}} of file \mbox{\hyperlink{securetransport_8py_source}{securetransport.\+py}}.



Referenced by \mbox{\hyperlink{securetransport_8py_source_l00659}{close()}}, and \mbox{\hyperlink{securetransport_8py_source_l00485}{handshake()}}.

\Hypertarget{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_ae0101803cdf4dee026b1a973dd93360c}\index{WrappedSocket@{WrappedSocket}!\_keychain\_dir@{\_keychain\_dir}}
\index{\_keychain\_dir@{\_keychain\_dir}!WrappedSocket@{WrappedSocket}}
\doxysubsubsection{\texorpdfstring{\_keychain\_dir}{\_keychain\_dir}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_ae0101803cdf4dee026b1a973dd93360c} 
\+\_\+keychain\+\_\+dir = None\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{securetransport_8py_source_l00341}{341}} of file \mbox{\hyperlink{securetransport_8py_source}{securetransport.\+py}}.



Referenced by \mbox{\hyperlink{securetransport_8py_source_l00659}{close()}}, and \mbox{\hyperlink{securetransport_8py_source_l00485}{handshake()}}.

\Hypertarget{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a38ad6fa45318fc9e8bb34b1c7df1ec08}\index{WrappedSocket@{WrappedSocket}!\_makefile\_refs@{\_makefile\_refs}}
\index{\_makefile\_refs@{\_makefile\_refs}!WrappedSocket@{WrappedSocket}}
\doxysubsubsection{\texorpdfstring{\_makefile\_refs}{\_makefile\_refs}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a38ad6fa45318fc9e8bb34b1c7df1ec08} 
int \+\_\+makefile\+\_\+refs = 0\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{securetransport_8py_source_l00337}{337}} of file \mbox{\hyperlink{securetransport_8py_source}{securetransport.\+py}}.



Referenced by \mbox{\hyperlink{securetransport_8py_source_l00571}{\+\_\+decref\+\_\+socketios()}}, \mbox{\hyperlink{securetransport_8py_source_l00760}{\+\_\+drop()}}, \mbox{\hyperlink{securetransport_8py_source_l00757}{\+\_\+reuse()}}, and \mbox{\hyperlink{securetransport_8py_source_l00659}{close()}}.

\Hypertarget{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a57dd75984445a31b2e8c9438a17d6f29}\index{WrappedSocket@{WrappedSocket}!\_timeout@{\_timeout}}
\index{\_timeout@{\_timeout}!WrappedSocket@{WrappedSocket}}
\doxysubsubsection{\texorpdfstring{\_timeout}{\_timeout}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a57dd75984445a31b2e8c9438a17d6f29} 
\+\_\+timeout = self.\+socket.\+gettimeout()\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{securetransport_8py_source_l00349}{349}} of file \mbox{\hyperlink{securetransport_8py_source}{securetransport.\+py}}.



Referenced by \mbox{\hyperlink{securetransport_8py_source_l00629}{gettimeout()}}, and \mbox{\hyperlink{securetransport_8py_source_l00626}{settimeout()}}.

\Hypertarget{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a261f9f58ccbeaa962c4e675e4212c9cc}\index{WrappedSocket@{WrappedSocket}!context@{context}}
\index{context@{context}!WrappedSocket@{WrappedSocket}}
\doxysubsubsection{\texorpdfstring{context}{context}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a261f9f58ccbeaa962c4e675e4212c9cc} 
context = None}



Definition at line \mbox{\hyperlink{securetransport_8py_source_l00336}{336}} of file \mbox{\hyperlink{securetransport_8py_source}{securetransport.\+py}}.



Referenced by \mbox{\hyperlink{securetransport_8py_source_l00434}{\+\_\+evaluate\+\_\+trust()}}, \mbox{\hyperlink{securetransport_8py_source_l00386}{\+\_\+set\+\_\+alpn\+\_\+protocols()}}, \mbox{\hyperlink{securetransport_8py_source_l00373}{\+\_\+set\+\_\+ciphers()}}, \mbox{\hyperlink{securetransport_8py_source_l00659}{close()}}, \mbox{\hyperlink{securetransport_8py_source_l00678}{getpeercert()}}, \mbox{\hyperlink{securetransport_8py_source_l00485}{handshake()}}, \mbox{\hyperlink{securetransport_8py_source_l00583}{recv\+\_\+into()}}, \mbox{\hyperlink{securetransport_8py_source_l00632}{send()}}, \mbox{\hyperlink{securetransport_8py_source_l00655}{shutdown()}}, and \mbox{\hyperlink{securetransport_8py_source_l00736}{version()}}.

\Hypertarget{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a84edc84c8145e7997b70f9919ce44d68}\index{WrappedSocket@{WrappedSocket}!socket@{socket}}
\index{socket@{socket}!WrappedSocket@{WrappedSocket}}
\doxysubsubsection{\texorpdfstring{socket}{socket}}
{\footnotesize\ttfamily \label{classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1_wrapped_socket_a84edc84c8145e7997b70f9919ce44d68} 
socket = socket}



Definition at line \mbox{\hyperlink{securetransport_8py_source_l00335}{335}} of file \mbox{\hyperlink{securetransport_8py_source}{securetransport.\+py}}.



Referenced by \mbox{\hyperlink{securetransport_8py_source_l00399}{\+\_\+custom\+\_\+validate()}}, \mbox{\hyperlink{ssltransport_8py_source_l00183}{SSLTransport.\+\_\+decref\+\_\+socketios()}}, \mbox{\hyperlink{ssltransport_8py_source_l00195}{SSLTransport.\+\_\+ssl\+\_\+io\+\_\+loop()}}, \mbox{\hyperlink{securetransport_8py_source_l00659}{close()}}, \mbox{\hyperlink{ssltransport_8py_source_l00153}{SSLTransport.\+close()}}, \mbox{\hyperlink{securetransport_8py_source_l00567}{fileno()}}, \mbox{\hyperlink{ssltransport_8py_source_l00069}{SSLTransport.\+fileno()}}, \mbox{\hyperlink{ssltransport_8py_source_l00180}{SSLTransport.\+gettimeout()}}, \mbox{\hyperlink{ssltransport_8py_source_l00107}{SSLTransport.\+makefile()}}, and \mbox{\hyperlink{ssltransport_8py_source_l00177}{SSLTransport.\+settimeout()}}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/pqc-\/engineering-\/ssec-\/23/venv/lib/python3.\+12/site-\/packages/pip/\+\_\+vendor/urllib3/contrib/\mbox{\hyperlink{securetransport_8py}{securetransport.\+py}}\end{DoxyCompactItemize}
