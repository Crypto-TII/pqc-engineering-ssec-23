<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Let us walk on the 3-isogeny graph: efficient, fast, and simpleProject: RequirementPreparer Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Let us walk on the 3-isogeny graph: efficient, fast, and simpleProject
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer.html','../../',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">RequirementPreparer Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac96062a99a29e6cf326bb6d3a78425bb" id="r_ac96062a99a29e6cf326bb6d3a78425bb"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac96062a99a29e6cf326bb6d3a78425bb">__init__</a> (self, str <a class="el" href="#af62ac26cf3748a56c08441e6fe6fced6">build_dir</a>, Optional[str] <a class="el" href="#a457c9ed19eabafbbf967a1aa47016afe">download_dir</a>, str <a class="el" href="#a2f465e705bc34159a7cdfde4c0efa5c4">src_dir</a>, bool <a class="el" href="#a5997e28a580f69beddedb7d47851a310">build_isolation</a>, bool <a class="el" href="#abf210b265a36bb160618e07eb0c9109f">check_build_deps</a>, <a class="el" href="../../d2/d77/classpip_1_1__internal_1_1operations_1_1build_1_1build__tracker_1_1_build_tracker.html">BuildTracker</a> <a class="el" href="#a4bc4f9b4632c0800806977eb80fb171e">build_tracker</a>, PipSession session, str progress_bar, <a class="el" href="../../da/d3f/classpip_1_1__internal_1_1index_1_1package__finder_1_1_package_finder.html">PackageFinder</a> <a class="el" href="#ae46cc3f0b70ec94158c1c0bcc4c27187">finder</a>, bool <a class="el" href="#ad2eaca31e5e7f86304bd4b2a999ad3de">require_hashes</a>, bool <a class="el" href="#a635a6971e37b444275203bae019fc210">use_user_site</a>, bool lazy_wheel, int <a class="el" href="#a97b1cc04ec204ba7f1507498beb1d460">verbosity</a>, bool <a class="el" href="#a6085caaaaa9bf3b6796b76e67487456f">legacy_resolver</a>)</td></tr>
<tr class="memitem:af59be772057fb1ecc888032debfd2c0c" id="r_af59be772057fb1ecc888032debfd2c0c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d34/classpip_1_1__internal_1_1metadata_1_1base_1_1_base_distribution.html">BaseDistribution</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af59be772057fb1ecc888032debfd2c0c">prepare_linked_requirement</a> (self, <a class="el" href="../../d2/daa/classpip_1_1__internal_1_1req_1_1req__install_1_1_install_requirement.html">InstallRequirement</a> req, bool parallel_builds=False)</td></tr>
<tr class="memitem:ab4db8e2c941570f3fa77d89e6a5f8c32" id="r_ab4db8e2c941570f3fa77d89e6a5f8c32"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab4db8e2c941570f3fa77d89e6a5f8c32">prepare_linked_requirements_more</a> (self, Iterable[<a class="el" href="../../d2/daa/classpip_1_1__internal_1_1req_1_1req__install_1_1_install_requirement.html">InstallRequirement</a>] reqs, bool parallel_builds=False)</td></tr>
<tr class="memitem:aeeb24c2ae0e6f682ebd070f5022e9b52" id="r_aeeb24c2ae0e6f682ebd070f5022e9b52"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeeb24c2ae0e6f682ebd070f5022e9b52">save_linked_requirement</a> (self, <a class="el" href="../../d2/daa/classpip_1_1__internal_1_1req_1_1req__install_1_1_install_requirement.html">InstallRequirement</a> req)</td></tr>
<tr class="memitem:a936c6988ee228114949ff37e8fb01166" id="r_a936c6988ee228114949ff37e8fb01166"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d34/classpip_1_1__internal_1_1metadata_1_1base_1_1_base_distribution.html">BaseDistribution</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a936c6988ee228114949ff37e8fb01166">prepare_editable_requirement</a> (self, <a class="el" href="../../d2/daa/classpip_1_1__internal_1_1req_1_1req__install_1_1_install_requirement.html">InstallRequirement</a> req)</td></tr>
<tr class="memitem:a0f3ce6499532593581cd243b955599d1" id="r_a0f3ce6499532593581cd243b955599d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d34/classpip_1_1__internal_1_1metadata_1_1base_1_1_base_distribution.html">BaseDistribution</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0f3ce6499532593581cd243b955599d1">prepare_installed_requirement</a> (self, <a class="el" href="../../d2/daa/classpip_1_1__internal_1_1req_1_1req__install_1_1_install_requirement.html">InstallRequirement</a> req, str skip_reason)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-attribs" class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a2f465e705bc34159a7cdfde4c0efa5c4" id="r_a2f465e705bc34159a7cdfde4c0efa5c4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2f465e705bc34159a7cdfde4c0efa5c4">src_dir</a> = src_dir</td></tr>
<tr class="memitem:af62ac26cf3748a56c08441e6fe6fced6" id="r_af62ac26cf3748a56c08441e6fe6fced6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af62ac26cf3748a56c08441e6fe6fced6">build_dir</a> = build_dir</td></tr>
<tr class="memitem:a4bc4f9b4632c0800806977eb80fb171e" id="r_a4bc4f9b4632c0800806977eb80fb171e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4bc4f9b4632c0800806977eb80fb171e">build_tracker</a> = build_tracker</td></tr>
<tr class="memitem:ae46cc3f0b70ec94158c1c0bcc4c27187" id="r_ae46cc3f0b70ec94158c1c0bcc4c27187"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae46cc3f0b70ec94158c1c0bcc4c27187">finder</a> = finder</td></tr>
<tr class="memitem:a457c9ed19eabafbbf967a1aa47016afe" id="r_a457c9ed19eabafbbf967a1aa47016afe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a457c9ed19eabafbbf967a1aa47016afe">download_dir</a> = download_dir</td></tr>
<tr class="memitem:a5997e28a580f69beddedb7d47851a310" id="r_a5997e28a580f69beddedb7d47851a310"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5997e28a580f69beddedb7d47851a310">build_isolation</a> = build_isolation</td></tr>
<tr class="memitem:abf210b265a36bb160618e07eb0c9109f" id="r_abf210b265a36bb160618e07eb0c9109f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abf210b265a36bb160618e07eb0c9109f">check_build_deps</a> = check_build_deps</td></tr>
<tr class="memitem:ad2eaca31e5e7f86304bd4b2a999ad3de" id="r_ad2eaca31e5e7f86304bd4b2a999ad3de"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad2eaca31e5e7f86304bd4b2a999ad3de">require_hashes</a> = require_hashes</td></tr>
<tr class="memitem:a635a6971e37b444275203bae019fc210" id="r_a635a6971e37b444275203bae019fc210"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a635a6971e37b444275203bae019fc210">use_user_site</a> = use_user_site</td></tr>
<tr class="memitem:aeed6acff95de0b8aea0079c421c37a39" id="r_aeed6acff95de0b8aea0079c421c37a39"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeed6acff95de0b8aea0079c421c37a39">use_lazy_wheel</a> = lazy_wheel</td></tr>
<tr class="memitem:a97b1cc04ec204ba7f1507498beb1d460" id="r_a97b1cc04ec204ba7f1507498beb1d460"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a97b1cc04ec204ba7f1507498beb1d460">verbosity</a> = verbosity</td></tr>
<tr class="memitem:a6085caaaaa9bf3b6796b76e67487456f" id="r_a6085caaaaa9bf3b6796b76e67487456f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6085caaaaa9bf3b6796b76e67487456f">legacy_resolver</a> = legacy_resolver</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pro-methods" class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a4e422d87ef693943c5a2d8bbdf6f2813" id="r_a4e422d87ef693943c5a2d8bbdf6f2813"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4e422d87ef693943c5a2d8bbdf6f2813">_log_preparing_link</a> (self, <a class="el" href="../../d2/daa/classpip_1_1__internal_1_1req_1_1req__install_1_1_install_requirement.html">InstallRequirement</a> req)</td></tr>
<tr class="memitem:aaead613234005c8371711adc58831a97" id="r_aaead613234005c8371711adc58831a97"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaead613234005c8371711adc58831a97">_ensure_link_req_src_dir</a> (self, <a class="el" href="../../d2/daa/classpip_1_1__internal_1_1req_1_1req__install_1_1_install_requirement.html">InstallRequirement</a> req, bool parallel_builds)</td></tr>
<tr class="memitem:ac38b277ed8c5bce58ddd4b9a56096f7e" id="r_ac38b277ed8c5bce58ddd4b9a56096f7e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/def/classpip_1_1__internal_1_1utils_1_1hashes_1_1_hashes.html">Hashes</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac38b277ed8c5bce58ddd4b9a56096f7e">_get_linked_req_hashes</a> (self, <a class="el" href="../../d2/daa/classpip_1_1__internal_1_1req_1_1req__install_1_1_install_requirement.html">InstallRequirement</a> req)</td></tr>
<tr class="memitem:aef60afee31059ebdf0cea6cf4e590f37" id="r_aef60afee31059ebdf0cea6cf4e590f37"><td class="memItemLeft" align="right" valign="top">Optional[<a class="el" href="../../d7/d34/classpip_1_1__internal_1_1metadata_1_1base_1_1_base_distribution.html">BaseDistribution</a>]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aef60afee31059ebdf0cea6cf4e590f37">_fetch_metadata_only</a> (self, <a class="el" href="../../d2/daa/classpip_1_1__internal_1_1req_1_1req__install_1_1_install_requirement.html">InstallRequirement</a> req)</td></tr>
<tr class="memitem:a78022b7ac5089840c2bb0045c770b350" id="r_a78022b7ac5089840c2bb0045c770b350"><td class="memItemLeft" align="right" valign="top">Optional[<a class="el" href="../../d7/d34/classpip_1_1__internal_1_1metadata_1_1base_1_1_base_distribution.html">BaseDistribution</a>]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a78022b7ac5089840c2bb0045c770b350">_fetch_metadata_using_link_data_attr</a> (self, <a class="el" href="../../d2/daa/classpip_1_1__internal_1_1req_1_1req__install_1_1_install_requirement.html">InstallRequirement</a> req)</td></tr>
<tr class="memitem:aab5abba35860328fcf07414da894911e" id="r_aab5abba35860328fcf07414da894911e"><td class="memItemLeft" align="right" valign="top">Optional[<a class="el" href="../../d7/d34/classpip_1_1__internal_1_1metadata_1_1base_1_1_base_distribution.html">BaseDistribution</a>]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aab5abba35860328fcf07414da894911e">_fetch_metadata_using_lazy_wheel</a> (self, <a class="el" href="../../de/da5/classpip_1_1__internal_1_1models_1_1link_1_1_link.html">Link</a> link)</td></tr>
<tr class="memitem:afa78a700282134e31b92dde6cebb7be2" id="r_afa78a700282134e31b92dde6cebb7be2"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afa78a700282134e31b92dde6cebb7be2">_complete_partial_requirements</a> (self, Iterable[<a class="el" href="../../d2/daa/classpip_1_1__internal_1_1req_1_1req__install_1_1_install_requirement.html">InstallRequirement</a>] partially_downloaded_reqs, bool parallel_builds=False)</td></tr>
<tr class="memitem:a9a1ef358ce86a6fc2be046a02fac1ef6" id="r_a9a1ef358ce86a6fc2be046a02fac1ef6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d34/classpip_1_1__internal_1_1metadata_1_1base_1_1_base_distribution.html">BaseDistribution</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9a1ef358ce86a6fc2be046a02fac1ef6">_prepare_linked_requirement</a> (self, <a class="el" href="../../d2/daa/classpip_1_1__internal_1_1req_1_1req__install_1_1_install_requirement.html">InstallRequirement</a> req, bool parallel_builds)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pro-attribs" class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:aad9ce45e9912181e7d85e4093362417d" id="r_aad9ce45e9912181e7d85e4093362417d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aad9ce45e9912181e7d85e4093362417d">_session</a> = session</td></tr>
<tr class="memitem:ac1e083ce1a1579812f234dcc4d1904b5" id="r_ac1e083ce1a1579812f234dcc4d1904b5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac1e083ce1a1579812f234dcc4d1904b5">_download</a> = <a class="el" href="../../d5/d7f/classpip_1_1__internal_1_1network_1_1download_1_1_downloader.html">Downloader</a>(session, progress_bar)</td></tr>
<tr class="memitem:aaafafcc14148090ecfd8a5b888772626" id="r_aaafafcc14148090ecfd8a5b888772626"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaafafcc14148090ecfd8a5b888772626">_batch_download</a> = <a class="el" href="../../de/dab/classpip_1_1__internal_1_1network_1_1download_1_1_batch_downloader.html">BatchDownloader</a>(session, progress_bar)</td></tr>
<tr class="memitem:a979acd0525877f18b3c360a8eadc70dc" id="r_a979acd0525877f18b3c360a8eadc70dc"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a979acd0525877f18b3c360a8eadc70dc">_downloaded</a> = {}</td></tr>
<tr class="memitem:a3f57c95417883a72a8cd588e5969990a" id="r_a3f57c95417883a72a8cd588e5969990a"><td class="memItemLeft" align="right" valign="top">tuple&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3f57c95417883a72a8cd588e5969990a">_previous_requirement_header</a> = (&quot;&quot;, &quot;&quot;)</td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Prepares a Requirement</pre> 
<p class="definition">Definition at line <a class="el" href="../../d5/d37/prepare_8py_source.html#l00211">211</a> of file <a class="el" href="../../d5/d37/prepare_8py_source.html">prepare.py</a>.</p>
</div><a name="doc-constructors" id="doc-constructors"></a><h2 id="header-doc-constructors" class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac96062a99a29e6cf326bb6d3a78425bb" name="ac96062a99a29e6cf326bb6d3a78425bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac96062a99a29e6cf326bb6d3a78425bb">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None __init__ </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>build_dir</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[str]</td>          <td class="paramname"><span class="paramname"><em>download_dir</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>src_dir</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>build_isolation</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>check_build_deps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d77/classpip_1_1__internal_1_1operations_1_1build_1_1build__tracker_1_1_build_tracker.html">BuildTracker</a></td>          <td class="paramname"><span class="paramname"><em>build_tracker</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PipSession</td>          <td class="paramname"><span class="paramname"><em>session</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>progress_bar</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d3f/classpip_1_1__internal_1_1index_1_1package__finder_1_1_package_finder.html">PackageFinder</a></td>          <td class="paramname"><span class="paramname"><em>finder</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>require_hashes</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>use_user_site</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>lazy_wheel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>verbosity</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>legacy_resolver</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d37/prepare_8py_source.html#l00214">214</a> of file <a class="el" href="../../d5/d37/prepare_8py_source.html">prepare.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  230</span>    ) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  231</span>        super().__init__()</div>
<div class="line"><span class="lineno">  232</span> </div>
<div class="line"><span class="lineno">  233</span>        self.src_dir = src_dir</div>
<div class="line"><span class="lineno">  234</span>        self.build_dir = build_dir</div>
<div class="line"><span class="lineno">  235</span>        self.build_tracker = build_tracker</div>
<div class="line"><span class="lineno">  236</span>        self._session = session</div>
<div class="line"><span class="lineno">  237</span>        self._download = Downloader(session, progress_bar)</div>
<div class="line"><span class="lineno">  238</span>        self._batch_download = BatchDownloader(session, progress_bar)</div>
<div class="line"><span class="lineno">  239</span>        self.finder = finder</div>
<div class="line"><span class="lineno">  240</span> </div>
<div class="line"><span class="lineno">  241</span>        <span class="comment"># Where still-packed archives should be written to. If None, they are</span></div>
<div class="line"><span class="lineno">  242</span>        <span class="comment"># not saved, and are deleted immediately after unpacking.</span></div>
<div class="line"><span class="lineno">  243</span>        self.download_dir = download_dir</div>
<div class="line"><span class="lineno">  244</span> </div>
<div class="line"><span class="lineno">  245</span>        <span class="comment"># Is build isolation allowed?</span></div>
<div class="line"><span class="lineno">  246</span>        self.build_isolation = build_isolation</div>
<div class="line"><span class="lineno">  247</span> </div>
<div class="line"><span class="lineno">  248</span>        <span class="comment"># Should check build dependencies?</span></div>
<div class="line"><span class="lineno">  249</span>        self.check_build_deps = check_build_deps</div>
<div class="line"><span class="lineno">  250</span> </div>
<div class="line"><span class="lineno">  251</span>        <span class="comment"># Should hash-checking be required?</span></div>
<div class="line"><span class="lineno">  252</span>        self.require_hashes = require_hashes</div>
<div class="line"><span class="lineno">  253</span> </div>
<div class="line"><span class="lineno">  254</span>        <span class="comment"># Should install in user site-packages?</span></div>
<div class="line"><span class="lineno">  255</span>        self.use_user_site = use_user_site</div>
<div class="line"><span class="lineno">  256</span> </div>
<div class="line"><span class="lineno">  257</span>        <span class="comment"># Should wheels be downloaded lazily?</span></div>
<div class="line"><span class="lineno">  258</span>        self.use_lazy_wheel = lazy_wheel</div>
<div class="line"><span class="lineno">  259</span> </div>
<div class="line"><span class="lineno">  260</span>        <span class="comment"># How verbose should underlying tooling be?</span></div>
<div class="line"><span class="lineno">  261</span>        self.verbosity = verbosity</div>
<div class="line"><span class="lineno">  262</span> </div>
<div class="line"><span class="lineno">  263</span>        <span class="comment"># Are we using the legacy resolver?</span></div>
<div class="line"><span class="lineno">  264</span>        self.legacy_resolver = legacy_resolver</div>
<div class="line"><span class="lineno">  265</span> </div>
<div class="line"><span class="lineno">  266</span>        <span class="comment"># Memoized downloaded files, as mapping of url: path.</span></div>
<div class="line"><span class="lineno">  267</span>        self._downloaded: Dict[str, str] = {}</div>
<div class="line"><span class="lineno">  268</span> </div>
<div class="line"><span class="lineno">  269</span>        <span class="comment"># Previous &quot;header&quot; printed for a link-based InstallRequirement</span></div>
<div class="line"><span class="lineno">  270</span>        self._previous_requirement_header = (<span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  271</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/d37/prepare_8py_source.html#l00230">__init__()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d37/prepare_8py_source.html#l00230">__init__()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_ac96062a99a29e6cf326bb6d3a78425bb_cgraph.png" border="0" usemap="#ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_ac96062a99a29e6cf326bb6d3a78425bb_cgraph" loading="lazy" alt=""/></div>
<map name="ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_ac96062a99a29e6cf326bb6d3a78425bb_cgraph" id="ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_ac96062a99a29e6cf326bb6d3a78425bb_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,72,56"/>
<area shape="poly" title=" " alt="" coords="25,29,25,12,30,5,39,3,48,5,52,12,48,15,44,10,38,8,33,10,30,14,31,29"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_ac96062a99a29e6cf326bb6d3a78425bb_icgraph.png" border="0" usemap="#ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_ac96062a99a29e6cf326bb6d3a78425bb_icgraph" loading="lazy" alt=""/></div>
<map name="ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_ac96062a99a29e6cf326bb6d3a78425bb_icgraph" id="ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_ac96062a99a29e6cf326bb6d3a78425bb_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,72,56"/>
<area shape="poly" title=" " alt="" coords="48,15,44,10,38,8,33,10,30,14,31,29,25,29,25,12,30,5,39,3,48,5,52,12"/>
</map>
</div>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="afa78a700282134e31b92dde6cebb7be2" name="afa78a700282134e31b92dde6cebb7be2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa78a700282134e31b92dde6cebb7be2">&#9670;&#160;</a></span>_complete_partial_requirements()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> None _complete_partial_requirements </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Iterable[<a class="el" href="../../d2/daa/classpip_1_1__internal_1_1req_1_1req__install_1_1_install_requirement.html">InstallRequirement</a>]</td>          <td class="paramname"><span class="paramname"><em>partially_downloaded_reqs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool </td>          <td class="paramname"><span class="paramname"><em>parallel_builds</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Download any requirements which were only fetched by metadata.</pre> 
<p class="definition">Definition at line <a class="el" href="../../d5/d37/prepare_8py_source.html#l00457">457</a> of file <a class="el" href="../../d5/d37/prepare_8py_source.html">prepare.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  461</span>    ) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  462</span>        <span class="stringliteral">&quot;&quot;&quot;Download any requirements which were only fetched by metadata.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  463</span>        <span class="comment"># Download to a temporary directory. These will be copied over as</span></div>
<div class="line"><span class="lineno">  464</span>        <span class="comment"># needed for downstream &#39;download&#39;, &#39;wheel&#39;, and &#39;install&#39; commands.</span></div>
<div class="line"><span class="lineno">  465</span>        temp_dir = TempDirectory(kind=<span class="stringliteral">&quot;unpack&quot;</span>, globally_managed=<span class="keyword">True</span>).path</div>
<div class="line"><span class="lineno">  466</span> </div>
<div class="line"><span class="lineno">  467</span>        <span class="comment"># Map each link to the requirement that owns it. This allows us to set</span></div>
<div class="line"><span class="lineno">  468</span>        <span class="comment"># `req.local_file_path` on the appropriate requirement after passing</span></div>
<div class="line"><span class="lineno">  469</span>        <span class="comment"># all the links at once into BatchDownloader.</span></div>
<div class="line"><span class="lineno">  470</span>        links_to_fully_download: Dict[Link, InstallRequirement] = {}</div>
<div class="line"><span class="lineno">  471</span>        <span class="keywordflow">for</span> req <span class="keywordflow">in</span> partially_downloaded_reqs:</div>
<div class="line"><span class="lineno">  472</span>            <span class="keyword">assert</span> req.link</div>
<div class="line"><span class="lineno">  473</span>            links_to_fully_download[req.link] = req</div>
<div class="line"><span class="lineno">  474</span> </div>
<div class="line"><span class="lineno">  475</span>        batch_download = self._batch_download(</div>
<div class="line"><span class="lineno">  476</span>            links_to_fully_download.keys(),</div>
<div class="line"><span class="lineno">  477</span>            temp_dir,</div>
<div class="line"><span class="lineno">  478</span>        )</div>
<div class="line"><span class="lineno">  479</span>        <span class="keywordflow">for</span> link, (filepath, _) <span class="keywordflow">in</span> batch_download:</div>
<div class="line"><span class="lineno">  480</span>            logger.debug(<span class="stringliteral">&quot;Downloading link %s to %s&quot;</span>, link, filepath)</div>
<div class="line"><span class="lineno">  481</span>            req = links_to_fully_download[link]</div>
<div class="line"><span class="lineno">  482</span>            req.local_file_path = filepath</div>
<div class="line"><span class="lineno">  483</span>            <span class="comment"># TODO: This needs fixing for sdists</span></div>
<div class="line"><span class="lineno">  484</span>            <span class="comment"># This is an emergency fix for #11847, which reports that</span></div>
<div class="line"><span class="lineno">  485</span>            <span class="comment"># distributions get downloaded twice when metadata is loaded</span></div>
<div class="line"><span class="lineno">  486</span>            <span class="comment"># from a PEP 658 standalone metadata file. Setting _downloaded</span></div>
<div class="line"><span class="lineno">  487</span>            <span class="comment"># fixes this for wheels, but breaks the sdist case (tests</span></div>
<div class="line"><span class="lineno">  488</span>            <span class="comment"># test_download_metadata). As PyPI is currently only serving</span></div>
<div class="line"><span class="lineno">  489</span>            <span class="comment"># metadata for wheels, this is not an immediate issue.</span></div>
<div class="line"><span class="lineno">  490</span>            <span class="comment"># Fixing the problem properly looks like it will require a</span></div>
<div class="line"><span class="lineno">  491</span>            <span class="comment"># complete refactoring of the `prepare_linked_requirements_more`</span></div>
<div class="line"><span class="lineno">  492</span>            <span class="comment"># logic, and I haven&#39;t a clue where to start on that, so for now</span></div>
<div class="line"><span class="lineno">  493</span>            <span class="comment"># I have fixed the issue *just* for wheels.</span></div>
<div class="line"><span class="lineno">  494</span>            <span class="keywordflow">if</span> req.is_wheel:</div>
<div class="line"><span class="lineno">  495</span>                self._downloaded[req.link.url] = filepath</div>
<div class="line"><span class="lineno">  496</span> </div>
<div class="line"><span class="lineno">  497</span>        <span class="comment"># This step is necessary to ensure all lazy wheels are processed</span></div>
<div class="line"><span class="lineno">  498</span>        <span class="comment"># successfully by the &#39;download&#39;, &#39;wheel&#39;, and &#39;install&#39; commands.</span></div>
<div class="line"><span class="lineno">  499</span>        <span class="keywordflow">for</span> req <span class="keywordflow">in</span> partially_downloaded_reqs:</div>
<div class="line"><span class="lineno">  500</span>            self._prepare_linked_requirement(req, parallel_builds)</div>
<div class="line"><span class="lineno">  501</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/d37/prepare_8py_source.html#l00238">_batch_download</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00267">_downloaded</a>, and <a class="el" href="../../d5/d37/prepare_8py_source.html#l00572">_prepare_linked_requirement()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d37/prepare_8py_source.html#l00542">prepare_linked_requirements_more()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_afa78a700282134e31b92dde6cebb7be2_cgraph.png" border="0" usemap="#ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_afa78a700282134e31b92dde6cebb7be2_cgraph" loading="lazy" alt=""/></div>
<map name="ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_afa78a700282134e31b92dde6cebb7be2_cgraph" id="ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_afa78a700282134e31b92dde6cebb7be2_cgraph">
<area shape="rect" title=" " alt="" coords="5,85,211,112"/>
<area shape="rect" href="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer.html#a9a1ef358ce86a6fc2be046a02fac1ef6" title=" " alt="" coords="259,85,446,112"/>
<area shape="poly" title=" " alt="" coords="211,96,243,96,243,101,211,101"/>
<area shape="rect" href="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer.html#aaead613234005c8371711adc58831a97" title=" " alt="" coords="546,5,711,32"/>
<area shape="poly" title=" " alt="" coords="383,82,434,62,493,41,530,32,532,37,495,47,436,67,385,87"/>
<area shape="rect" href="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer.html#ac38b277ed8c5bce58ddd4b9a56096f7e" title=" " alt="" coords="548,56,709,83"/>
<area shape="poly" title=" " alt="" coords="446,86,532,77,533,82,447,91"/>
<area shape="rect" href="../../d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare.html#a50d04d2aa7d48d3f0bc3d7c5d1adc70c" title=" " alt="" coords="526,107,732,149"/>
<area shape="poly" title=" " alt="" coords="447,106,511,113,510,118,446,111"/>
<area shape="rect" href="../../d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare.html#a1a3925c4e6f1099f2271b742001ee3f6" title=" " alt="" coords="494,173,763,200"/>
<area shape="poly" title=" " alt="" coords="381,110,433,135,495,159,524,167,523,172,493,164,431,140,379,115"/>
<area shape="rect" href="../../d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare.html#a2057fa0618c2bf62bdae19d68f10cd86" title=" " alt="" coords="823,99,1048,141"/>
<area shape="poly" title=" " alt="" coords="706,170,763,159,832,143,833,148,764,164,708,175"/>
<area shape="rect" href="../../d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare.html#a0baa6de1885d0a6d80c29c3c9abe069b" title=" " alt="" coords="823,165,1048,208"/>
<area shape="poly" title=" " alt="" coords="764,184,808,184,808,189,764,189"/>
<area shape="rect" href="../../d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare.html#af52c74043600268370be25d7ef4cc0b5" title=" " alt="" coords="811,232,1060,275"/>
<area shape="poly" title=" " alt="" coords="694,198,820,226,819,231,693,203"/>
<area shape="rect" href="../../d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare.html#aa46bb38e7bb428fb970fe837e38564c8" title=" " alt="" coords="1108,132,1314,175"/>
<area shape="poly" title=" " alt="" coords="1048,131,1093,136,1092,142,1048,136"/>
<area shape="poly" title=" " alt="" coords="1048,170,1092,165,1093,170,1048,176"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_afa78a700282134e31b92dde6cebb7be2_icgraph.png" border="0" usemap="#ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_afa78a700282134e31b92dde6cebb7be2_icgraph" loading="lazy" alt=""/></div>
<map name="ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_afa78a700282134e31b92dde6cebb7be2_icgraph" id="ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_afa78a700282134e31b92dde6cebb7be2_icgraph">
<area shape="rect" title=" " alt="" coords="277,5,482,32"/>
<area shape="rect" href="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer.html#ab4db8e2c941570f3fa77d89e6a5f8c32" title=" " alt="" coords="5,5,229,32"/>
<area shape="poly" title=" " alt="" coords="261,21,229,21,229,16,261,16"/>
</map>
</div>

</div>
</div>
<a id="aaead613234005c8371711adc58831a97" name="aaead613234005c8371711adc58831a97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaead613234005c8371711adc58831a97">&#9670;&#160;</a></span>_ensure_link_req_src_dir()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> None _ensure_link_req_src_dir </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/daa/classpip_1_1__internal_1_1req_1_1req__install_1_1_install_requirement.html">InstallRequirement</a></td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool
    </td>          <td class="paramname"><span class="paramname"><em>parallel_builds</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Ensure source_dir of a linked InstallRequirement.</pre> 
<p class="definition">Definition at line <a class="el" href="../../d5/d37/prepare_8py_source.html#l00299">299</a> of file <a class="el" href="../../d5/d37/prepare_8py_source.html">prepare.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  301</span>    ) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  302</span>        <span class="stringliteral">&quot;&quot;&quot;Ensure source_dir of a linked InstallRequirement.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  303</span>        <span class="comment"># Since source_dir is only set for editable requirements.</span></div>
<div class="line"><span class="lineno">  304</span>        <span class="keywordflow">if</span> req.link.is_wheel:</div>
<div class="line"><span class="lineno">  305</span>            <span class="comment"># We don&#39;t need to unpack wheels, so no need for a source</span></div>
<div class="line"><span class="lineno">  306</span>            <span class="comment"># directory.</span></div>
<div class="line"><span class="lineno">  307</span>            <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  308</span>        <span class="keyword">assert</span> req.source_dir <span class="keywordflow">is</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  309</span>        <span class="keywordflow">if</span> req.link.is_existing_dir():</div>
<div class="line"><span class="lineno">  310</span>            <span class="comment"># build local directories in-tree</span></div>
<div class="line"><span class="lineno">  311</span>            req.source_dir = req.link.file_path</div>
<div class="line"><span class="lineno">  312</span>            <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  313</span> </div>
<div class="line"><span class="lineno">  314</span>        <span class="comment"># We always delete unpacked sdists after pip runs.</span></div>
<div class="line"><span class="lineno">  315</span>        req.ensure_has_source_dir(</div>
<div class="line"><span class="lineno">  316</span>            self.build_dir,</div>
<div class="line"><span class="lineno">  317</span>            autodelete=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno">  318</span>            parallel_builds=parallel_builds,</div>
<div class="line"><span class="lineno">  319</span>        )</div>
<div class="line"><span class="lineno">  320</span> </div>
<div class="line"><span class="lineno">  321</span>        <span class="comment"># If a checkout exists, it&#39;s unwise to keep going.  version</span></div>
<div class="line"><span class="lineno">  322</span>        <span class="comment"># inconsistencies are logged later, but do not fail the</span></div>
<div class="line"><span class="lineno">  323</span>        <span class="comment"># installation.</span></div>
<div class="line"><span class="lineno">  324</span>        <span class="comment"># FIXME: this won&#39;t upgrade when there&#39;s an existing</span></div>
<div class="line"><span class="lineno">  325</span>        <span class="comment"># package unpacked in `req.source_dir`</span></div>
<div class="line"><span class="lineno">  326</span>        <span class="comment"># TODO: this check is now probably dead code</span></div>
<div class="line"><span class="lineno">  327</span>        <span class="keywordflow">if</span> is_installable_dir(req.source_dir):</div>
<div class="line"><span class="lineno">  328</span>            <span class="keywordflow">raise</span> PreviousBuildDirError(</div>
<div class="line"><span class="lineno">  329</span>                <span class="stringliteral">&quot;pip can&#39;t proceed with requirements &#39;{}&#39; due to a&quot;</span></div>
<div class="line"><span class="lineno">  330</span>                <span class="stringliteral">&quot;pre-existing build directory ({}). This is likely &quot;</span></div>
<div class="line"><span class="lineno">  331</span>                <span class="stringliteral">&quot;due to a previous installation that failed . pip is &quot;</span></div>
<div class="line"><span class="lineno">  332</span>                <span class="stringliteral">&quot;being responsible and not assuming it can delete this. &quot;</span></div>
<div class="line"><span class="lineno">  333</span>                <span class="stringliteral">&quot;Please delete it and try again.&quot;</span>.format(req, req.source_dir)</div>
<div class="line"><span class="lineno">  334</span>            )</div>
<div class="line"><span class="lineno">  335</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/d37/prepare_8py_source.html#l00234">build_dir</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d37/prepare_8py_source.html#l00572">_prepare_linked_requirement()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_aaead613234005c8371711adc58831a97_icgraph.png" border="0" usemap="#ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_aaead613234005c8371711adc58831a97_icgraph" loading="lazy" alt=""/></div>
<map name="ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_aaead613234005c8371711adc58831a97_icgraph" id="ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_aaead613234005c8371711adc58831a97_icgraph">
<area shape="rect" title=" " alt="" coords="765,56,931,83"/>
<area shape="rect" href="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer.html#a9a1ef358ce86a6fc2be046a02fac1ef6" title=" " alt="" coords="530,56,717,83"/>
<area shape="poly" title=" " alt="" coords="749,72,718,72,718,67,749,67"/>
<area shape="rect" href="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer.html#afa78a700282134e31b92dde6cebb7be2" title=" " alt="" coords="277,5,482,32"/>
<area shape="poly" title=" " alt="" coords="540,55,447,35,448,30,542,50"/>
<area shape="rect" href="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer.html#ab4db8e2c941570f3fa77d89e6a5f8c32" title=" " alt="" coords="5,31,229,57"/>
<area shape="poly" title=" " alt="" coords="514,67,229,52,229,47,515,61"/>
<area shape="rect" href="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer.html#af59be772057fb1ecc888032debfd2c0c" title=" " alt="" coords="289,107,470,133"/>
<area shape="poly" title=" " alt="" coords="542,89,448,109,447,103,540,84"/>
<area shape="poly" title=" " alt="" coords="261,33,229,36,229,31,261,27"/>
</map>
</div>

</div>
</div>
<a id="aef60afee31059ebdf0cea6cf4e590f37" name="aef60afee31059ebdf0cea6cf4e590f37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef60afee31059ebdf0cea6cf4e590f37">&#9670;&#160;</a></span>_fetch_metadata_only()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> Optional[<a class="el" href="../../d7/d34/classpip_1_1__internal_1_1metadata_1_1base_1_1_base_distribution.html">BaseDistribution</a>] _fetch_metadata_only </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/daa/classpip_1_1__internal_1_1req_1_1req__install_1_1_install_requirement.html">InstallRequirement</a></td>          <td class="paramname"><span class="paramname"><em>req</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d37/prepare_8py_source.html#l00368">368</a> of file <a class="el" href="../../d5/d37/prepare_8py_source.html">prepare.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  371</span>    ) -&gt; Optional[BaseDistribution]:</div>
<div class="line"><span class="lineno">  372</span>        <span class="keywordflow">if</span> self.legacy_resolver:</div>
<div class="line"><span class="lineno">  373</span>            logger.debug(</div>
<div class="line"><span class="lineno">  374</span>                <span class="stringliteral">&quot;Metadata-only fetching is not used in the legacy resolver&quot;</span>,</div>
<div class="line"><span class="lineno">  375</span>            )</div>
<div class="line"><span class="lineno">  376</span>            <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  377</span>        <span class="keywordflow">if</span> self.require_hashes:</div>
<div class="line"><span class="lineno">  378</span>            logger.debug(</div>
<div class="line"><span class="lineno">  379</span>                <span class="stringliteral">&quot;Metadata-only fetching is not used as hash checking is required&quot;</span>,</div>
<div class="line"><span class="lineno">  380</span>            )</div>
<div class="line"><span class="lineno">  381</span>            <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  382</span>        <span class="comment"># Try PEP 658 metadata first, then fall back to lazy wheel if unavailable.</span></div>
<div class="line"><span class="lineno">  383</span>        <span class="keywordflow">return</span> self._fetch_metadata_using_link_data_attr(</div>
<div class="line"><span class="lineno">  384</span>            req</div>
<div class="line"><span class="lineno">  385</span>        ) <span class="keywordflow">or</span> self._fetch_metadata_using_lazy_wheel(req.link)</div>
<div class="line"><span class="lineno">  386</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/d37/prepare_8py_source.html#l00431">_fetch_metadata_using_lazy_wheel()</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00390">_fetch_metadata_using_link_data_attr()</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00264">legacy_resolver</a>, and <a class="el" href="../../d5/d37/prepare_8py_source.html#l00252">require_hashes</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d37/prepare_8py_source.html#l00504">prepare_linked_requirement()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_aef60afee31059ebdf0cea6cf4e590f37_cgraph.png" border="0" usemap="#ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_aef60afee31059ebdf0cea6cf4e590f37_cgraph" loading="lazy" alt=""/></div>
<map name="ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_aef60afee31059ebdf0cea6cf4e590f37_cgraph" id="ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_aef60afee31059ebdf0cea6cf4e590f37_cgraph">
<area shape="rect" title=" " alt="" coords="5,47,155,73"/>
<area shape="rect" href="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer.html#aab5abba35860328fcf07414da894911e" title=" " alt="" coords="203,5,359,48"/>
<area shape="poly" title=" " alt="" coords="155,45,187,40,188,45,156,50"/>
<area shape="rect" href="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer.html#a78022b7ac5089840c2bb0045c770b350" title=" " alt="" coords="203,72,359,115"/>
<area shape="poly" title=" " alt="" coords="156,70,188,75,187,80,155,75"/>
<area shape="rect" href="../../d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare.html#a0baa6de1885d0a6d80c29c3c9abe069b" title=" " alt="" coords="407,72,631,115"/>
<area shape="poly" title=" " alt="" coords="359,91,392,91,392,96,359,96"/>
<area shape="rect" href="../../d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare.html#aa46bb38e7bb428fb970fe837e38564c8" title=" " alt="" coords="679,72,886,115"/>
<area shape="poly" title=" " alt="" coords="632,91,664,91,664,96,632,96"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_aef60afee31059ebdf0cea6cf4e590f37_icgraph.png" border="0" usemap="#ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_aef60afee31059ebdf0cea6cf4e590f37_icgraph" loading="lazy" alt=""/></div>
<map name="ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_aef60afee31059ebdf0cea6cf4e590f37_icgraph" id="ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_aef60afee31059ebdf0cea6cf4e590f37_icgraph">
<area shape="rect" title=" " alt="" coords="234,5,383,32"/>
<area shape="rect" href="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer.html#af59be772057fb1ecc888032debfd2c0c" title=" " alt="" coords="5,5,186,32"/>
<area shape="poly" title=" " alt="" coords="218,21,186,21,186,16,218,16"/>
</map>
</div>

</div>
</div>
<a id="aab5abba35860328fcf07414da894911e" name="aab5abba35860328fcf07414da894911e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab5abba35860328fcf07414da894911e">&#9670;&#160;</a></span>_fetch_metadata_using_lazy_wheel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> Optional[<a class="el" href="../../d7/d34/classpip_1_1__internal_1_1metadata_1_1base_1_1_base_distribution.html">BaseDistribution</a>] _fetch_metadata_using_lazy_wheel </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/da5/classpip_1_1__internal_1_1models_1_1link_1_1_link.html">Link</a></td>          <td class="paramname"><span class="paramname"><em>link</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Fetch metadata using lazy wheel, if possible.</pre> 
<p class="definition">Definition at line <a class="el" href="../../d5/d37/prepare_8py_source.html#l00428">428</a> of file <a class="el" href="../../d5/d37/prepare_8py_source.html">prepare.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  431</span>    ) -&gt; Optional[BaseDistribution]:</div>
<div class="line"><span class="lineno">  432</span>        <span class="stringliteral">&quot;&quot;&quot;Fetch metadata using lazy wheel, if possible.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  433</span>        <span class="comment"># --use-feature=fast-deps must be provided.</span></div>
<div class="line"><span class="lineno">  434</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> self.use_lazy_wheel:</div>
<div class="line"><span class="lineno">  435</span>            <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  436</span>        <span class="keywordflow">if</span> link.is_file <span class="keywordflow">or</span> <span class="keywordflow">not</span> link.is_wheel:</div>
<div class="line"><span class="lineno">  437</span>            logger.debug(</div>
<div class="line"><span class="lineno">  438</span>                <span class="stringliteral">&quot;Lazy wheel is not used as %r does not point to a remote wheel&quot;</span>,</div>
<div class="line"><span class="lineno">  439</span>                link,</div>
<div class="line"><span class="lineno">  440</span>            )</div>
<div class="line"><span class="lineno">  441</span>            <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  442</span> </div>
<div class="line"><span class="lineno">  443</span>        wheel = Wheel(link.filename)</div>
<div class="line"><span class="lineno">  444</span>        name = canonicalize_name(wheel.name)</div>
<div class="line"><span class="lineno">  445</span>        logger.info(</div>
<div class="line"><span class="lineno">  446</span>            <span class="stringliteral">&quot;Obtaining dependency information from %s %s&quot;</span>,</div>
<div class="line"><span class="lineno">  447</span>            name,</div>
<div class="line"><span class="lineno">  448</span>            wheel.version,</div>
<div class="line"><span class="lineno">  449</span>        )</div>
<div class="line"><span class="lineno">  450</span>        url = link.url.split(<span class="stringliteral">&quot;#&quot;</span>, 1)[0]</div>
<div class="line"><span class="lineno">  451</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  452</span>            <span class="keywordflow">return</span> dist_from_wheel_url(name, url, self._session)</div>
<div class="line"><span class="lineno">  453</span>        <span class="keywordflow">except</span> HTTPRangeRequestUnsupported:</div>
<div class="line"><span class="lineno">  454</span>            logger.debug(<span class="stringliteral">&quot;%s does not support range requests&quot;</span>, url)</div>
<div class="line"><span class="lineno">  455</span>            <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  456</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/dab/req__command_8py_source.html#l00079">SessionCommandMixin._session</a>, <a class="el" href="../../dc/d87/network_2download_8py_source.html#l00159">BatchDownloader._session</a>, <a class="el" href="../../dc/d87/network_2download_8py_source.html#l00128">Downloader._session</a>, <a class="el" href="../../d3/d40/lazy__wheel_8py_source.html#l00055">LazyZipOverHTTP._session</a>, <a class="el" href="../../d6/ddd/xmlrpc_8py_source.html#l00030">PipXmlrpcTransport._session</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00236">_session</a>, and <a class="el" href="../../d5/d37/prepare_8py_source.html#l00258">use_lazy_wheel</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d37/prepare_8py_source.html#l00371">_fetch_metadata_only()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_aab5abba35860328fcf07414da894911e_icgraph.png" border="0" usemap="#ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_aab5abba35860328fcf07414da894911e_icgraph" loading="lazy" alt=""/></div>
<map name="ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_aab5abba35860328fcf07414da894911e_icgraph" id="ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_aab5abba35860328fcf07414da894911e_icgraph">
<area shape="rect" title=" " alt="" coords="431,5,587,48"/>
<area shape="rect" href="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer.html#aef60afee31059ebdf0cea6cf4e590f37" title=" " alt="" coords="234,13,383,40"/>
<area shape="poly" title=" " alt="" coords="415,29,383,29,383,24,415,24"/>
<area shape="rect" href="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer.html#af59be772057fb1ecc888032debfd2c0c" title=" " alt="" coords="5,13,186,40"/>
<area shape="poly" title=" " alt="" coords="218,29,186,29,186,24,218,24"/>
</map>
</div>

</div>
</div>
<a id="a78022b7ac5089840c2bb0045c770b350" name="a78022b7ac5089840c2bb0045c770b350"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78022b7ac5089840c2bb0045c770b350">&#9670;&#160;</a></span>_fetch_metadata_using_link_data_attr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> Optional[<a class="el" href="../../d7/d34/classpip_1_1__internal_1_1metadata_1_1base_1_1_base_distribution.html">BaseDistribution</a>] _fetch_metadata_using_link_data_attr </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/daa/classpip_1_1__internal_1_1req_1_1req__install_1_1_install_requirement.html">InstallRequirement</a></td>          <td class="paramname"><span class="paramname"><em>req</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Fetch metadata from the data-dist-info-metadata attribute, if possible.</pre> 
<p class="definition">Definition at line <a class="el" href="../../d5/d37/prepare_8py_source.html#l00387">387</a> of file <a class="el" href="../../d5/d37/prepare_8py_source.html">prepare.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  390</span>    ) -&gt; Optional[BaseDistribution]:</div>
<div class="line"><span class="lineno">  391</span>        <span class="stringliteral">&quot;&quot;&quot;Fetch metadata from the data-dist-info-metadata attribute, if possible.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  392</span>        <span class="comment"># (1) Get the link to the metadata file, if provided by the backend.</span></div>
<div class="line"><span class="lineno">  393</span>        metadata_link = req.link.metadata_link()</div>
<div class="line"><span class="lineno">  394</span>        <span class="keywordflow">if</span> metadata_link <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  395</span>            <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  396</span>        <span class="keyword">assert</span> req.req <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  397</span>        logger.info(</div>
<div class="line"><span class="lineno">  398</span>            <span class="stringliteral">&quot;Obtaining dependency information for %s from %s&quot;</span>,</div>
<div class="line"><span class="lineno">  399</span>            req.req,</div>
<div class="line"><span class="lineno">  400</span>            metadata_link,</div>
<div class="line"><span class="lineno">  401</span>        )</div>
<div class="line"><span class="lineno">  402</span>        <span class="comment"># (2) Download the contents of the METADATA file, separate from the dist itself.</span></div>
<div class="line"><span class="lineno">  403</span>        metadata_file = get_http_url(</div>
<div class="line"><span class="lineno">  404</span>            metadata_link,</div>
<div class="line"><span class="lineno">  405</span>            self._download,</div>
<div class="line"><span class="lineno">  406</span>            hashes=metadata_link.as_hashes(),</div>
<div class="line"><span class="lineno">  407</span>        )</div>
<div class="line"><span class="lineno">  408</span>        <span class="keyword">with</span> open(metadata_file.path, <span class="stringliteral">&quot;rb&quot;</span>) <span class="keyword">as</span> f:</div>
<div class="line"><span class="lineno">  409</span>            metadata_contents = f.read()</div>
<div class="line"><span class="lineno">  410</span>        <span class="comment"># (3) Generate a dist just from those file contents.</span></div>
<div class="line"><span class="lineno">  411</span>        metadata_dist = get_metadata_distribution(</div>
<div class="line"><span class="lineno">  412</span>            metadata_contents,</div>
<div class="line"><span class="lineno">  413</span>            req.link.filename,</div>
<div class="line"><span class="lineno">  414</span>            req.req.name,</div>
<div class="line"><span class="lineno">  415</span>        )</div>
<div class="line"><span class="lineno">  416</span>        <span class="comment"># (4) Ensure the Name: field from the METADATA file matches the name from the</span></div>
<div class="line"><span class="lineno">  417</span>        <span class="comment">#     install requirement.</span></div>
<div class="line"><span class="lineno">  418</span>        <span class="comment">#</span></div>
<div class="line"><span class="lineno">  419</span>        <span class="comment">#     NB: raw_name will fall back to the name from the install requirement if</span></div>
<div class="line"><span class="lineno">  420</span>        <span class="comment">#     the Name: field is not present, but it&#39;s noted in the raw_name docstring</span></div>
<div class="line"><span class="lineno">  421</span>        <span class="comment">#     that that should NEVER happen anyway.</span></div>
<div class="line"><span class="lineno">  422</span>        <span class="keywordflow">if</span> canonicalize_name(metadata_dist.raw_name) != canonicalize_name(req.req.name):</div>
<div class="line"><span class="lineno">  423</span>            <span class="keywordflow">raise</span> MetadataInconsistent(</div>
<div class="line"><span class="lineno">  424</span>                req, <span class="stringliteral">&quot;Name&quot;</span>, req.req.name, metadata_dist.raw_name</div>
<div class="line"><span class="lineno">  425</span>            )</div>
<div class="line"><span class="lineno">  426</span>        <span class="keywordflow">return</span> metadata_dist</div>
<div class="line"><span class="lineno">  427</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/d37/prepare_8py_source.html#l00237">_download</a>, and <a class="el" href="../../d5/d37/prepare_8py_source.html#l00095">pip._internal.operations.prepare.get_http_url()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d37/prepare_8py_source.html#l00371">_fetch_metadata_only()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_a78022b7ac5089840c2bb0045c770b350_cgraph.png" border="0" usemap="#ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_a78022b7ac5089840c2bb0045c770b350_cgraph" loading="lazy" alt=""/></div>
<map name="ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_a78022b7ac5089840c2bb0045c770b350_cgraph" id="ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_a78022b7ac5089840c2bb0045c770b350_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,162,48"/>
<area shape="rect" href="../../d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare.html#a0baa6de1885d0a6d80c29c3c9abe069b" title=" " alt="" coords="210,5,434,48"/>
<area shape="poly" title=" " alt="" coords="162,24,194,24,194,29,162,29"/>
<area shape="rect" href="../../d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare.html#aa46bb38e7bb428fb970fe837e38564c8" title=" " alt="" coords="482,5,688,48"/>
<area shape="poly" title=" " alt="" coords="434,24,467,24,467,29,434,29"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_a78022b7ac5089840c2bb0045c770b350_icgraph.png" border="0" usemap="#ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_a78022b7ac5089840c2bb0045c770b350_icgraph" loading="lazy" alt=""/></div>
<map name="ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_a78022b7ac5089840c2bb0045c770b350_icgraph" id="ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_a78022b7ac5089840c2bb0045c770b350_icgraph">
<area shape="rect" title=" " alt="" coords="431,5,587,48"/>
<area shape="rect" href="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer.html#aef60afee31059ebdf0cea6cf4e590f37" title=" " alt="" coords="234,13,383,40"/>
<area shape="poly" title=" " alt="" coords="415,29,383,29,383,24,415,24"/>
<area shape="rect" href="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer.html#af59be772057fb1ecc888032debfd2c0c" title=" " alt="" coords="5,13,186,40"/>
<area shape="poly" title=" " alt="" coords="218,29,186,29,186,24,218,24"/>
</map>
</div>

</div>
</div>
<a id="ac38b277ed8c5bce58ddd4b9a56096f7e" name="ac38b277ed8c5bce58ddd4b9a56096f7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac38b277ed8c5bce58ddd4b9a56096f7e">&#9670;&#160;</a></span>_get_linked_req_hashes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> <a class="el" href="../../de/def/classpip_1_1__internal_1_1utils_1_1hashes_1_1_hashes.html">Hashes</a> _get_linked_req_hashes </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/daa/classpip_1_1__internal_1_1req_1_1req__install_1_1_install_requirement.html">InstallRequirement</a></td>          <td class="paramname"><span class="paramname"><em>req</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d37/prepare_8py_source.html#l00336">336</a> of file <a class="el" href="../../d5/d37/prepare_8py_source.html">prepare.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  336</span>    <span class="keyword">def </span>_get_linked_req_hashes(self, req: InstallRequirement) -&gt; Hashes:</div>
<div class="line"><span class="lineno">  337</span>        <span class="comment"># By the time this is called, the requirement&#39;s link should have</span></div>
<div class="line"><span class="lineno">  338</span>        <span class="comment"># been checked so we can tell what kind of requirements req is</span></div>
<div class="line"><span class="lineno">  339</span>        <span class="comment"># and raise some more informative errors than otherwise.</span></div>
<div class="line"><span class="lineno">  340</span>        <span class="comment"># (For example, we can raise VcsHashUnsupported for a VCS URL</span></div>
<div class="line"><span class="lineno">  341</span>        <span class="comment"># rather than HashMissing.)</span></div>
<div class="line"><span class="lineno">  342</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> self.require_hashes:</div>
<div class="line"><span class="lineno">  343</span>            <span class="keywordflow">return</span> req.hashes(trust_internet=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  344</span> </div>
<div class="line"><span class="lineno">  345</span>        <span class="comment"># We could check these first 2 conditions inside unpack_url</span></div>
<div class="line"><span class="lineno">  346</span>        <span class="comment"># and save repetition of conditions, but then we would</span></div>
<div class="line"><span class="lineno">  347</span>        <span class="comment"># report less-useful error messages for unhashable</span></div>
<div class="line"><span class="lineno">  348</span>        <span class="comment"># requirements, complaining that there&#39;s no hash provided.</span></div>
<div class="line"><span class="lineno">  349</span>        <span class="keywordflow">if</span> req.link.is_vcs:</div>
<div class="line"><span class="lineno">  350</span>            <span class="keywordflow">raise</span> VcsHashUnsupported()</div>
<div class="line"><span class="lineno">  351</span>        <span class="keywordflow">if</span> req.link.is_existing_dir():</div>
<div class="line"><span class="lineno">  352</span>            <span class="keywordflow">raise</span> DirectoryUrlHashUnsupported()</div>
<div class="line"><span class="lineno">  353</span> </div>
<div class="line"><span class="lineno">  354</span>        <span class="comment"># Unpinned packages are asking for trouble when a new version</span></div>
<div class="line"><span class="lineno">  355</span>        <span class="comment"># is uploaded.  This isn&#39;t a security check, but it saves users</span></div>
<div class="line"><span class="lineno">  356</span>        <span class="comment"># a surprising hash mismatch in the future.</span></div>
<div class="line"><span class="lineno">  357</span>        <span class="comment"># file:/// URLs aren&#39;t pinnable, so don&#39;t complain about them</span></div>
<div class="line"><span class="lineno">  358</span>        <span class="comment"># not being pinned.</span></div>
<div class="line"><span class="lineno">  359</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> req.is_direct <span class="keywordflow">and</span> <span class="keywordflow">not</span> req.is_pinned:</div>
<div class="line"><span class="lineno">  360</span>            <span class="keywordflow">raise</span> HashUnpinned()</div>
<div class="line"><span class="lineno">  361</span> </div>
<div class="line"><span class="lineno">  362</span>        <span class="comment"># If known-good hashes are missing for this requirement,</span></div>
<div class="line"><span class="lineno">  363</span>        <span class="comment"># shim it with a facade object that will provoke hash</span></div>
<div class="line"><span class="lineno">  364</span>        <span class="comment"># computation and then raise a HashMissing exception</span></div>
<div class="line"><span class="lineno">  365</span>        <span class="comment"># showing the user what the hash should be.</span></div>
<div class="line"><span class="lineno">  366</span>        <span class="keywordflow">return</span> req.hashes(trust_internet=<span class="keyword">False</span>) <span class="keywordflow">or</span> MissingHashes()</div>
<div class="line"><span class="lineno">  367</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/d37/prepare_8py_source.html#l00252">require_hashes</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d37/prepare_8py_source.html#l00572">_prepare_linked_requirement()</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00504">prepare_linked_requirement()</a>, and <a class="el" href="../../d5/d37/prepare_8py_source.html#l00542">prepare_linked_requirements_more()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_ac38b277ed8c5bce58ddd4b9a56096f7e_icgraph.png" border="0" usemap="#ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_ac38b277ed8c5bce58ddd4b9a56096f7e_icgraph" loading="lazy" alt=""/></div>
<map name="ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_ac38b277ed8c5bce58ddd4b9a56096f7e_icgraph" id="ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_ac38b277ed8c5bce58ddd4b9a56096f7e_icgraph">
<area shape="rect" title=" " alt="" coords="765,107,927,133"/>
<area shape="rect" href="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer.html#a9a1ef358ce86a6fc2be046a02fac1ef6" title=" " alt="" coords="530,56,717,83"/>
<area shape="poly" title=" " alt="" coords="769,105,685,86,686,81,770,100"/>
<area shape="rect" href="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer.html#ab4db8e2c941570f3fa77d89e6a5f8c32" title=" " alt="" coords="5,56,229,83"/>
<area shape="poly" title=" " alt="" coords="765,139,666,155,543,166,409,166,342,160,276,148,236,136,198,119,138,85,141,81,200,114,238,131,277,143,342,154,409,161,543,161,665,149,764,134"/>
<area shape="rect" href="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer.html#af59be772057fb1ecc888032debfd2c0c" title=" " alt="" coords="289,107,470,133"/>
<area shape="poly" title=" " alt="" coords="750,123,470,123,470,117,750,117"/>
<area shape="rect" href="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer.html#afa78a700282134e31b92dde6cebb7be2" title=" " alt="" coords="277,5,482,32"/>
<area shape="poly" title=" " alt="" coords="540,55,447,35,448,30,542,50"/>
<area shape="poly" title=" " alt="" coords="515,72,229,72,229,67,515,67"/>
<area shape="poly" title=" " alt="" coords="542,89,448,109,447,103,540,84"/>
<area shape="poly" title=" " alt="" coords="292,38,190,58,189,53,291,33"/>
</map>
</div>

</div>
</div>
<a id="a4e422d87ef693943c5a2d8bbdf6f2813" name="a4e422d87ef693943c5a2d8bbdf6f2813"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e422d87ef693943c5a2d8bbdf6f2813">&#9670;&#160;</a></span>_log_preparing_link()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> None _log_preparing_link </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/daa/classpip_1_1__internal_1_1req_1_1req__install_1_1_install_requirement.html">InstallRequirement</a></td>          <td class="paramname"><span class="paramname"><em>req</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Provide context for the requirement being prepared.</pre> 
<p class="definition">Definition at line <a class="el" href="../../d5/d37/prepare_8py_source.html#l00272">272</a> of file <a class="el" href="../../d5/d37/prepare_8py_source.html">prepare.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  272</span>    <span class="keyword">def </span>_log_preparing_link(self, req: InstallRequirement) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  273</span>        <span class="stringliteral">&quot;&quot;&quot;Provide context for the requirement being prepared.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  274</span>        <span class="keywordflow">if</span> req.link.is_file <span class="keywordflow">and</span> <span class="keywordflow">not</span> req.is_wheel_from_cache:</div>
<div class="line"><span class="lineno">  275</span>            message = <span class="stringliteral">&quot;Processing %s&quot;</span></div>
<div class="line"><span class="lineno">  276</span>            information = str(display_path(req.link.file_path))</div>
<div class="line"><span class="lineno">  277</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  278</span>            message = <span class="stringliteral">&quot;Collecting %s&quot;</span></div>
<div class="line"><span class="lineno">  279</span>            information = str(req.req <span class="keywordflow">or</span> req)</div>
<div class="line"><span class="lineno">  280</span> </div>
<div class="line"><span class="lineno">  281</span>        <span class="comment"># If we used req.req, inject requirement source if available (this</span></div>
<div class="line"><span class="lineno">  282</span>        <span class="comment"># would already be included if we used req directly)</span></div>
<div class="line"><span class="lineno">  283</span>        <span class="keywordflow">if</span> req.req <span class="keywordflow">and</span> req.comes_from:</div>
<div class="line"><span class="lineno">  284</span>            <span class="keywordflow">if</span> isinstance(req.comes_from, str):</div>
<div class="line"><span class="lineno">  285</span>                comes_from: Optional[str] = req.comes_from</div>
<div class="line"><span class="lineno">  286</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  287</span>                comes_from = req.comes_from.from_path()</div>
<div class="line"><span class="lineno">  288</span>            <span class="keywordflow">if</span> comes_from:</div>
<div class="line"><span class="lineno">  289</span>                information += f<span class="stringliteral">&quot; (from {comes_from})&quot;</span></div>
<div class="line"><span class="lineno">  290</span> </div>
<div class="line"><span class="lineno">  291</span>        <span class="keywordflow">if</span> (message, information) != self._previous_requirement_header:</div>
<div class="line"><span class="lineno">  292</span>            self._previous_requirement_header = (message, information)</div>
<div class="line"><span class="lineno">  293</span>            logger.info(message, information)</div>
<div class="line"><span class="lineno">  294</span> </div>
<div class="line"><span class="lineno">  295</span>        <span class="keywordflow">if</span> req.is_wheel_from_cache:</div>
<div class="line"><span class="lineno">  296</span>            <span class="keyword">with</span> indent_log():</div>
<div class="line"><span class="lineno">  297</span>                logger.info(<span class="stringliteral">&quot;Using cached %s&quot;</span>, req.link.filename)</div>
<div class="line"><span class="lineno">  298</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/d37/prepare_8py_source.html#l00270">_previous_requirement_header</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d37/prepare_8py_source.html#l00504">prepare_linked_requirement()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_a4e422d87ef693943c5a2d8bbdf6f2813_icgraph.png" border="0" usemap="#ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_a4e422d87ef693943c5a2d8bbdf6f2813_icgraph" loading="lazy" alt=""/></div>
<map name="ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_a4e422d87ef693943c5a2d8bbdf6f2813_icgraph" id="ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_a4e422d87ef693943c5a2d8bbdf6f2813_icgraph">
<area shape="rect" title=" " alt="" coords="234,5,366,32"/>
<area shape="rect" href="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer.html#af59be772057fb1ecc888032debfd2c0c" title=" " alt="" coords="5,5,186,32"/>
<area shape="poly" title=" " alt="" coords="218,21,186,21,186,16,218,16"/>
</map>
</div>

</div>
</div>
<a id="a9a1ef358ce86a6fc2be046a02fac1ef6" name="a9a1ef358ce86a6fc2be046a02fac1ef6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a1ef358ce86a6fc2be046a02fac1ef6">&#9670;&#160;</a></span>_prepare_linked_requirement()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> <a class="el" href="../../d7/d34/classpip_1_1__internal_1_1metadata_1_1base_1_1_base_distribution.html">BaseDistribution</a> _prepare_linked_requirement </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/daa/classpip_1_1__internal_1_1req_1_1req__install_1_1_install_requirement.html">InstallRequirement</a></td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool
    </td>          <td class="paramname"><span class="paramname"><em>parallel_builds</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d37/prepare_8py_source.html#l00570">570</a> of file <a class="el" href="../../d5/d37/prepare_8py_source.html">prepare.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  572</span>    ) -&gt; BaseDistribution:</div>
<div class="line"><span class="lineno">  573</span>        <span class="keyword">assert</span> req.link</div>
<div class="line"><span class="lineno">  574</span>        link = req.link</div>
<div class="line"><span class="lineno">  575</span> </div>
<div class="line"><span class="lineno">  576</span>        hashes = self._get_linked_req_hashes(req)</div>
<div class="line"><span class="lineno">  577</span> </div>
<div class="line"><span class="lineno">  578</span>        <span class="keywordflow">if</span> hashes <span class="keywordflow">and</span> req.is_wheel_from_cache:</div>
<div class="line"><span class="lineno">  579</span>            <span class="keyword">assert</span> req.download_info <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  580</span>            <span class="keyword">assert</span> link.is_wheel</div>
<div class="line"><span class="lineno">  581</span>            <span class="keyword">assert</span> link.is_file</div>
<div class="line"><span class="lineno">  582</span>            <span class="comment"># We need to verify hashes, and we have found the requirement in the cache</span></div>
<div class="line"><span class="lineno">  583</span>            <span class="comment"># of locally built wheels.</span></div>
<div class="line"><span class="lineno">  584</span>            <span class="keywordflow">if</span> (</div>
<div class="line"><span class="lineno">  585</span>                isinstance(req.download_info.info, ArchiveInfo)</div>
<div class="line"><span class="lineno">  586</span>                <span class="keywordflow">and</span> req.download_info.info.hashes</div>
<div class="line"><span class="lineno">  587</span>                <span class="keywordflow">and</span> hashes.has_one_of(req.download_info.info.hashes)</div>
<div class="line"><span class="lineno">  588</span>            ):</div>
<div class="line"><span class="lineno">  589</span>                <span class="comment"># At this point we know the requirement was built from a hashable source</span></div>
<div class="line"><span class="lineno">  590</span>                <span class="comment"># artifact, and we verified that the cache entry&#39;s hash of the original</span></div>
<div class="line"><span class="lineno">  591</span>                <span class="comment"># artifact matches one of the hashes we expect. We don&#39;t verify hashes</span></div>
<div class="line"><span class="lineno">  592</span>                <span class="comment"># against the cached wheel, because the wheel is not the original.</span></div>
<div class="line"><span class="lineno">  593</span>                hashes = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  594</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  595</span>                logger.warning(</div>
<div class="line"><span class="lineno">  596</span>                    <span class="stringliteral">&quot;The hashes of the source archive found in cache entry &quot;</span></div>
<div class="line"><span class="lineno">  597</span>                    <span class="stringliteral">&quot;don&#39;t match, ignoring cached built wheel &quot;</span></div>
<div class="line"><span class="lineno">  598</span>                    <span class="stringliteral">&quot;and re-downloading source.&quot;</span></div>
<div class="line"><span class="lineno">  599</span>                )</div>
<div class="line"><span class="lineno">  600</span>                req.link = req.cached_wheel_source_link</div>
<div class="line"><span class="lineno">  601</span>                link = req.link</div>
<div class="line"><span class="lineno">  602</span> </div>
<div class="line"><span class="lineno">  603</span>        self._ensure_link_req_src_dir(req, parallel_builds)</div>
<div class="line"><span class="lineno">  604</span> </div>
<div class="line"><span class="lineno">  605</span>        <span class="keywordflow">if</span> link.is_existing_dir():</div>
<div class="line"><span class="lineno">  606</span>            local_file = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  607</span>        <span class="keywordflow">elif</span> link.url <span class="keywordflow">not</span> <span class="keywordflow">in</span> self._downloaded:</div>
<div class="line"><span class="lineno">  608</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  609</span>                local_file = unpack_url(</div>
<div class="line"><span class="lineno">  610</span>                    link,</div>
<div class="line"><span class="lineno">  611</span>                    req.source_dir,</div>
<div class="line"><span class="lineno">  612</span>                    self._download,</div>
<div class="line"><span class="lineno">  613</span>                    self.verbosity,</div>
<div class="line"><span class="lineno">  614</span>                    self.download_dir,</div>
<div class="line"><span class="lineno">  615</span>                    hashes,</div>
<div class="line"><span class="lineno">  616</span>                )</div>
<div class="line"><span class="lineno">  617</span>            <span class="keywordflow">except</span> NetworkConnectionError <span class="keyword">as</span> exc:</div>
<div class="line"><span class="lineno">  618</span>                <span class="keywordflow">raise</span> InstallationError(</div>
<div class="line"><span class="lineno">  619</span>                    <span class="stringliteral">&quot;Could not install requirement {} because of HTTP &quot;</span></div>
<div class="line"><span class="lineno">  620</span>                    <span class="stringliteral">&quot;error {} for URL {}&quot;</span>.format(req, exc, link)</div>
<div class="line"><span class="lineno">  621</span>                )</div>
<div class="line"><span class="lineno">  622</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  623</span>            file_path = self._downloaded[link.url]</div>
<div class="line"><span class="lineno">  624</span>            <span class="keywordflow">if</span> hashes:</div>
<div class="line"><span class="lineno">  625</span>                hashes.check_against_path(file_path)</div>
<div class="line"><span class="lineno">  626</span>            local_file = File(file_path, content_type=<span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  627</span> </div>
<div class="line"><span class="lineno">  628</span>        <span class="comment"># If download_info is set, we got it from the wheel cache.</span></div>
<div class="line"><span class="lineno">  629</span>        <span class="keywordflow">if</span> req.download_info <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  630</span>            <span class="comment"># Editables don&#39;t go through this function (see</span></div>
<div class="line"><span class="lineno">  631</span>            <span class="comment"># prepare_editable_requirement).</span></div>
<div class="line"><span class="lineno">  632</span>            <span class="keyword">assert</span> <span class="keywordflow">not</span> req.editable</div>
<div class="line"><span class="lineno">  633</span>            req.download_info = direct_url_from_link(link, req.source_dir)</div>
<div class="line"><span class="lineno">  634</span>            <span class="comment"># Make sure we have a hash in download_info. If we got it as part of the</span></div>
<div class="line"><span class="lineno">  635</span>            <span class="comment"># URL, it will have been verified and we can rely on it. Otherwise we</span></div>
<div class="line"><span class="lineno">  636</span>            <span class="comment"># compute it from the downloaded file.</span></div>
<div class="line"><span class="lineno">  637</span>            <span class="comment"># FIXME: https://github.com/pypa/pip/issues/11943</span></div>
<div class="line"><span class="lineno">  638</span>            <span class="keywordflow">if</span> (</div>
<div class="line"><span class="lineno">  639</span>                isinstance(req.download_info.info, ArchiveInfo)</div>
<div class="line"><span class="lineno">  640</span>                <span class="keywordflow">and</span> <span class="keywordflow">not</span> req.download_info.info.hashes</div>
<div class="line"><span class="lineno">  641</span>                <span class="keywordflow">and</span> local_file</div>
<div class="line"><span class="lineno">  642</span>            ):</div>
<div class="line"><span class="lineno">  643</span>                hash = hash_file(local_file.path)[0].hexdigest()</div>
<div class="line"><span class="lineno">  644</span>                <span class="comment"># We populate info.hash for backward compatibility.</span></div>
<div class="line"><span class="lineno">  645</span>                <span class="comment"># This will automatically populate info.hashes.</span></div>
<div class="line"><span class="lineno">  646</span>                req.download_info.info.hash = f<span class="stringliteral">&quot;sha256={hash}&quot;</span></div>
<div class="line"><span class="lineno">  647</span> </div>
<div class="line"><span class="lineno">  648</span>        <span class="comment"># For use in later processing,</span></div>
<div class="line"><span class="lineno">  649</span>        <span class="comment"># preserve the file path on the requirement.</span></div>
<div class="line"><span class="lineno">  650</span>        <span class="keywordflow">if</span> local_file:</div>
<div class="line"><span class="lineno">  651</span>            req.local_file_path = local_file.path</div>
<div class="line"><span class="lineno">  652</span> </div>
<div class="line"><span class="lineno">  653</span>        dist = _get_prepared_distribution(</div>
<div class="line"><span class="lineno">  654</span>            req,</div>
<div class="line"><span class="lineno">  655</span>            self.build_tracker,</div>
<div class="line"><span class="lineno">  656</span>            self.finder,</div>
<div class="line"><span class="lineno">  657</span>            self.build_isolation,</div>
<div class="line"><span class="lineno">  658</span>            self.check_build_deps,</div>
<div class="line"><span class="lineno">  659</span>        )</div>
<div class="line"><span class="lineno">  660</span>        <span class="keywordflow">return</span> dist</div>
<div class="line"><span class="lineno">  661</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/d37/prepare_8py_source.html#l00237">_download</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00267">_downloaded</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00301">_ensure_link_req_src_dir()</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00336">_get_linked_req_hashes()</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00065">pip._internal.operations.prepare._get_prepared_distribution()</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00246">build_isolation</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00235">build_tracker</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00249">check_build_deps</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00243">download_dir</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00239">finder</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00145">pip._internal.operations.prepare.unpack_url()</a>, <a class="el" href="../../dc/d68/base__command_8py_source.html#l00117">Command.verbosity</a>, and <a class="el" href="../../d5/d37/prepare_8py_source.html#l00261">verbosity</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d37/prepare_8py_source.html#l00461">_complete_partial_requirements()</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00504">prepare_linked_requirement()</a>, and <a class="el" href="../../d5/d37/prepare_8py_source.html#l00542">prepare_linked_requirements_more()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_a9a1ef358ce86a6fc2be046a02fac1ef6_cgraph.png" border="0" usemap="#ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_a9a1ef358ce86a6fc2be046a02fac1ef6_cgraph" loading="lazy" alt=""/></div>
<map name="ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_a9a1ef358ce86a6fc2be046a02fac1ef6_cgraph" id="ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_a9a1ef358ce86a6fc2be046a02fac1ef6_cgraph">
<area shape="rect" title=" " alt="" coords="5,85,193,112"/>
<area shape="rect" href="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer.html#aaead613234005c8371711adc58831a97" title=" " alt="" coords="293,5,458,32"/>
<area shape="poly" title=" " alt="" coords="130,82,181,62,240,41,277,32,278,37,241,47,183,67,132,87"/>
<area shape="rect" href="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer.html#ac38b277ed8c5bce58ddd4b9a56096f7e" title=" " alt="" coords="295,56,456,83"/>
<area shape="poly" title=" " alt="" coords="193,86,279,77,279,82,193,91"/>
<area shape="rect" href="../../d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare.html#a50d04d2aa7d48d3f0bc3d7c5d1adc70c" title=" " alt="" coords="272,107,478,149"/>
<area shape="poly" title=" " alt="" coords="193,106,257,113,257,118,193,111"/>
<area shape="rect" href="../../d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare.html#a1a3925c4e6f1099f2271b742001ee3f6" title=" " alt="" coords="241,173,510,200"/>
<area shape="poly" title=" " alt="" coords="128,110,180,135,241,159,271,167,269,172,240,164,177,140,125,115"/>
<area shape="rect" href="../../d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare.html#a2057fa0618c2bf62bdae19d68f10cd86" title=" " alt="" coords="570,99,794,141"/>
<area shape="poly" title=" " alt="" coords="453,170,509,159,578,143,580,148,511,164,454,175"/>
<area shape="rect" href="../../d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare.html#a0baa6de1885d0a6d80c29c3c9abe069b" title=" " alt="" coords="570,165,794,208"/>
<area shape="poly" title=" " alt="" coords="511,184,555,184,555,189,511,189"/>
<area shape="rect" href="../../d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare.html#af52c74043600268370be25d7ef4cc0b5" title=" " alt="" coords="558,232,806,275"/>
<area shape="poly" title=" " alt="" coords="441,198,566,226,565,231,440,203"/>
<area shape="rect" href="../../d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare.html#aa46bb38e7bb428fb970fe837e38564c8" title=" " alt="" coords="854,132,1061,175"/>
<area shape="poly" title=" " alt="" coords="795,131,839,136,839,142,794,136"/>
<area shape="poly" title=" " alt="" coords="794,170,839,165,839,170,795,176"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_a9a1ef358ce86a6fc2be046a02fac1ef6_icgraph.png" border="0" usemap="#ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_a9a1ef358ce86a6fc2be046a02fac1ef6_icgraph" loading="lazy" alt=""/></div>
<map name="ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_a9a1ef358ce86a6fc2be046a02fac1ef6_icgraph" id="ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_a9a1ef358ce86a6fc2be046a02fac1ef6_icgraph">
<area shape="rect" title=" " alt="" coords="530,56,717,83"/>
<area shape="rect" href="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer.html#afa78a700282134e31b92dde6cebb7be2" title=" " alt="" coords="277,5,482,32"/>
<area shape="poly" title=" " alt="" coords="540,55,447,35,448,30,542,50"/>
<area shape="rect" href="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer.html#ab4db8e2c941570f3fa77d89e6a5f8c32" title=" " alt="" coords="5,31,229,57"/>
<area shape="poly" title=" " alt="" coords="514,67,229,52,229,47,515,61"/>
<area shape="rect" href="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer.html#af59be772057fb1ecc888032debfd2c0c" title=" " alt="" coords="289,107,470,133"/>
<area shape="poly" title=" " alt="" coords="542,89,448,109,447,103,540,84"/>
<area shape="poly" title=" " alt="" coords="261,33,229,36,229,31,261,27"/>
</map>
</div>

</div>
</div>
<a id="a936c6988ee228114949ff37e8fb01166" name="a936c6988ee228114949ff37e8fb01166"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a936c6988ee228114949ff37e8fb01166">&#9670;&#160;</a></span>prepare_editable_requirement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> <a class="el" href="../../d7/d34/classpip_1_1__internal_1_1metadata_1_1base_1_1_base_distribution.html">BaseDistribution</a> prepare_editable_requirement </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/daa/classpip_1_1__internal_1_1req_1_1req__install_1_1_install_requirement.html">InstallRequirement</a></td>          <td class="paramname"><span class="paramname"><em>req</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Prepare an editable requirement.</pre> 
<p class="definition">Definition at line <a class="el" href="../../d5/d37/prepare_8py_source.html#l00688">688</a> of file <a class="el" href="../../d5/d37/prepare_8py_source.html">prepare.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  691</span>    ) -&gt; BaseDistribution:</div>
<div class="line"><span class="lineno">  692</span>        <span class="stringliteral">&quot;&quot;&quot;Prepare an editable requirement.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  693</span>        <span class="keyword">assert</span> req.editable, <span class="stringliteral">&quot;cannot prepare a non-editable req as editable&quot;</span></div>
<div class="line"><span class="lineno">  694</span> </div>
<div class="line"><span class="lineno">  695</span>        logger.info(<span class="stringliteral">&quot;Obtaining %s&quot;</span>, req)</div>
<div class="line"><span class="lineno">  696</span> </div>
<div class="line"><span class="lineno">  697</span>        <span class="keyword">with</span> indent_log():</div>
<div class="line"><span class="lineno">  698</span>            <span class="keywordflow">if</span> self.require_hashes:</div>
<div class="line"><span class="lineno">  699</span>                <span class="keywordflow">raise</span> InstallationError(</div>
<div class="line"><span class="lineno">  700</span>                    <span class="stringliteral">&quot;The editable requirement {} cannot be installed when &quot;</span></div>
<div class="line"><span class="lineno">  701</span>                    <span class="stringliteral">&quot;requiring hashes, because there is no single file to &quot;</span></div>
<div class="line"><span class="lineno">  702</span>                    <span class="stringliteral">&quot;hash.&quot;</span>.format(req)</div>
<div class="line"><span class="lineno">  703</span>                )</div>
<div class="line"><span class="lineno">  704</span>            req.ensure_has_source_dir(self.src_dir)</div>
<div class="line"><span class="lineno">  705</span>            req.update_editable()</div>
<div class="line"><span class="lineno">  706</span>            <span class="keyword">assert</span> req.source_dir</div>
<div class="line"><span class="lineno">  707</span>            req.download_info = direct_url_for_editable(req.unpacked_source_directory)</div>
<div class="line"><span class="lineno">  708</span> </div>
<div class="line"><span class="lineno">  709</span>            dist = _get_prepared_distribution(</div>
<div class="line"><span class="lineno">  710</span>                req,</div>
<div class="line"><span class="lineno">  711</span>                self.build_tracker,</div>
<div class="line"><span class="lineno">  712</span>                self.finder,</div>
<div class="line"><span class="lineno">  713</span>                self.build_isolation,</div>
<div class="line"><span class="lineno">  714</span>                self.check_build_deps,</div>
<div class="line"><span class="lineno">  715</span>            )</div>
<div class="line"><span class="lineno">  716</span> </div>
<div class="line"><span class="lineno">  717</span>            req.check_if_exists(self.use_user_site)</div>
<div class="line"><span class="lineno">  718</span> </div>
<div class="line"><span class="lineno">  719</span>        <span class="keywordflow">return</span> dist</div>
<div class="line"><span class="lineno">  720</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/d37/prepare_8py_source.html#l00065">pip._internal.operations.prepare._get_prepared_distribution()</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00246">build_isolation</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00235">build_tracker</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00249">check_build_deps</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00239">finder</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00252">require_hashes</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00233">src_dir</a>, and <a class="el" href="../../d5/d37/prepare_8py_source.html#l00255">use_user_site</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_a936c6988ee228114949ff37e8fb01166_cgraph.png" border="0" usemap="#ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_a936c6988ee228114949ff37e8fb01166_cgraph" loading="lazy" alt=""/></div>
<map name="ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_a936c6988ee228114949ff37e8fb01166_cgraph" id="ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_a936c6988ee228114949ff37e8fb01166_cgraph">
<area shape="rect" title=" " alt="" coords="5,13,197,40"/>
<area shape="rect" href="../../d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare.html#a50d04d2aa7d48d3f0bc3d7c5d1adc70c" title=" " alt="" coords="245,5,451,48"/>
<area shape="poly" title=" " alt="" coords="197,24,229,24,229,29,197,29"/>
</map>
</div>

</div>
</div>
<a id="a0f3ce6499532593581cd243b955599d1" name="a0f3ce6499532593581cd243b955599d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f3ce6499532593581cd243b955599d1">&#9670;&#160;</a></span>prepare_installed_requirement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> <a class="el" href="../../d7/d34/classpip_1_1__internal_1_1metadata_1_1base_1_1_base_distribution.html">BaseDistribution</a> prepare_installed_requirement </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/daa/classpip_1_1__internal_1_1req_1_1req__install_1_1_install_requirement.html">InstallRequirement</a></td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>skip_reason</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Prepare an already-installed requirement.</pre> 
<p class="definition">Definition at line <a class="el" href="../../d5/d37/prepare_8py_source.html#l00721">721</a> of file <a class="el" href="../../d5/d37/prepare_8py_source.html">prepare.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  725</span>    ) -&gt; BaseDistribution:</div>
<div class="line"><span class="lineno">  726</span>        <span class="stringliteral">&quot;&quot;&quot;Prepare an already-installed requirement.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  727</span>        <span class="keyword">assert</span> req.satisfied_by, <span class="stringliteral">&quot;req should have been satisfied but isn&#39;t&quot;</span></div>
<div class="line"><span class="lineno">  728</span>        <span class="keyword">assert</span> skip_reason <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>, (</div>
<div class="line"><span class="lineno">  729</span>            <span class="stringliteral">&quot;did not get skip reason skipped but req.satisfied_by &quot;</span></div>
<div class="line"><span class="lineno">  730</span>            <span class="stringliteral">&quot;is set to {}&quot;</span>.format(req.satisfied_by)</div>
<div class="line"><span class="lineno">  731</span>        )</div>
<div class="line"><span class="lineno">  732</span>        logger.info(</div>
<div class="line"><span class="lineno">  733</span>            <span class="stringliteral">&quot;Requirement %s: %s (%s)&quot;</span>, skip_reason, req, req.satisfied_by.version</div>
<div class="line"><span class="lineno">  734</span>        )</div>
<div class="line"><span class="lineno">  735</span>        <span class="keyword">with</span> indent_log():</div>
<div class="line"><span class="lineno">  736</span>            <span class="keywordflow">if</span> self.require_hashes:</div>
<div class="line"><span class="lineno">  737</span>                logger.debug(</div>
<div class="line"><span class="lineno">  738</span>                    <span class="stringliteral">&quot;Since it is already installed, we are trusting this &quot;</span></div>
<div class="line"><span class="lineno">  739</span>                    <span class="stringliteral">&quot;package without checking its hash. To ensure a &quot;</span></div>
<div class="line"><span class="lineno">  740</span>                    <span class="stringliteral">&quot;completely repeatable environment, install into an &quot;</span></div>
<div class="line"><span class="lineno">  741</span>                    <span class="stringliteral">&quot;empty virtualenv.&quot;</span></div>
<div class="line"><span class="lineno">  742</span>                )</div>
<div class="line"><span class="lineno">  743</span>            <span class="keywordflow">return</span> InstalledDistribution(req).get_metadata_distribution()</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/d37/prepare_8py_source.html#l00252">require_hashes</a>.</p>

</div>
</div>
<a id="af59be772057fb1ecc888032debfd2c0c" name="af59be772057fb1ecc888032debfd2c0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af59be772057fb1ecc888032debfd2c0c">&#9670;&#160;</a></span>prepare_linked_requirement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> <a class="el" href="../../d7/d34/classpip_1_1__internal_1_1metadata_1_1base_1_1_base_distribution.html">BaseDistribution</a> prepare_linked_requirement </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/daa/classpip_1_1__internal_1_1req_1_1req__install_1_1_install_requirement.html">InstallRequirement</a></td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool </td>          <td class="paramname"><span class="paramname"><em>parallel_builds</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Prepare a requirement to be obtained from req.link.</pre> 
<p class="definition">Definition at line <a class="el" href="../../d5/d37/prepare_8py_source.html#l00502">502</a> of file <a class="el" href="../../d5/d37/prepare_8py_source.html">prepare.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  504</span>    ) -&gt; BaseDistribution:</div>
<div class="line"><span class="lineno">  505</span>        <span class="stringliteral">&quot;&quot;&quot;Prepare a requirement to be obtained from req.link.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  506</span>        <span class="keyword">assert</span> req.link</div>
<div class="line"><span class="lineno">  507</span>        self._log_preparing_link(req)</div>
<div class="line"><span class="lineno">  508</span>        <span class="keyword">with</span> indent_log():</div>
<div class="line"><span class="lineno">  509</span>            <span class="comment"># Check if the relevant file is already available</span></div>
<div class="line"><span class="lineno">  510</span>            <span class="comment"># in the download directory</span></div>
<div class="line"><span class="lineno">  511</span>            file_path = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  512</span>            <span class="keywordflow">if</span> self.download_dir <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> req.link.is_wheel:</div>
<div class="line"><span class="lineno">  513</span>                hashes = self._get_linked_req_hashes(req)</div>
<div class="line"><span class="lineno">  514</span>                file_path = _check_download_dir(</div>
<div class="line"><span class="lineno">  515</span>                    req.link,</div>
<div class="line"><span class="lineno">  516</span>                    self.download_dir,</div>
<div class="line"><span class="lineno">  517</span>                    hashes,</div>
<div class="line"><span class="lineno">  518</span>                    <span class="comment"># When a locally built wheel has been found in cache, we don&#39;t warn</span></div>
<div class="line"><span class="lineno">  519</span>                    <span class="comment"># about re-downloading when the already downloaded wheel hash does</span></div>
<div class="line"><span class="lineno">  520</span>                    <span class="comment"># not match. This is because the hash must be checked against the</span></div>
<div class="line"><span class="lineno">  521</span>                    <span class="comment"># original link, not the cached link. It that case the already</span></div>
<div class="line"><span class="lineno">  522</span>                    <span class="comment"># downloaded file will be removed and re-fetched from cache (which</span></div>
<div class="line"><span class="lineno">  523</span>                    <span class="comment"># implies a hash check against the cache entry&#39;s origin.json).</span></div>
<div class="line"><span class="lineno">  524</span>                    warn_on_hash_mismatch=<span class="keywordflow">not</span> req.is_wheel_from_cache,</div>
<div class="line"><span class="lineno">  525</span>                )</div>
<div class="line"><span class="lineno">  526</span> </div>
<div class="line"><span class="lineno">  527</span>            <span class="keywordflow">if</span> file_path <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  528</span>                <span class="comment"># The file is already available, so mark it as downloaded</span></div>
<div class="line"><span class="lineno">  529</span>                self._downloaded[req.link.url] = file_path</div>
<div class="line"><span class="lineno">  530</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  531</span>                <span class="comment"># The file is not available, attempt to fetch only metadata</span></div>
<div class="line"><span class="lineno">  532</span>                metadata_dist = self._fetch_metadata_only(req)</div>
<div class="line"><span class="lineno">  533</span>                <span class="keywordflow">if</span> metadata_dist <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  534</span>                    req.needs_more_preparation = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  535</span>                    <span class="keywordflow">return</span> metadata_dist</div>
<div class="line"><span class="lineno">  536</span> </div>
<div class="line"><span class="lineno">  537</span>            <span class="comment"># None of the optimizations worked, fully prepare the requirement</span></div>
<div class="line"><span class="lineno">  538</span>            <span class="keywordflow">return</span> self._prepare_linked_requirement(req, parallel_builds)</div>
<div class="line"><span class="lineno">  539</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/d37/prepare_8py_source.html#l00186">pip._internal.operations.prepare._check_download_dir()</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00267">_downloaded</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00371">_fetch_metadata_only()</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00336">_get_linked_req_hashes()</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00272">_log_preparing_link()</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00572">_prepare_linked_requirement()</a>, and <a class="el" href="../../d5/d37/prepare_8py_source.html#l00243">download_dir</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_af59be772057fb1ecc888032debfd2c0c_cgraph.png" border="0" usemap="#ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_af59be772057fb1ecc888032debfd2c0c_cgraph" loading="lazy" alt=""/></div>
<map name="ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_af59be772057fb1ecc888032debfd2c0c_cgraph" id="ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_af59be772057fb1ecc888032debfd2c0c_cgraph">
<area shape="rect" title=" " alt="" coords="5,134,186,160"/>
<area shape="rect" href="../../d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare.html#aa46bb38e7bb428fb970fe837e38564c8" title=" " alt="" coords="1083,143,1289,186"/>
<area shape="poly" title=" " alt="" coords="116,131,168,100,233,69,297,46,348,32,469,15,604,3,663,5,739,15,846,38,952,70,1047,104,1123,134,1121,139,1045,109,950,75,845,43,738,20,663,11,604,8,469,20,349,37,299,51,235,74,170,104,119,136"/>
<area shape="rect" href="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer.html#aef60afee31059ebdf0cea6cf4e590f37" title=" " alt="" coords="253,83,402,110"/>
<area shape="poly" title=" " alt="" coords="159,131,248,111,249,116,161,136"/>
<area shape="rect" href="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer.html#ac38b277ed8c5bce58ddd4b9a56096f7e" title=" " alt="" coords="523,163,684,190"/>
<area shape="poly" title=" " alt="" coords="186,150,508,168,507,174,186,155"/>
<area shape="rect" href="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer.html#a4e422d87ef693943c5a2d8bbdf6f2813" title=" " alt="" coords="261,184,394,211"/>
<area shape="poly" title=" " alt="" coords="161,158,249,178,248,183,159,164"/>
<area shape="rect" href="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer.html#a9a1ef358ce86a6fc2be046a02fac1ef6" title=" " alt="" coords="234,235,421,262"/>
<area shape="poly" title=" " alt="" coords="119,159,171,189,235,221,254,228,252,233,233,226,168,194,116,163"/>
<area shape="rect" href="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer.html#aab5abba35860328fcf07414da894911e" title=" " alt="" coords="526,30,682,72"/>
<area shape="poly" title=" " alt="" coords="402,82,510,64,511,69,403,87"/>
<area shape="rect" href="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer.html#a78022b7ac5089840c2bb0045c770b350" title=" " alt="" coords="526,96,682,139"/>
<area shape="poly" title=" " alt="" coords="403,100,510,108,510,113,402,105"/>
<area shape="rect" href="../../d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare.html#a0baa6de1885d0a6d80c29c3c9abe069b" title=" " alt="" coords="798,143,1023,186"/>
<area shape="poly" title=" " alt="" coords="683,127,784,142,783,148,682,132"/>
<area shape="poly" title=" " alt="" coords="1023,162,1067,162,1067,167,1023,167"/>
<area shape="poly" title=" " alt="" coords="384,232,420,221,444,210,468,199,507,189,509,194,470,204,446,215,422,226,386,237"/>
<area shape="rect" href="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer.html#aaead613234005c8371711adc58831a97" title=" " alt="" coords="521,214,686,240"/>
<area shape="poly" title=" " alt="" coords="421,239,506,232,506,237,422,244"/>
<area shape="rect" href="../../d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare.html#a50d04d2aa7d48d3f0bc3d7c5d1adc70c" title=" " alt="" coords="500,264,707,307"/>
<area shape="poly" title=" " alt="" coords="422,258,486,267,485,272,421,264"/>
<area shape="rect" href="../../d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare.html#a1a3925c4e6f1099f2271b742001ee3f6" title=" " alt="" coords="469,331,738,358"/>
<area shape="poly" title=" " alt="" coords="352,260,405,289,470,317,497,324,495,330,468,322,403,294,350,265"/>
<area shape="poly" title=" " alt="" coords="717,328,737,317,748,306,755,295,761,271,767,245,784,219,824,191,827,195,788,222,772,247,766,272,760,297,752,309,740,321,720,333"/>
<area shape="rect" href="../../d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare.html#a2057fa0618c2bf62bdae19d68f10cd86" title=" " alt="" coords="798,232,1023,275"/>
<area shape="poly" title=" " alt="" coords="690,328,738,317,844,279,846,284,739,322,692,333"/>
<area shape="rect" href="../../d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare.html#af52c74043600268370be25d7ef4cc0b5" title=" " alt="" coords="786,323,1035,366"/>
<area shape="poly" title=" " alt="" coords="739,342,770,342,770,347,739,347"/>
<area shape="poly" title=" " alt="" coords="978,229,1103,188,1104,194,980,234"/>
</map>
</div>

</div>
</div>
<a id="ab4db8e2c941570f3fa77d89e6a5f8c32" name="ab4db8e2c941570f3fa77d89e6a5f8c32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4db8e2c941570f3fa77d89e6a5f8c32">&#9670;&#160;</a></span>prepare_linked_requirements_more()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None prepare_linked_requirements_more </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Iterable[<a class="el" href="../../d2/daa/classpip_1_1__internal_1_1req_1_1req__install_1_1_install_requirement.html">InstallRequirement</a>]</td>          <td class="paramname"><span class="paramname"><em>reqs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool </td>          <td class="paramname"><span class="paramname"><em>parallel_builds</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Prepare linked requirements more, if needed.</pre> 
<p class="definition">Definition at line <a class="el" href="../../d5/d37/prepare_8py_source.html#l00540">540</a> of file <a class="el" href="../../d5/d37/prepare_8py_source.html">prepare.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  542</span>    ) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  543</span>        <span class="stringliteral">&quot;&quot;&quot;Prepare linked requirements more, if needed.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  544</span>        reqs = [req <span class="keywordflow">for</span> req <span class="keywordflow">in</span> reqs <span class="keywordflow">if</span> req.needs_more_preparation]</div>
<div class="line"><span class="lineno">  545</span>        <span class="keywordflow">for</span> req <span class="keywordflow">in</span> reqs:</div>
<div class="line"><span class="lineno">  546</span>            <span class="comment"># Determine if any of these requirements were already downloaded.</span></div>
<div class="line"><span class="lineno">  547</span>            <span class="keywordflow">if</span> self.download_dir <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> req.link.is_wheel:</div>
<div class="line"><span class="lineno">  548</span>                hashes = self._get_linked_req_hashes(req)</div>
<div class="line"><span class="lineno">  549</span>                file_path = _check_download_dir(req.link, self.download_dir, hashes)</div>
<div class="line"><span class="lineno">  550</span>                <span class="keywordflow">if</span> file_path <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  551</span>                    self._downloaded[req.link.url] = file_path</div>
<div class="line"><span class="lineno">  552</span>                    req.needs_more_preparation = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  553</span> </div>
<div class="line"><span class="lineno">  554</span>        <span class="comment"># Prepare requirements we found were already downloaded for some</span></div>
<div class="line"><span class="lineno">  555</span>        <span class="comment"># reason. The other downloads will be completed separately.</span></div>
<div class="line"><span class="lineno">  556</span>        partially_downloaded_reqs: List[InstallRequirement] = []</div>
<div class="line"><span class="lineno">  557</span>        <span class="keywordflow">for</span> req <span class="keywordflow">in</span> reqs:</div>
<div class="line"><span class="lineno">  558</span>            <span class="keywordflow">if</span> req.needs_more_preparation:</div>
<div class="line"><span class="lineno">  559</span>                partially_downloaded_reqs.append(req)</div>
<div class="line"><span class="lineno">  560</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  561</span>                self._prepare_linked_requirement(req, parallel_builds)</div>
<div class="line"><span class="lineno">  562</span> </div>
<div class="line"><span class="lineno">  563</span>        <span class="comment"># TODO: separate this part out from RequirementPreparer when the v1</span></div>
<div class="line"><span class="lineno">  564</span>        <span class="comment"># resolver can be removed!</span></div>
<div class="line"><span class="lineno">  565</span>        self._complete_partial_requirements(</div>
<div class="line"><span class="lineno">  566</span>            partially_downloaded_reqs,</div>
<div class="line"><span class="lineno">  567</span>            parallel_builds=parallel_builds,</div>
<div class="line"><span class="lineno">  568</span>        )</div>
<div class="line"><span class="lineno">  569</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/d37/prepare_8py_source.html#l00186">pip._internal.operations.prepare._check_download_dir()</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00461">_complete_partial_requirements()</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00267">_downloaded</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00336">_get_linked_req_hashes()</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00572">_prepare_linked_requirement()</a>, and <a class="el" href="../../d5/d37/prepare_8py_source.html#l00243">download_dir</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_ab4db8e2c941570f3fa77d89e6a5f8c32_cgraph.png" border="0" usemap="#ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_ab4db8e2c941570f3fa77d89e6a5f8c32_cgraph" loading="lazy" alt=""/></div>
<map name="ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_ab4db8e2c941570f3fa77d89e6a5f8c32_cgraph" id="ad3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer_ab4db8e2c941570f3fa77d89e6a5f8c32_cgraph">
<area shape="rect" title=" " alt="" coords="5,105,229,132"/>
<area shape="rect" href="../../d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare.html#aa46bb38e7bb428fb970fe837e38564c8" title=" " alt="" coords="1379,64,1585,107"/>
<area shape="poly" title=" " alt="" coords="154,102,236,74,351,41,485,14,554,6,622,3,901,3,1023,6,1117,14,1331,49,1376,58,1375,63,1331,55,1117,20,1023,11,901,8,622,8,554,11,485,19,352,46,238,79,155,107"/>
<area shape="rect" href="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer.html#afa78a700282134e31b92dde6cebb7be2" title=" " alt="" coords="277,80,482,107"/>
<area shape="poly" title=" " alt="" coords="229,105,261,102,261,107,229,111"/>
<area shape="rect" href="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer.html#a9a1ef358ce86a6fc2be046a02fac1ef6" title=" " alt="" coords="530,117,717,144"/>
<area shape="poly" title=" " alt="" coords="229,119,514,125,514,131,229,124"/>
<area shape="rect" href="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer.html#ac38b277ed8c5bce58ddd4b9a56096f7e" title=" " alt="" coords="819,211,981,237"/>
<area shape="poly" title=" " alt="" coords="222,130,804,209,803,214,222,135"/>
<area shape="poly" title=" " alt="" coords="471,105,517,112,516,117,471,110"/>
<area shape="rect" href="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer.html#aaead613234005c8371711adc58831a97" title=" " alt="" coords="817,43,983,69"/>
<area shape="poly" title=" " alt="" coords="659,114,765,79,801,70,802,75,766,84,661,119"/>
<area shape="poly" title=" " alt="" coords="650,142,702,170,766,196,805,207,803,212,764,201,700,174,647,147"/>
<area shape="rect" href="../../d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare.html#a50d04d2aa7d48d3f0bc3d7c5d1adc70c" title=" " alt="" coords="797,93,1003,136"/>
<area shape="poly" title=" " alt="" coords="717,123,781,119,781,124,718,128"/>
<area shape="rect" href="../../d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare.html#a1a3925c4e6f1099f2271b742001ee3f6" title=" " alt="" coords="765,160,1035,187"/>
<area shape="poly" title=" " alt="" coords="715,142,795,154,794,160,714,147"/>
<area shape="rect" href="../../d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare.html#a2057fa0618c2bf62bdae19d68f10cd86" title=" " alt="" coords="1095,64,1319,107"/>
<area shape="poly" title=" " alt="" coords="997,157,1034,146,1057,131,1081,116,1098,110,1100,115,1084,121,1060,136,1036,150,998,162"/>
<area shape="rect" href="../../d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare.html#a0baa6de1885d0a6d80c29c3c9abe069b" title=" " alt="" coords="1095,131,1319,173"/>
<area shape="poly" title=" " alt="" coords="1035,161,1079,158,1080,164,1035,167"/>
<area shape="rect" href="../../d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare.html#af52c74043600268370be25d7ef4cc0b5" title=" " alt="" coords="1083,197,1331,240"/>
<area shape="poly" title=" " alt="" coords="995,185,1068,195,1067,201,995,190"/>
<area shape="poly" title=" " alt="" coords="1319,83,1364,83,1364,88,1319,88"/>
<area shape="poly" title=" " alt="" coords="1297,127,1376,108,1377,113,1298,133"/>
</map>
</div>

</div>
</div>
<a id="aeeb24c2ae0e6f682ebd070f5022e9b52" name="aeeb24c2ae0e6f682ebd070f5022e9b52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeeb24c2ae0e6f682ebd070f5022e9b52">&#9670;&#160;</a></span>save_linked_requirement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None save_linked_requirement </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/daa/classpip_1_1__internal_1_1req_1_1req__install_1_1_install_requirement.html">InstallRequirement</a></td>          <td class="paramname"><span class="paramname"><em>req</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d37/prepare_8py_source.html#l00662">662</a> of file <a class="el" href="../../d5/d37/prepare_8py_source.html">prepare.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  662</span>    <span class="keyword">def </span>save_linked_requirement(self, req: InstallRequirement) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  663</span>        <span class="keyword">assert</span> self.download_dir <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  664</span>        <span class="keyword">assert</span> req.link <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  665</span>        link = req.link</div>
<div class="line"><span class="lineno">  666</span>        <span class="keywordflow">if</span> link.is_vcs <span class="keywordflow">or</span> (link.is_existing_dir() <span class="keywordflow">and</span> req.editable):</div>
<div class="line"><span class="lineno">  667</span>            <span class="comment"># Make a .zip of the source_dir we already created.</span></div>
<div class="line"><span class="lineno">  668</span>            req.archive(self.download_dir)</div>
<div class="line"><span class="lineno">  669</span>            <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  670</span> </div>
<div class="line"><span class="lineno">  671</span>        <span class="keywordflow">if</span> link.is_existing_dir():</div>
<div class="line"><span class="lineno">  672</span>            logger.debug(</div>
<div class="line"><span class="lineno">  673</span>                <span class="stringliteral">&quot;Not copying link to destination directory &quot;</span></div>
<div class="line"><span class="lineno">  674</span>                <span class="stringliteral">&quot;since it is a directory: %s&quot;</span>,</div>
<div class="line"><span class="lineno">  675</span>                link,</div>
<div class="line"><span class="lineno">  676</span>            )</div>
<div class="line"><span class="lineno">  677</span>            <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  678</span>        <span class="keywordflow">if</span> req.local_file_path <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  679</span>            <span class="comment"># No distribution was downloaded for this requirement.</span></div>
<div class="line"><span class="lineno">  680</span>            <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  681</span> </div>
<div class="line"><span class="lineno">  682</span>        download_location = os.path.join(self.download_dir, link.filename)</div>
<div class="line"><span class="lineno">  683</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> os.path.exists(download_location):</div>
<div class="line"><span class="lineno">  684</span>            shutil.copy(req.local_file_path, download_location)</div>
<div class="line"><span class="lineno">  685</span>            download_path = display_path(download_location)</div>
<div class="line"><span class="lineno">  686</span>            logger.info(<span class="stringliteral">&quot;Saved %s&quot;</span>, download_path)</div>
<div class="line"><span class="lineno">  687</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/d37/prepare_8py_source.html#l00243">download_dir</a>.</p>

</div>
</div>
<a name="doc-variable-members" id="doc-variable-members"></a><h2 id="header-doc-variable-members" class="groupheader">Field Documentation</h2>
<a id="aaafafcc14148090ecfd8a5b888772626" name="aaafafcc14148090ecfd8a5b888772626"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaafafcc14148090ecfd8a5b888772626">&#9670;&#160;</a></span>_batch_download</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_batch_download = <a class="el" href="../../de/dab/classpip_1_1__internal_1_1network_1_1download_1_1_batch_downloader.html">BatchDownloader</a>(session, progress_bar)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d37/prepare_8py_source.html#l00238">238</a> of file <a class="el" href="../../d5/d37/prepare_8py_source.html">prepare.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d37/prepare_8py_source.html#l00461">_complete_partial_requirements()</a>.</p>

</div>
</div>
<a id="ac1e083ce1a1579812f234dcc4d1904b5" name="ac1e083ce1a1579812f234dcc4d1904b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1e083ce1a1579812f234dcc4d1904b5">&#9670;&#160;</a></span>_download</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_download = <a class="el" href="../../d5/d7f/classpip_1_1__internal_1_1network_1_1download_1_1_downloader.html">Downloader</a>(session, progress_bar)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d37/prepare_8py_source.html#l00237">237</a> of file <a class="el" href="../../d5/d37/prepare_8py_source.html">prepare.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d40/lazy__wheel_8py_source.html#l00153">LazyZipOverHTTP._check_zip()</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00390">_fetch_metadata_using_link_data_attr()</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00572">_prepare_linked_requirement()</a>, and <a class="el" href="../../d3/d40/lazy__wheel_8py_source.html#l00088">LazyZipOverHTTP.read()</a>.</p>

</div>
</div>
<a id="a979acd0525877f18b3c360a8eadc70dc" name="a979acd0525877f18b3c360a8eadc70dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a979acd0525877f18b3c360a8eadc70dc">&#9670;&#160;</a></span>_downloaded</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dict _downloaded = {}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d37/prepare_8py_source.html#l00267">267</a> of file <a class="el" href="../../d5/d37/prepare_8py_source.html">prepare.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d37/prepare_8py_source.html#l00461">_complete_partial_requirements()</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00572">_prepare_linked_requirement()</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00504">prepare_linked_requirement()</a>, and <a class="el" href="../../d5/d37/prepare_8py_source.html#l00542">prepare_linked_requirements_more()</a>.</p>

</div>
</div>
<a id="a3f57c95417883a72a8cd588e5969990a" name="a3f57c95417883a72a8cd588e5969990a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f57c95417883a72a8cd588e5969990a">&#9670;&#160;</a></span>_previous_requirement_header</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">tuple _previous_requirement_header = (&quot;&quot;, &quot;&quot;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d37/prepare_8py_source.html#l00270">270</a> of file <a class="el" href="../../d5/d37/prepare_8py_source.html">prepare.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d37/prepare_8py_source.html#l00272">_log_preparing_link()</a>.</p>

</div>
</div>
<a id="aad9ce45e9912181e7d85e4093362417d" name="aad9ce45e9912181e7d85e4093362417d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad9ce45e9912181e7d85e4093362417d">&#9670;&#160;</a></span>_session</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_session = session</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d37/prepare_8py_source.html#l00236">236</a> of file <a class="el" href="../../d5/d37/prepare_8py_source.html">prepare.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d37/prepare_8py_source.html#l00431">_fetch_metadata_using_lazy_wheel()</a>, and <a class="el" href="../../d9/d5e/req__file_8py_source.html#l00370">RequirementsFileParser._parse_file()</a>.</p>

</div>
</div>
<a id="af62ac26cf3748a56c08441e6fe6fced6" name="af62ac26cf3748a56c08441e6fe6fced6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af62ac26cf3748a56c08441e6fe6fced6">&#9670;&#160;</a></span>build_dir</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">build_dir = build_dir</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d37/prepare_8py_source.html#l00234">234</a> of file <a class="el" href="../../d5/d37/prepare_8py_source.html">prepare.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d37/prepare_8py_source.html#l00301">_ensure_link_req_src_dir()</a>.</p>

</div>
</div>
<a id="a5997e28a580f69beddedb7d47851a310" name="a5997e28a580f69beddedb7d47851a310"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5997e28a580f69beddedb7d47851a310">&#9670;&#160;</a></span>build_isolation</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">build_isolation = build_isolation</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d37/prepare_8py_source.html#l00246">246</a> of file <a class="el" href="../../d5/d37/prepare_8py_source.html">prepare.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d37/prepare_8py_source.html#l00572">_prepare_linked_requirement()</a>, and <a class="el" href="../../d5/d37/prepare_8py_source.html#l00691">prepare_editable_requirement()</a>.</p>

</div>
</div>
<a id="a4bc4f9b4632c0800806977eb80fb171e" name="a4bc4f9b4632c0800806977eb80fb171e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bc4f9b4632c0800806977eb80fb171e">&#9670;&#160;</a></span>build_tracker</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">build_tracker = build_tracker</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d37/prepare_8py_source.html#l00235">235</a> of file <a class="el" href="../../d5/d37/prepare_8py_source.html">prepare.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d37/prepare_8py_source.html#l00572">_prepare_linked_requirement()</a>, and <a class="el" href="../../d5/d37/prepare_8py_source.html#l00691">prepare_editable_requirement()</a>.</p>

</div>
</div>
<a id="abf210b265a36bb160618e07eb0c9109f" name="abf210b265a36bb160618e07eb0c9109f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf210b265a36bb160618e07eb0c9109f">&#9670;&#160;</a></span>check_build_deps</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">check_build_deps = check_build_deps</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d37/prepare_8py_source.html#l00249">249</a> of file <a class="el" href="../../d5/d37/prepare_8py_source.html">prepare.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d37/prepare_8py_source.html#l00572">_prepare_linked_requirement()</a>, and <a class="el" href="../../d5/d37/prepare_8py_source.html#l00691">prepare_editable_requirement()</a>.</p>

</div>
</div>
<a id="a457c9ed19eabafbbf967a1aa47016afe" name="a457c9ed19eabafbbf967a1aa47016afe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a457c9ed19eabafbbf967a1aa47016afe">&#9670;&#160;</a></span>download_dir</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">download_dir = download_dir</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d37/prepare_8py_source.html#l00243">243</a> of file <a class="el" href="../../d5/d37/prepare_8py_source.html">prepare.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d37/prepare_8py_source.html#l00572">_prepare_linked_requirement()</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00504">prepare_linked_requirement()</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00542">prepare_linked_requirements_more()</a>, and <a class="el" href="../../d5/d37/prepare_8py_source.html#l00662">save_linked_requirement()</a>.</p>

</div>
</div>
<a id="ae46cc3f0b70ec94158c1c0bcc4c27187" name="ae46cc3f0b70ec94158c1c0bcc4c27187"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae46cc3f0b70ec94158c1c0bcc4c27187">&#9670;&#160;</a></span>finder</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">finder = finder</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d37/prepare_8py_source.html#l00239">239</a> of file <a class="el" href="../../d5/d37/prepare_8py_source.html">prepare.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d8c/legacy_2resolver_8py_source.html#l00334">Resolver._check_skip_installed()</a>, <a class="el" href="../../d5/d8c/legacy_2resolver_8py_source.html#l00386">Resolver._find_requirement_link()</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00572">_prepare_linked_requirement()</a>, <a class="el" href="../../d6/d43/resources_8py_source.html#l00085">Resource.as_stream()</a>, <a class="el" href="../../d6/d43/resources_8py_source.html#l00102">Resource.bytes()</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00691">prepare_editable_requirement()</a>, <a class="el" href="../../d6/d43/resources_8py_source.html#l00114">ResourceContainer.resources()</a>, and <a class="el" href="../../d6/d43/resources_8py_source.html#l00106">Resource.size()</a>.</p>

</div>
</div>
<a id="a6085caaaaa9bf3b6796b76e67487456f" name="a6085caaaaa9bf3b6796b76e67487456f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6085caaaaa9bf3b6796b76e67487456f">&#9670;&#160;</a></span>legacy_resolver</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">legacy_resolver = legacy_resolver</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d37/prepare_8py_source.html#l00264">264</a> of file <a class="el" href="../../d5/d37/prepare_8py_source.html">prepare.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d37/prepare_8py_source.html#l00371">_fetch_metadata_only()</a>.</p>

</div>
</div>
<a id="ad2eaca31e5e7f86304bd4b2a999ad3de" name="ad2eaca31e5e7f86304bd4b2a999ad3de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2eaca31e5e7f86304bd4b2a999ad3de">&#9670;&#160;</a></span>require_hashes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">require_hashes = require_hashes</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d37/prepare_8py_source.html#l00252">252</a> of file <a class="el" href="../../d5/d37/prepare_8py_source.html">prepare.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d37/prepare_8py_source.html#l00371">_fetch_metadata_only()</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00336">_get_linked_req_hashes()</a>, <a class="el" href="../../d5/d37/prepare_8py_source.html#l00691">prepare_editable_requirement()</a>, and <a class="el" href="../../d5/d37/prepare_8py_source.html#l00725">prepare_installed_requirement()</a>.</p>

</div>
</div>
<a id="a2f465e705bc34159a7cdfde4c0efa5c4" name="a2f465e705bc34159a7cdfde4c0efa5c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f465e705bc34159a7cdfde4c0efa5c4">&#9670;&#160;</a></span>src_dir</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">src_dir = src_dir</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d37/prepare_8py_source.html#l00233">233</a> of file <a class="el" href="../../d5/d37/prepare_8py_source.html">prepare.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d37/prepare_8py_source.html#l00691">prepare_editable_requirement()</a>.</p>

</div>
</div>
<a id="aeed6acff95de0b8aea0079c421c37a39" name="aeed6acff95de0b8aea0079c421c37a39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeed6acff95de0b8aea0079c421c37a39">&#9670;&#160;</a></span>use_lazy_wheel</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">use_lazy_wheel = lazy_wheel</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d37/prepare_8py_source.html#l00258">258</a> of file <a class="el" href="../../d5/d37/prepare_8py_source.html">prepare.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d37/prepare_8py_source.html#l00431">_fetch_metadata_using_lazy_wheel()</a>.</p>

</div>
</div>
<a id="a635a6971e37b444275203bae019fc210" name="a635a6971e37b444275203bae019fc210"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a635a6971e37b444275203bae019fc210">&#9670;&#160;</a></span>use_user_site</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">use_user_site = use_user_site</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d37/prepare_8py_source.html#l00255">255</a> of file <a class="el" href="../../d5/d37/prepare_8py_source.html">prepare.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d8c/legacy_2resolver_8py_source.html#l00334">Resolver._check_skip_installed()</a>, <a class="el" href="../../d5/d8c/legacy_2resolver_8py_source.html#l00445">Resolver._get_dist_for()</a>, <a class="el" href="../../d5/d8c/legacy_2resolver_8py_source.html#l00322">Resolver._set_req_to_reinstall()</a>, and <a class="el" href="../../d5/d37/prepare_8py_source.html#l00691">prepare_editable_requirement()</a>.</p>

</div>
</div>
<a id="a97b1cc04ec204ba7f1507498beb1d460" name="a97b1cc04ec204ba7f1507498beb1d460"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97b1cc04ec204ba7f1507498beb1d460">&#9670;&#160;</a></span>verbosity</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">verbosity = verbosity</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d37/prepare_8py_source.html#l00261">261</a> of file <a class="el" href="../../d5/d37/prepare_8py_source.html">prepare.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d37/prepare_8py_source.html#l00572">_prepare_linked_requirement()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>E:/pqc-engineering-ssec-23/venv/lib/python3.12/site-packages/pip/_internal/operations/<a class="el" href="../../d5/d37/prepare_8py_source.html">prepare.py</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="../../d4/d6e/namespacepip.html">pip</a></li><li class="navelem"><a href="../../d9/da0/namespacepip_1_1__internal.html">_internal</a></li><li class="navelem"><a href="../../d6/d34/namespacepip_1_1__internal_1_1operations.html">operations</a></li><li class="navelem"><a href="../../d5/d0e/namespacepip_1_1__internal_1_1operations_1_1prepare.html">prepare</a></li><li class="navelem"><a href="../../d3/dc5/classpip_1_1__internal_1_1operations_1_1prepare_1_1_requirement_preparer.html">RequirementPreparer</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
