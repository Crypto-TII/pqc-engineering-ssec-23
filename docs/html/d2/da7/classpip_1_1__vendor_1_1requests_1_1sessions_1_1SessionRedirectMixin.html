<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Let us walk on the 3-isogeny graph: SessionRedirectMixin Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Let us walk on the 3-isogeny graph
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle"><div class="title">SessionRedirectMixin Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for SessionRedirectMixin:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin__inherit__graph.png" border="0" usemap="#aSessionRedirectMixin_inherit__map" alt="Inheritance graph"/></div>
<map name="aSessionRedirectMixin_inherit__map" id="aSessionRedirectMixin_inherit__map">
<area shape="rect" title=" " alt="" coords="5,5,168,31"/>
<area shape="rect" href="../../d8/d88/classpip_1_1__vendor_1_1requests_1_1sessions_1_1Session.html" title=" " alt="" coords="51,79,123,104"/>
<area shape="poly" title=" " alt="" coords="89,44,89,79,84,79,84,44"/>
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a62b9f574341531d32cac009ed5fadf9b" id="r_a62b9f574341531d32cac009ed5fadf9b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin.html#a62b9f574341531d32cac009ed5fadf9b">get_redirect_target</a> (<a class="el" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">self</a>, <a class="el" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">resp</a>)</td></tr>
<tr class="separator:a62b9f574341531d32cac009ed5fadf9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bde8e57f0cd67a44286b2ad679bb0a6" id="r_a0bde8e57f0cd67a44286b2ad679bb0a6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin.html#a0bde8e57f0cd67a44286b2ad679bb0a6">should_strip_auth</a> (<a class="el" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">self</a>, <a class="el" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">old_url</a>, <a class="el" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">new_url</a>)</td></tr>
<tr class="separator:a0bde8e57f0cd67a44286b2ad679bb0a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37eca0b428de757f5dfe05976fb43cd3" id="r_a37eca0b428de757f5dfe05976fb43cd3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin.html#a37eca0b428de757f5dfe05976fb43cd3">resolve_redirects</a> (<a class="el" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">self</a>, <a class="el" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">resp</a>, req, stream=False, timeout=<a class="el" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">None</a>, verify=True, cert=<a class="el" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">None</a>, proxies=<a class="el" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">None</a>, <a class="el" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">yield_requests</a>=False, **<a class="el" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">adapter_kwargs</a>)</td></tr>
<tr class="separator:a37eca0b428de757f5dfe05976fb43cd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1d0ff5f3ec99206653c6986ff5a7c1c" id="r_af1d0ff5f3ec99206653c6986ff5a7c1c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin.html#af1d0ff5f3ec99206653c6986ff5a7c1c">rebuild_auth</a> (<a class="el" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">self</a>, <a class="el" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">prepared_request</a>, response)</td></tr>
<tr class="separator:af1d0ff5f3ec99206653c6986ff5a7c1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4c50a4a42be37efc838c81e6108f2dd" id="r_ae4c50a4a42be37efc838c81e6108f2dd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin.html#ae4c50a4a42be37efc838c81e6108f2dd">rebuild_proxies</a> (<a class="el" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">self</a>, <a class="el" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">prepared_request</a>, proxies)</td></tr>
<tr class="separator:ae4c50a4a42be37efc838c81e6108f2dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30b50d8e183c453a1c92fe5265a9a34a" id="r_a30b50d8e183c453a1c92fe5265a9a34a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin.html#a30b50d8e183c453a1c92fe5265a9a34a">rebuild_method</a> (<a class="el" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">self</a>, <a class="el" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">prepared_request</a>, response)</td></tr>
<tr class="separator:a30b50d8e183c453a1c92fe5265a9a34a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:acf6806cb451532910e49b7c25b368ec1" id="r_acf6806cb451532910e49b7c25b368ec1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin.html#acf6806cb451532910e49b7c25b368ec1">cookies</a></td></tr>
<tr class="separator:acf6806cb451532910e49b7c25b368ec1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../d6/dbb/sessions_8py_source.html#l00106">106</a> of file <a class="el" href="../../d6/dbb/sessions_8py_source.html">sessions.py</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a62b9f574341531d32cac009ed5fadf9b" name="a62b9f574341531d32cac009ed5fadf9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62b9f574341531d32cac009ed5fadf9b">&#9670;&#160;</a></span>get_redirect_target()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_redirect_target </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>resp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Receives a Response. Returns a redirect URI or ``None``</pre> 
<p class="definition">Definition at line <a class="el" href="../../d6/dbb/sessions_8py_source.html#l00107">107</a> of file <a class="el" href="../../d6/dbb/sessions_8py_source.html">sessions.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  107</span>    <span class="keyword">def </span>get_redirect_target(self, resp):</div>
<div class="line"><span class="lineno">  108</span>        <span class="stringliteral">&quot;&quot;&quot;Receives a Response. Returns a redirect URI or ``None``&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  109</span>        <span class="comment"># Due to the nature of how requests processes redirects this method will</span></div>
<div class="line"><span class="lineno">  110</span>        <span class="comment"># be called at least once upon the original response and at least twice</span></div>
<div class="line"><span class="lineno">  111</span>        <span class="comment"># on each subsequent redirect response (if any).</span></div>
<div class="line"><span class="lineno">  112</span>        <span class="comment"># If a custom mixin is used to handle this logic, it may be advantageous</span></div>
<div class="line"><span class="lineno">  113</span>        <span class="comment"># to cache the redirect location onto the response object as a private</span></div>
<div class="line"><span class="lineno">  114</span>        <span class="comment"># attribute.</span></div>
<div class="line"><span class="lineno">  115</span>        <span class="keywordflow">if</span> <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">resp.is_redirect</a>:</div>
<div class="line"><span class="lineno">  116</span>            location = <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">resp.headers</a>[<span class="stringliteral">&quot;location&quot;</span>]</div>
<div class="line"><span class="lineno">  117</span>            <span class="comment"># Currently the underlying http module on py3 decode headers</span></div>
<div class="line"><span class="lineno">  118</span>            <span class="comment"># in latin1, but empirical evidence suggests that latin1 is very</span></div>
<div class="line"><span class="lineno">  119</span>            <span class="comment"># rarely used with non-ASCII characters in HTTP headers.</span></div>
<div class="line"><span class="lineno">  120</span>            <span class="comment"># It is more likely to get UTF8 header rather than latin1.</span></div>
<div class="line"><span class="lineno">  121</span>            <span class="comment"># This causes incorrect handling of UTF8 encoded location headers.</span></div>
<div class="line"><span class="lineno">  122</span>            <span class="comment"># To solve this, we re-encode the location in latin1.</span></div>
<div class="line"><span class="lineno">  123</span>            location = <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">location.encode</a>(<span class="stringliteral">&quot;latin1&quot;</span>)</div>
<div class="line"><span class="lineno">  124</span>            <span class="keywordflow">return</span> to_native_string(location, <span class="stringliteral">&quot;utf8&quot;</span>)</div>
<div class="line"><span class="lineno">  125</span>        <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  126</span> </div>
<div class="ttc" id="aprime__search_8m_html_a6f6ccfcf58b31cb6412107d9d5281426"><div class="ttname"><a href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a></div><div class="ttdeci">for i</div><div class="ttdef"><b>Definition</b> <a href="../../d2/d00/prime__search_8m_source.html#l00009">prime_search.m:10</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/d00/prime__search_8m_source.html#l00010">i</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbb/sessions_8py_source.html#l00170">SessionRedirectMixin.resolve_redirects()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin_a62b9f574341531d32cac009ed5fadf9b_icgraph.png" border="0" usemap="#ad2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin_a62b9f574341531d32cac009ed5fadf9b_icgraph" alt=""/></div>
<map name="ad2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin_a62b9f574341531d32cac009ed5fadf9b_icgraph" id="ad2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin_a62b9f574341531d32cac009ed5fadf9b_icgraph">
<area shape="rect" title=" " alt="" coords="2983,746,3129,771"/>
<area shape="rect" href="../../d2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin.html#a37eca0b428de757f5dfe05976fb43cd3" title=" " alt="" coords="2800,746,2935,771"/>
<area shape="poly" title=" " alt="" coords="2969,761,2935,761,2935,756,2969,756"/>
<area shape="rect" href="../../d8/d88/classpip_1_1__vendor_1_1requests_1_1sessions_1_1Session.html#ad37f04d36bee73e86a56c5251a733671" title=" " alt="" coords="2531,739,2752,779"/>
<area shape="poly" title=" " alt="" coords="2786,761,2752,761,2752,756,2786,756"/>
<area shape="rect" href="../../d8/d88/classpip_1_1__vendor_1_1requests_1_1sessions_1_1Session.html#accf48da4057f687c5f174e07b86a34d4" title=" " alt="" coords="1321,524,1543,564"/>
<area shape="poly" title=" " alt="" coords="2581,736,2482,700,2316,652,2186,620,2053,596,1882,572,1703,555,1543,548,1543,543,1704,550,1883,567,2054,591,2187,615,2317,647,2483,695,2583,731"/>
<area shape="rect" href="../../d0/d47/classpip_1_1__vendor_1_1urllib3_1_1connection_1_1HTTPConnection.html#a450eceb4717554a39c1cbbc71b4315c0" title=" " alt="" coords="1311,731,1553,771"/>
<area shape="poly" title=" " alt="" coords="2517,764,2123,769,1877,768,1631,764,1554,761,1554,756,1631,759,1877,763,2123,763,2517,759"/>
<area shape="rect" href="../../dd/dbc/classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1WrappedSocket.html#ac4263cd0f592b9a15fe72b1ffc4a5b5c" title=" " alt="" coords="1281,817,1583,857"/>
<area shape="poly" title=" " alt="" coords="2517,770,2483,772,1583,830,1583,825,2482,767,2517,764"/>
<area shape="rect" href="../../df/d3a/classpip_1_1__vendor_1_1urllib3_1_1util_1_1ssltransport_1_1SSLTransport.html#a71dee473b4565935c7de9e0dd7ebcc12" title=" " alt="" coords="2231,709,2483,749"/>
<area shape="poly" title=" " alt="" coords="2517,749,2483,745,2483,740,2518,743"/>
<area shape="rect" href="../../d8/d88/classpip_1_1__vendor_1_1requests_1_1sessions_1_1Session.html#a4ecfc01eba5c54f55da17c4dcba34d07" title=" " alt="" coords="972,165,1193,205"/>
<area shape="poly" title=" " alt="" coords="1418,512,1395,449,1356,369,1331,327,1302,287,1269,251,1232,220,1192,200,1195,195,1235,215,1273,247,1306,284,1336,324,1361,366,1399,447,1423,510"/>
<area shape="rect" href="../../d8/d88/classpip_1_1__vendor_1_1requests_1_1sessions_1_1Session.html#ae65ffc33501bda50139df9c6e4903d57" title=" " alt="" coords="972,229,1193,269"/>
<area shape="poly" title=" " alt="" coords="1395,517,1106,271,1109,267,1398,513"/>
<area shape="rect" href="../../d8/d88/classpip_1_1__vendor_1_1requests_1_1sessions_1_1Session.html#aea5666eed92f188f209d6fb488ba602c" title=" " alt="" coords="972,492,1193,532"/>
<area shape="poly" title=" " alt="" coords="1307,535,1193,525,1194,519,1308,530"/>
<area shape="rect" href="../../d8/d88/classpip_1_1__vendor_1_1requests_1_1sessions_1_1Session.html#a7934a02ccaf206b271e9b2b4e258e456" title=" " alt="" coords="972,556,1193,596"/>
<area shape="poly" title=" " alt="" coords="1308,558,1194,569,1193,563,1307,553"/>
<area shape="rect" href="../../d8/d88/classpip_1_1__vendor_1_1requests_1_1sessions_1_1Session.html#a7ba5796ef02f3010aada5c329f64f419" title=" " alt="" coords="972,620,1193,660"/>
<area shape="poly" title=" " alt="" coords="1362,571,1234,611,1185,623,1184,617,1233,605,1360,566"/>
<area shape="rect" href="../../d8/d88/classpip_1_1__vendor_1_1requests_1_1sessions_1_1Session.html#a824c24cd63da3232865e3625d6dd20f0" title=" " alt="" coords="972,751,1193,791"/>
<area shape="poly" title=" " alt="" coords="1390,574,1116,753,1113,748,1387,569"/>
<area shape="rect" href="../../d8/d88/classpip_1_1__vendor_1_1requests_1_1sessions_1_1Session.html#a688de500f6aad8de9191e47f67900dac" title=" " alt="" coords="972,101,1193,141"/>
<area shape="poly" title=" " alt="" coords="1421,511,1401,437,1365,339,1340,289,1310,239,1274,194,1232,155,1213,144,1192,135,1195,130,1216,139,1235,151,1278,191,1314,236,1345,286,1370,337,1407,435,1427,510"/>
<area shape="rect" href="../../d4/d22/classpip_1_1__vendor_1_1distlib_1_1metadata_1_1LegacyMetadata.html#a45fe47d872f7d0ba6c3e6c59ff407767" title=" " alt="" coords="627,5,840,45"/>
<area shape="poly" title=" " alt="" coords="958,237,930,219,914,199,907,179,905,137,904,97,897,78,882,59,862,45,839,35,841,31,865,41,886,55,902,75,909,96,911,137,912,178,919,197,934,215,960,233"/>
<area shape="rect" href="../../d6/ddc/classpip_1_1__vendor_1_1rich_1_1layout_1_1Layout.html#a9828e7aea6afb24c43f6a5d5bb426a17" title=" " alt="" coords="646,69,821,109"/>
<area shape="poly" title=" " alt="" coords="958,235,930,219,919,208,911,195,905,170,900,146,893,134,882,123,853,107,820,97,822,92,855,102,886,119,897,131,905,144,911,169,916,193,923,204,934,215,961,231"/>
<area shape="rect" href="../../d4/d22/classpip_1_1__vendor_1_1distlib_1_1metadata_1_1LegacyMetadata.html#a403b9b48cdac446d90f007fabbd0d043" title=" " alt="" coords="627,133,839,173"/>
<area shape="poly" title=" " alt="" coords="958,229,931,220,907,204,883,188,839,173,840,168,885,183,909,199,933,215,959,224"/>
<area shape="rect" href="../../df/d93/classpip_1_1__vendor_1_1rich_1_1theme_1_1ThemeStack.html#a7c5736149a00adc9905481882cbed317" title=" " alt="" coords="623,197,843,237"/>
<area shape="poly" title=" " alt="" coords="958,241,843,230,844,225,958,235"/>
<area shape="rect" href="../../d4/d22/classpip_1_1__vendor_1_1distlib_1_1metadata_1_1LegacyMetadata.html#ac49ba1db71cb2ac0859a21e1fb607e0a" title=" " alt="" coords="627,261,839,301"/>
<area shape="poly" title=" " alt="" coords="958,263,840,274,839,269,958,258"/>
<area shape="rect" href="../../d3/d91/classpip_1_1__vendor_1_1pygments_1_1scanner_1_1Scanner.html#ae1a635b1cf68e27b2019c3bdf416874d" title=" " alt="" coords="284,92,508,132"/>
<area shape="poly" title=" " alt="" coords="613,141,508,128,509,123,614,136"/>
<area shape="rect" href="../../d4/d22/classpip_1_1__vendor_1_1distlib_1_1metadata_1_1LegacyMetadata.html#a0148811e141b0f54758962092c9b031a" title=" " alt="" coords="290,156,502,196"/>
<area shape="poly" title=" " alt="" coords="613,265,581,252,566,241,557,231,547,220,533,210,501,197,503,192,536,206,551,216,561,227,570,237,584,247,615,260"/>
<area shape="rect" href="../../d4/db8/classpip_1_1__vendor_1_1pygments_1_1lexer_1_1Lexer.html#a61a1f3a6a4df93d491cd753f617782a2" title=" " alt="" coords="631,785,836,825"/>
<area shape="poly" title=" " alt="" coords="960,592,934,610,918,629,911,649,911,691,910,733,902,755,886,775,863,791,837,801,835,796,860,786,882,771,898,752,905,732,905,691,906,648,914,627,930,606,957,588"/>
<area shape="rect" href="../../da/d32/classpip_1_1__vendor_1_1pygments_1_1formatters_1_1html_1_1HtmlFormatter.html#a6c2144637f5564384ae96c71b3cf2139" title=" " alt="" coords="595,325,872,365"/>
<area shape="poly" title=" " alt="" coords="958,564,930,546,915,528,907,509,904,471,902,433,896,415,882,397,861,380,837,368,840,363,864,376,886,393,900,412,908,432,910,470,912,507,919,525,934,542,961,559"/>
<area shape="rect" href="../../d9/dd5/classpip_1_1__vendor_1_1rich_1_1console_1_1Console.html#aaa5101116b1aae20803bc8827580145b" title=" " alt="" coords="305,364,487,404"/>
<area shape="poly" title=" " alt="" coords="957,560,930,546,913,528,906,510,898,492,882,475,835,449,785,428,732,412,679,400,576,387,487,383,488,378,576,381,680,395,733,407,787,423,838,444,886,471,903,489,911,507,918,525,934,542,960,556"/>
<area shape="rect" href="../../d9/dd5/classpip_1_1__vendor_1_1rich_1_1console_1_1Console.html#ae52a7131751a431b690073dc6565176c" title=" " alt="" coords="642,721,825,761"/>
<area shape="poly" title=" " alt="" coords="961,595,934,610,923,621,916,632,910,656,904,680,897,693,886,705,857,722,826,733,824,728,855,717,882,701,893,690,899,678,905,654,911,630,919,617,930,606,958,590"/>
<area shape="rect" href="../../d9/dd5/classpip_1_1__vendor_1_1rich_1_1console_1_1Console.html#a29a3d7611cae695f4c93f89f5cf9998c" title=" " alt="" coords="305,428,487,468"/>
<area shape="poly" title=" " alt="" coords="958,555,931,546,907,534,883,523,779,495,672,476,572,463,487,455,488,450,573,458,673,471,780,490,885,517,909,529,933,542,959,550"/>
<area shape="rect" href="../../d9/dd5/classpip_1_1__vendor_1_1rich_1_1console_1_1Console.html#a55af87726ddecd3097b4f1ea7ed3d635" title=" " alt="" coords="642,556,825,596"/>
<area shape="poly" title=" " alt="" coords="958,579,825,579,825,573,958,573"/>
<area shape="rect" href="../../d9/dd5/classpip_1_1__vendor_1_1rich_1_1console_1_1Console.html#a77ca724f96f555c450d98689e0de8219" title=" " alt="" coords="305,812,487,852"/>
<area shape="poly" title=" " alt="" coords="959,599,719,640,584,668,571,683,564,698,561,732,558,768,551,785,536,802,514,817,488,827,486,822,511,812,533,798,546,782,553,766,556,732,559,697,566,680,581,663,718,635,958,594"/>
<area shape="rect" href="../../d9/dd5/classpip_1_1__vendor_1_1rich_1_1console_1_1Console.html#a4445885da61a6b0e3ccf3aad006a52e6" title=" " alt="" coords="16,840,199,880"/>
<area shape="poly" title=" " alt="" coords="960,598,933,610,919,624,911,638,902,654,885,668,842,685,802,690,764,688,727,682,692,677,657,677,621,687,584,711,570,729,563,748,563,788,562,829,553,848,536,866,492,891,444,907,393,914,342,915,292,911,244,903,165,883,166,877,245,898,292,906,342,910,393,909,443,902,490,887,533,862,549,846,556,828,557,788,558,747,565,726,581,707,619,682,656,672,692,671,728,676,764,682,801,685,841,680,883,663,898,650,906,636,914,620,931,606,958,593"/>
<area shape="rect" href="../../da/d32/classpip_1_1__vendor_1_1pygments_1_1formatters_1_1html_1_1HtmlFormatter.html#a47f89409ef351ace670f178a2e95f794" title=" " alt="" coords="257,285,535,339"/>
<area shape="poly" title=" " alt="" coords="581,333,535,328,535,323,581,328"/>
<area shape="rect" href="../../da/d32/classpip_1_1__vendor_1_1pygments_1_1formatters_1_1html_1_1HtmlFormatter.html#a8a7e9c7e994a5d5c80756962851071c4" title=" " alt="" coords="257,220,535,260"/>
<area shape="poly" title=" " alt="" coords="598,323,581,316,566,305,557,295,547,284,533,274,505,263,507,258,536,270,551,280,561,291,570,301,584,311,600,318"/>
<area shape="rect" href="../../d4/d73/classpip_1_1__internal_1_1utils_1_1__log_1_1VerboseLogger.html#acfa825cffb2d6489ccddcc9e903fc846" title=" " alt="" coords="5,212,209,252"/>
<area shape="poly" title=" " alt="" coords="290,371,256,353,238,331,230,309,224,287,208,266,190,254,193,250,211,262,229,284,236,307,242,329,259,349,293,367"/>
<area shape="rect" href="../../d9/dd5/classpip_1_1__vendor_1_1rich_1_1console_1_1Console.html#a282ed903fbc8d483c4bf42c6a3070a7a" title=" " alt="" coords="16,428,199,468"/>
<area shape="poly" title=" " alt="" coords="291,451,199,451,199,445,291,445"/>
<area shape="rect" href="../../d9/dd5/classpip_1_1__vendor_1_1rich_1_1console_1_1Console.html#affd303d1296fb276df424183cbc2c863" title=" " alt="" coords="16,492,199,532"/>
<area shape="poly" title=" " alt="" coords="292,474,199,495,197,489,291,468"/>
<area shape="rect" href="../../d9/dd5/classpip_1_1__vendor_1_1rich_1_1console_1_1Console.html#ae069d587a4c9f3c087f77248ba9ebcc0" title=" " alt="" coords="16,556,199,596"/>
<area shape="poly" title=" " alt="" coords="293,466,259,482,243,497,235,513,227,530,211,546,190,558,187,554,208,542,223,527,231,510,239,494,256,478,291,461"/>
<area shape="rect" href="../../d9/dd5/classpip_1_1__vendor_1_1rich_1_1console_1_1Console.html#a122d962897c0084e7cab946b4eb43a87" title=" " alt="" coords="16,620,199,660"/>
<area shape="poly" title=" " alt="" coords="293,462,259,482,246,497,239,512,235,544,232,577,224,593,211,610,195,622,192,618,207,606,220,591,226,575,230,543,234,510,242,494,256,478,290,458"/>
<area shape="rect" href="../../d9/dd5/classpip_1_1__vendor_1_1rich_1_1console_1_1Console.html#aaf78ceeece6e5a7b3e64e375fa9febec" title=" " alt="" coords="16,276,199,316"/>
<area shape="poly" title=" " alt="" coords="290,437,256,418,237,396,230,373,224,351,208,330,190,318,193,314,211,326,229,349,235,372,242,394,259,414,293,432"/>
<area shape="rect" href="../../d9/dd5/classpip_1_1__vendor_1_1rich_1_1console_1_1Console.html#a6d962ea3575b0dd559665f77307a89b5" title=" " alt="" coords="16,340,199,380"/>
<area shape="poly" title=" " alt="" coords="291,429,256,418,232,407,208,394,176,383,178,378,210,390,234,402,258,414,292,424"/>
<area shape="poly" title=" " alt="" coords="157,416,139,409,107,407,79,409,62,414,56,419,59,427,54,429,51,418,60,409,78,403,107,401,141,404,159,411"/>
<area shape="poly" title=" " alt="" coords="702,548,629,482,583,447,534,418,487,401,489,396,536,414,586,443,633,478,705,544"/>
<area shape="poly" title=" " alt="" coords="683,552,614,516,534,483,487,469,488,463,536,477,616,511,686,547"/>
<area shape="poly" title=" " alt="" coords="791,544,771,537,733,535,701,537,680,542,673,547,677,555,672,557,668,546,678,537,700,531,733,529,772,532,793,539"/>
<area shape="rect" href="../../df/dd7/classpip_1_1__vendor_1_1rich_1_1progress_1_1ProgressColumn.html#a525dd149076ea520b5ce842a1f33e2d9" title=" " alt="" coords="301,684,491,724"/>
<area shape="poly" title=" " alt="" coords="630,596,584,617,569,630,561,645,552,660,536,674,492,693,490,688,533,670,548,657,556,642,565,627,581,612,628,591"/>
<area shape="rect" href="../../d5/d4a/classpip_1_1__vendor_1_1rich_1_1spinner_1_1Spinner.html#a9666b4f3ea984736fd5f3e349b7c4820" title=" " alt="" coords="305,748,487,788"/>
<area shape="poly" title=" " alt="" coords="630,592,606,602,584,617,572,631,566,645,561,676,557,707,550,723,536,738,514,753,488,762,487,758,511,748,533,734,545,720,552,706,556,675,560,644,568,628,581,613,603,597,628,587"/>
<area shape="rect" href="../../d6/ddc/classpip_1_1__vendor_1_1rich_1_1layout_1_1Layout.html#a893253b4123f84b615b62f8cfd4e4aa6" title=" " alt="" coords="307,492,485,532"/>
<area shape="poly" title=" " alt="" coords="628,559,485,532,486,526,629,554"/>
<area shape="rect" href="../../d5/d4a/classpip_1_1__vendor_1_1rich_1_1spinner_1_1Spinner.html#a78e888061a88ccae2941402521d067eb" title=" " alt="" coords="301,556,491,596"/>
<area shape="poly" title=" " alt="" coords="628,579,492,579,492,573,628,573"/>
<area shape="rect" href="../../d2/d69/classpip_1_1__vendor_1_1rich_1_1logging_1_1RichHandler.html#a5139c481cf6866279c9310b303c18d61" title=" " alt="" coords="305,620,487,660"/>
<area shape="poly" title=" " alt="" coords="629,598,488,625,487,620,628,593"/>
<area shape="poly" title=" " alt="" coords="630,590,605,601,585,617,568,639,561,661,560,684,562,707,563,731,562,755,554,779,537,802,514,818,489,828,487,823,512,813,533,798,549,776,557,754,558,731,556,708,554,684,556,660,563,636,581,613,603,596,628,585"/>
<area shape="poly" title=" " alt="" coords="291,845,199,854,199,849,291,840"/>
<area shape="rect" href="../../d4/d44/classpip_1_1__vendor_1_1packaging_1_1version_1_1Version.html#a2ff35bd0845c847001da948d07c5d867" title=" " alt="" coords="622,849,845,889"/>
<area shape="poly" title=" " alt="" coords="1015,798,885,840,837,852,835,847,883,835,1014,793"/>
<area shape="rect" href="../../dd/dbc/classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1WrappedSocket.html#a7a886419c7eb341e946f9e1435e03b25" title=" " alt="" coords="932,849,1233,889"/>
<area shape="poly" title=" " alt="" coords="1268,855,1234,858,1233,853,1268,850"/>
<area shape="rect" href="../../dd/dbc/classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1WrappedSocket.html#a3bdf3dae07c902f093d7a7e80fc11525" title=" " alt="" coords="583,913,884,953"/>
<area shape="poly" title=" " alt="" coords="960,894,844,916,843,911,959,889"/>
<area shape="rect" href="../../df/d3a/classpip_1_1__vendor_1_1urllib3_1_1util_1_1ssltransport_1_1SSLTransport.html#a215f9335d4796d5b0ddc333e078b2a53" title=" " alt="" coords="1931,648,2183,688"/>
<area shape="poly" title=" " alt="" coords="2244,709,2155,691,2156,685,2245,704"/>
<area shape="rect" href="../../df/d3a/classpip_1_1__vendor_1_1urllib3_1_1util_1_1ssltransport_1_1SSLTransport.html#a29a2df1456770df8f8782a1cbf3b1972" title=" " alt="" coords="1631,581,1883,621"/>
<area shape="poly" title=" " alt="" coords="1952,648,1847,624,1848,619,1953,642"/>
<area shape="rect" href="../../df/d3a/classpip_1_1__vendor_1_1urllib3_1_1util_1_1ssltransport_1_1SSLTransport.html#ad6e7d502181babe5a16b73eef51b882e" title=" " alt="" coords="1631,709,1883,749"/>
<area shape="poly" title=" " alt="" coords="1945,693,1856,712,1855,707,1944,688"/>
<area shape="rect" href="../../df/d3a/classpip_1_1__vendor_1_1urllib3_1_1util_1_1ssltransport_1_1SSLTransport.html#a2b9eb595689be65611ee045adea6c2d8" title=" " alt="" coords="1631,645,1883,685"/>
<area shape="poly" title=" " alt="" coords="1917,669,1883,669,1883,664,1917,664"/>
<area shape="poly" title=" " alt="" coords="1646,707,1629,700,1576,668,1526,632,1452,566,1455,562,1529,628,1579,664,1632,695,1648,702"/>
<area shape="poly" title=" " alt="" coords="1617,741,1554,745,1553,740,1616,736"/>
<area shape="poly" title=" " alt="" coords="1683,756,1494,820,1493,815,1682,751"/>
<area shape="poly" title=" " alt="" coords="1896,727,2230,727,2230,732,1896,732"/>
</map>
</div>

</div>
</div>
<a id="af1d0ff5f3ec99206653c6986ff5a7c1c" name="af1d0ff5f3ec99206653c6986ff5a7c1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1d0ff5f3ec99206653c6986ff5a7c1c">&#9670;&#160;</a></span>rebuild_auth()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rebuild_auth </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prepared_request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">When being redirected we may want to strip authentication from the
request to avoid leaking credentials. This method intelligently removes
and reapplies authentication where possible to avoid credential loss.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d6/dbb/sessions_8py_source.html#l00283">283</a> of file <a class="el" href="../../d6/dbb/sessions_8py_source.html">sessions.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  283</span>    <span class="keyword">def </span>rebuild_auth(self, prepared_request, response):</div>
<div class="line"><span class="lineno">  284</span>        <span class="stringliteral">&quot;&quot;&quot;When being redirected we may want to strip authentication from the</span></div>
<div class="line"><span class="lineno">  285</span><span class="stringliteral">        request to avoid leaking credentials. This method intelligently removes</span></div>
<div class="line"><span class="lineno">  286</span><span class="stringliteral">        and reapplies authentication where possible to avoid credential loss.</span></div>
<div class="line"><span class="lineno">  287</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  288</span>        headers = <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">prepared_request.headers</a></div>
<div class="line"><span class="lineno">  289</span>        url = <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">prepared_request.url</a></div>
<div class="line"><span class="lineno">  290</span> </div>
<div class="line"><span class="lineno">  291</span>        <span class="keywordflow">if</span> <span class="stringliteral">&quot;Authorization&quot;</span> <span class="keywordflow">in</span> headers <span class="keywordflow">and</span> self.should_strip_auth(</div>
<div class="line"><span class="lineno">  292</span>            <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">response.request.url</a>, url</div>
<div class="line"><span class="lineno">  293</span>        ):</div>
<div class="line"><span class="lineno">  294</span>            <span class="comment"># If we get redirected to a new host, we should strip out any</span></div>
<div class="line"><span class="lineno">  295</span>            <span class="comment"># authentication headers.</span></div>
<div class="line"><span class="lineno">  296</span>            del headers[<span class="stringliteral">&quot;Authorization&quot;</span>]</div>
<div class="line"><span class="lineno">  297</span> </div>
<div class="line"><span class="lineno">  298</span>        <span class="comment"># .netrc might have more auth for us on our new host.</span></div>
<div class="line"><span class="lineno">  299</span>        new_auth = get_netrc_auth(url) <span class="keywordflow">if</span> self.trust_env <span class="keywordflow">else</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  300</span>        <span class="keywordflow">if</span> new_auth <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  301</span>            <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">prepared_request.prepare_auth</a>(new_auth)</div>
<div class="line"><span class="lineno">  302</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/d00/prime__search_8m_source.html#l00010">i</a>, <a class="el" href="../../d6/dbb/sessions_8py_source.html#l00127">SessionRedirectMixin.should_strip_auth()</a>, and <a class="el" href="../../d6/dbb/sessions_8py_source.html#l00440">Session.trust_env</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin_af1d0ff5f3ec99206653c6986ff5a7c1c_cgraph.png" border="0" usemap="#ad2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin_af1d0ff5f3ec99206653c6986ff5a7c1c_cgraph" alt=""/></div>
<map name="ad2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin_af1d0ff5f3ec99206653c6986ff5a7c1c_cgraph" id="ad2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin_af1d0ff5f3ec99206653c6986ff5a7c1c_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,108,31"/>
<area shape="rect" href="../../d2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin.html#a0bde8e57f0cd67a44286b2ad679bb0a6" title=" " alt="" coords="156,5,293,31"/>
<area shape="poly" title=" " alt="" coords="108,15,142,15,142,21,108,21"/>
</map>
</div>

</div>
</div>
<a id="a30b50d8e183c453a1c92fe5265a9a34a" name="a30b50d8e183c453a1c92fe5265a9a34a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30b50d8e183c453a1c92fe5265a9a34a">&#9670;&#160;</a></span>rebuild_method()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rebuild_method </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prepared_request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">When being redirected we may want to change the method of the request
based on certain specs or browser behavior.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d6/dbb/sessions_8py_source.html#l00334">334</a> of file <a class="el" href="../../d6/dbb/sessions_8py_source.html">sessions.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  334</span>    <span class="keyword">def </span>rebuild_method(self, prepared_request, response):</div>
<div class="line"><span class="lineno">  335</span>        <span class="stringliteral">&quot;&quot;&quot;When being redirected we may want to change the method of the request</span></div>
<div class="line"><span class="lineno">  336</span><span class="stringliteral">        based on certain specs or browser behavior.</span></div>
<div class="line"><span class="lineno">  337</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  338</span>        method = <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">prepared_request.method</a></div>
<div class="line"><span class="lineno">  339</span> </div>
<div class="line"><span class="lineno">  340</span>        <span class="comment"># https://tools.ietf.org/html/rfc7231#section-6.4.4</span></div>
<div class="line"><span class="lineno">  341</span>        <span class="keywordflow">if</span> <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">response.status_code</a> == <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">codes.see_other</a> <span class="keywordflow">and</span> method != <span class="stringliteral">&quot;HEAD&quot;</span>:</div>
<div class="line"><span class="lineno">  342</span>            method = <span class="stringliteral">&quot;GET&quot;</span></div>
<div class="line"><span class="lineno">  343</span> </div>
<div class="line"><span class="lineno">  344</span>        <span class="comment"># Do what the browsers do, despite standards...</span></div>
<div class="line"><span class="lineno">  345</span>        <span class="comment"># First, turn 302s into GETs.</span></div>
<div class="line"><span class="lineno">  346</span>        <span class="keywordflow">if</span> <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">response.status_code</a> == <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">codes.found</a> <span class="keywordflow">and</span> method != <span class="stringliteral">&quot;HEAD&quot;</span>:</div>
<div class="line"><span class="lineno">  347</span>            method = <span class="stringliteral">&quot;GET&quot;</span></div>
<div class="line"><span class="lineno">  348</span> </div>
<div class="line"><span class="lineno">  349</span>        <span class="comment"># Second, if a POST is responded to with a 301, turn it into a GET.</span></div>
<div class="line"><span class="lineno">  350</span>        <span class="comment"># This bizarre behaviour is explained in Issue 1704.</span></div>
<div class="line"><span class="lineno">  351</span>        <span class="keywordflow">if</span> <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">response.status_code</a> == <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">codes.moved</a> <span class="keywordflow">and</span> method == <span class="stringliteral">&quot;POST&quot;</span>:</div>
<div class="line"><span class="lineno">  352</span>            method = <span class="stringliteral">&quot;GET&quot;</span></div>
<div class="line"><span class="lineno">  353</span> </div>
<div class="line"><span class="lineno">  354</span>        <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">prepared_request.method</a> = method</div>
<div class="line"><span class="lineno">  355</span> </div>
<div class="line"><span class="lineno">  356</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/d00/prime__search_8m_source.html#l00010">i</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbb/sessions_8py_source.html#l00170">SessionRedirectMixin.resolve_redirects()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin_a30b50d8e183c453a1c92fe5265a9a34a_icgraph.png" border="0" usemap="#ad2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin_a30b50d8e183c453a1c92fe5265a9a34a_icgraph" alt=""/></div>
<map name="ad2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin_a30b50d8e183c453a1c92fe5265a9a34a_icgraph" id="ad2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin_a30b50d8e183c453a1c92fe5265a9a34a_icgraph">
<area shape="rect" title=" " alt="" coords="2983,746,3107,771"/>
<area shape="rect" href="../../d2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin.html#a37eca0b428de757f5dfe05976fb43cd3" title=" " alt="" coords="2800,746,2935,771"/>
<area shape="poly" title=" " alt="" coords="2969,761,2935,761,2935,756,2969,756"/>
<area shape="rect" href="../../d8/d88/classpip_1_1__vendor_1_1requests_1_1sessions_1_1Session.html#ad37f04d36bee73e86a56c5251a733671" title=" " alt="" coords="2531,739,2752,779"/>
<area shape="poly" title=" " alt="" coords="2786,761,2752,761,2752,756,2786,756"/>
<area shape="rect" href="../../d8/d88/classpip_1_1__vendor_1_1requests_1_1sessions_1_1Session.html#accf48da4057f687c5f174e07b86a34d4" title=" " alt="" coords="1321,524,1543,564"/>
<area shape="poly" title=" " alt="" coords="2581,736,2482,700,2316,652,2186,620,2053,596,1882,572,1703,555,1543,548,1543,543,1704,550,1883,567,2054,591,2187,615,2317,647,2483,695,2583,731"/>
<area shape="rect" href="../../d0/d47/classpip_1_1__vendor_1_1urllib3_1_1connection_1_1HTTPConnection.html#a450eceb4717554a39c1cbbc71b4315c0" title=" " alt="" coords="1311,731,1553,771"/>
<area shape="poly" title=" " alt="" coords="2517,764,2123,769,1877,768,1631,764,1554,761,1554,756,1631,759,1877,763,2123,763,2517,759"/>
<area shape="rect" href="../../dd/dbc/classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1WrappedSocket.html#ac4263cd0f592b9a15fe72b1ffc4a5b5c" title=" " alt="" coords="1281,817,1583,857"/>
<area shape="poly" title=" " alt="" coords="2517,770,2483,772,1583,830,1583,825,2482,767,2517,764"/>
<area shape="rect" href="../../df/d3a/classpip_1_1__vendor_1_1urllib3_1_1util_1_1ssltransport_1_1SSLTransport.html#a71dee473b4565935c7de9e0dd7ebcc12" title=" " alt="" coords="2231,709,2483,749"/>
<area shape="poly" title=" " alt="" coords="2517,749,2483,745,2483,740,2518,743"/>
<area shape="rect" href="../../d8/d88/classpip_1_1__vendor_1_1requests_1_1sessions_1_1Session.html#a4ecfc01eba5c54f55da17c4dcba34d07" title=" " alt="" coords="972,165,1193,205"/>
<area shape="poly" title=" " alt="" coords="1418,512,1395,449,1356,369,1331,327,1302,287,1269,251,1232,220,1192,200,1195,195,1235,215,1273,247,1306,284,1336,324,1361,366,1399,447,1423,510"/>
<area shape="rect" href="../../d8/d88/classpip_1_1__vendor_1_1requests_1_1sessions_1_1Session.html#ae65ffc33501bda50139df9c6e4903d57" title=" " alt="" coords="972,229,1193,269"/>
<area shape="poly" title=" " alt="" coords="1395,517,1106,271,1109,267,1398,513"/>
<area shape="rect" href="../../d8/d88/classpip_1_1__vendor_1_1requests_1_1sessions_1_1Session.html#aea5666eed92f188f209d6fb488ba602c" title=" " alt="" coords="972,492,1193,532"/>
<area shape="poly" title=" " alt="" coords="1307,535,1193,525,1194,519,1308,530"/>
<area shape="rect" href="../../d8/d88/classpip_1_1__vendor_1_1requests_1_1sessions_1_1Session.html#a7934a02ccaf206b271e9b2b4e258e456" title=" " alt="" coords="972,556,1193,596"/>
<area shape="poly" title=" " alt="" coords="1308,558,1194,569,1193,563,1307,553"/>
<area shape="rect" href="../../d8/d88/classpip_1_1__vendor_1_1requests_1_1sessions_1_1Session.html#a7ba5796ef02f3010aada5c329f64f419" title=" " alt="" coords="972,620,1193,660"/>
<area shape="poly" title=" " alt="" coords="1362,571,1234,611,1185,623,1184,617,1233,605,1360,566"/>
<area shape="rect" href="../../d8/d88/classpip_1_1__vendor_1_1requests_1_1sessions_1_1Session.html#a824c24cd63da3232865e3625d6dd20f0" title=" " alt="" coords="972,751,1193,791"/>
<area shape="poly" title=" " alt="" coords="1390,574,1116,753,1113,748,1387,569"/>
<area shape="rect" href="../../d8/d88/classpip_1_1__vendor_1_1requests_1_1sessions_1_1Session.html#a688de500f6aad8de9191e47f67900dac" title=" " alt="" coords="972,101,1193,141"/>
<area shape="poly" title=" " alt="" coords="1421,511,1401,437,1365,339,1340,289,1310,239,1274,194,1232,155,1213,144,1192,135,1195,130,1216,139,1235,151,1278,191,1314,236,1345,286,1370,337,1407,435,1427,510"/>
<area shape="rect" href="../../d4/d22/classpip_1_1__vendor_1_1distlib_1_1metadata_1_1LegacyMetadata.html#a45fe47d872f7d0ba6c3e6c59ff407767" title=" " alt="" coords="627,5,840,45"/>
<area shape="poly" title=" " alt="" coords="958,237,930,219,914,199,907,179,905,137,904,97,897,78,882,59,862,45,839,35,841,31,865,41,886,55,902,75,909,96,911,137,912,178,919,197,934,215,960,233"/>
<area shape="rect" href="../../d6/ddc/classpip_1_1__vendor_1_1rich_1_1layout_1_1Layout.html#a9828e7aea6afb24c43f6a5d5bb426a17" title=" " alt="" coords="646,69,821,109"/>
<area shape="poly" title=" " alt="" coords="958,235,930,219,919,208,911,195,905,170,900,146,893,134,882,123,853,107,820,97,822,92,855,102,886,119,897,131,905,144,911,169,916,193,923,204,934,215,961,231"/>
<area shape="rect" href="../../d4/d22/classpip_1_1__vendor_1_1distlib_1_1metadata_1_1LegacyMetadata.html#a403b9b48cdac446d90f007fabbd0d043" title=" " alt="" coords="627,133,839,173"/>
<area shape="poly" title=" " alt="" coords="958,229,931,220,907,204,883,188,839,173,840,168,885,183,909,199,933,215,959,224"/>
<area shape="rect" href="../../df/d93/classpip_1_1__vendor_1_1rich_1_1theme_1_1ThemeStack.html#a7c5736149a00adc9905481882cbed317" title=" " alt="" coords="623,197,843,237"/>
<area shape="poly" title=" " alt="" coords="958,241,843,230,844,225,958,235"/>
<area shape="rect" href="../../d4/d22/classpip_1_1__vendor_1_1distlib_1_1metadata_1_1LegacyMetadata.html#ac49ba1db71cb2ac0859a21e1fb607e0a" title=" " alt="" coords="627,261,839,301"/>
<area shape="poly" title=" " alt="" coords="958,263,840,274,839,269,958,258"/>
<area shape="rect" href="../../d3/d91/classpip_1_1__vendor_1_1pygments_1_1scanner_1_1Scanner.html#ae1a635b1cf68e27b2019c3bdf416874d" title=" " alt="" coords="284,92,508,132"/>
<area shape="poly" title=" " alt="" coords="613,141,508,128,509,123,614,136"/>
<area shape="rect" href="../../d4/d22/classpip_1_1__vendor_1_1distlib_1_1metadata_1_1LegacyMetadata.html#a0148811e141b0f54758962092c9b031a" title=" " alt="" coords="290,156,502,196"/>
<area shape="poly" title=" " alt="" coords="613,265,581,252,566,241,557,231,547,220,533,210,501,197,503,192,536,206,551,216,561,227,570,237,584,247,615,260"/>
<area shape="rect" href="../../d4/db8/classpip_1_1__vendor_1_1pygments_1_1lexer_1_1Lexer.html#a61a1f3a6a4df93d491cd753f617782a2" title=" " alt="" coords="631,785,836,825"/>
<area shape="poly" title=" " alt="" coords="960,592,934,610,918,629,911,649,911,691,910,733,902,755,886,775,863,791,837,801,835,796,860,786,882,771,898,752,905,732,905,691,906,648,914,627,930,606,957,588"/>
<area shape="rect" href="../../da/d32/classpip_1_1__vendor_1_1pygments_1_1formatters_1_1html_1_1HtmlFormatter.html#a6c2144637f5564384ae96c71b3cf2139" title=" " alt="" coords="595,325,872,365"/>
<area shape="poly" title=" " alt="" coords="958,564,930,546,915,528,907,509,904,471,902,433,896,415,882,397,861,380,837,368,840,363,864,376,886,393,900,412,908,432,910,470,912,507,919,525,934,542,961,559"/>
<area shape="rect" href="../../d9/dd5/classpip_1_1__vendor_1_1rich_1_1console_1_1Console.html#aaa5101116b1aae20803bc8827580145b" title=" " alt="" coords="305,364,487,404"/>
<area shape="poly" title=" " alt="" coords="957,560,930,546,913,528,906,510,898,492,882,475,835,449,785,428,732,412,679,400,576,387,487,383,488,378,576,381,680,395,733,407,787,423,838,444,886,471,903,489,911,507,918,525,934,542,960,556"/>
<area shape="rect" href="../../d9/dd5/classpip_1_1__vendor_1_1rich_1_1console_1_1Console.html#ae52a7131751a431b690073dc6565176c" title=" " alt="" coords="642,721,825,761"/>
<area shape="poly" title=" " alt="" coords="961,595,934,610,923,621,916,632,910,656,904,680,897,693,886,705,857,722,826,733,824,728,855,717,882,701,893,690,899,678,905,654,911,630,919,617,930,606,958,590"/>
<area shape="rect" href="../../d9/dd5/classpip_1_1__vendor_1_1rich_1_1console_1_1Console.html#a29a3d7611cae695f4c93f89f5cf9998c" title=" " alt="" coords="305,428,487,468"/>
<area shape="poly" title=" " alt="" coords="958,555,931,546,907,534,883,523,779,495,672,476,572,463,487,455,488,450,573,458,673,471,780,490,885,517,909,529,933,542,959,550"/>
<area shape="rect" href="../../d9/dd5/classpip_1_1__vendor_1_1rich_1_1console_1_1Console.html#a55af87726ddecd3097b4f1ea7ed3d635" title=" " alt="" coords="642,556,825,596"/>
<area shape="poly" title=" " alt="" coords="958,579,825,579,825,573,958,573"/>
<area shape="rect" href="../../d9/dd5/classpip_1_1__vendor_1_1rich_1_1console_1_1Console.html#a77ca724f96f555c450d98689e0de8219" title=" " alt="" coords="305,812,487,852"/>
<area shape="poly" title=" " alt="" coords="959,599,719,640,584,668,571,683,564,698,561,732,558,768,551,785,536,802,514,817,488,827,486,822,511,812,533,798,546,782,553,766,556,732,559,697,566,680,581,663,718,635,958,594"/>
<area shape="rect" href="../../d9/dd5/classpip_1_1__vendor_1_1rich_1_1console_1_1Console.html#a4445885da61a6b0e3ccf3aad006a52e6" title=" " alt="" coords="16,840,199,880"/>
<area shape="poly" title=" " alt="" coords="960,598,933,610,919,624,911,638,902,654,885,668,842,685,802,690,764,688,727,682,692,677,657,677,621,687,584,711,570,729,563,748,563,788,562,829,553,848,536,866,492,891,444,907,393,914,342,915,292,911,244,903,165,883,166,877,245,898,292,906,342,910,393,909,443,902,490,887,533,862,549,846,556,828,557,788,558,747,565,726,581,707,619,682,656,672,692,671,728,676,764,682,801,685,841,680,883,663,898,650,906,636,914,620,931,606,958,593"/>
<area shape="rect" href="../../da/d32/classpip_1_1__vendor_1_1pygments_1_1formatters_1_1html_1_1HtmlFormatter.html#a47f89409ef351ace670f178a2e95f794" title=" " alt="" coords="257,285,535,339"/>
<area shape="poly" title=" " alt="" coords="581,333,535,328,535,323,581,328"/>
<area shape="rect" href="../../da/d32/classpip_1_1__vendor_1_1pygments_1_1formatters_1_1html_1_1HtmlFormatter.html#a8a7e9c7e994a5d5c80756962851071c4" title=" " alt="" coords="257,220,535,260"/>
<area shape="poly" title=" " alt="" coords="598,323,581,316,566,305,557,295,547,284,533,274,505,263,507,258,536,270,551,280,561,291,570,301,584,311,600,318"/>
<area shape="rect" href="../../d4/d73/classpip_1_1__internal_1_1utils_1_1__log_1_1VerboseLogger.html#acfa825cffb2d6489ccddcc9e903fc846" title=" " alt="" coords="5,212,209,252"/>
<area shape="poly" title=" " alt="" coords="290,371,256,353,238,331,230,309,224,287,208,266,190,254,193,250,211,262,229,284,236,307,242,329,259,349,293,367"/>
<area shape="rect" href="../../d9/dd5/classpip_1_1__vendor_1_1rich_1_1console_1_1Console.html#a282ed903fbc8d483c4bf42c6a3070a7a" title=" " alt="" coords="16,428,199,468"/>
<area shape="poly" title=" " alt="" coords="291,451,199,451,199,445,291,445"/>
<area shape="rect" href="../../d9/dd5/classpip_1_1__vendor_1_1rich_1_1console_1_1Console.html#affd303d1296fb276df424183cbc2c863" title=" " alt="" coords="16,492,199,532"/>
<area shape="poly" title=" " alt="" coords="292,474,199,495,197,489,291,468"/>
<area shape="rect" href="../../d9/dd5/classpip_1_1__vendor_1_1rich_1_1console_1_1Console.html#ae069d587a4c9f3c087f77248ba9ebcc0" title=" " alt="" coords="16,556,199,596"/>
<area shape="poly" title=" " alt="" coords="293,466,259,482,243,497,235,513,227,530,211,546,190,558,187,554,208,542,223,527,231,510,239,494,256,478,291,461"/>
<area shape="rect" href="../../d9/dd5/classpip_1_1__vendor_1_1rich_1_1console_1_1Console.html#a122d962897c0084e7cab946b4eb43a87" title=" " alt="" coords="16,620,199,660"/>
<area shape="poly" title=" " alt="" coords="293,462,259,482,246,497,239,512,235,544,232,577,224,593,211,610,195,622,192,618,207,606,220,591,226,575,230,543,234,510,242,494,256,478,290,458"/>
<area shape="rect" href="../../d9/dd5/classpip_1_1__vendor_1_1rich_1_1console_1_1Console.html#aaf78ceeece6e5a7b3e64e375fa9febec" title=" " alt="" coords="16,276,199,316"/>
<area shape="poly" title=" " alt="" coords="290,437,256,418,237,396,230,373,224,351,208,330,190,318,193,314,211,326,229,349,235,372,242,394,259,414,293,432"/>
<area shape="rect" href="../../d9/dd5/classpip_1_1__vendor_1_1rich_1_1console_1_1Console.html#a6d962ea3575b0dd559665f77307a89b5" title=" " alt="" coords="16,340,199,380"/>
<area shape="poly" title=" " alt="" coords="291,429,256,418,232,407,208,394,176,383,178,378,210,390,234,402,258,414,292,424"/>
<area shape="poly" title=" " alt="" coords="157,416,139,409,107,407,79,409,62,414,56,419,59,427,54,429,51,418,60,409,78,403,107,401,141,404,159,411"/>
<area shape="poly" title=" " alt="" coords="702,548,629,482,583,447,534,418,487,401,489,396,536,414,586,443,633,478,705,544"/>
<area shape="poly" title=" " alt="" coords="683,552,614,516,534,483,487,469,488,463,536,477,616,511,686,547"/>
<area shape="poly" title=" " alt="" coords="791,544,771,537,733,535,701,537,680,542,673,547,677,555,672,557,668,546,678,537,700,531,733,529,772,532,793,539"/>
<area shape="rect" href="../../df/dd7/classpip_1_1__vendor_1_1rich_1_1progress_1_1ProgressColumn.html#a525dd149076ea520b5ce842a1f33e2d9" title=" " alt="" coords="301,684,491,724"/>
<area shape="poly" title=" " alt="" coords="630,596,584,617,569,630,561,645,552,660,536,674,492,693,490,688,533,670,548,657,556,642,565,627,581,612,628,591"/>
<area shape="rect" href="../../d5/d4a/classpip_1_1__vendor_1_1rich_1_1spinner_1_1Spinner.html#a9666b4f3ea984736fd5f3e349b7c4820" title=" " alt="" coords="305,748,487,788"/>
<area shape="poly" title=" " alt="" coords="630,592,606,602,584,617,572,631,566,645,561,676,557,707,550,723,536,738,514,753,488,762,487,758,511,748,533,734,545,720,552,706,556,675,560,644,568,628,581,613,603,597,628,587"/>
<area shape="rect" href="../../d6/ddc/classpip_1_1__vendor_1_1rich_1_1layout_1_1Layout.html#a893253b4123f84b615b62f8cfd4e4aa6" title=" " alt="" coords="307,492,485,532"/>
<area shape="poly" title=" " alt="" coords="628,559,485,532,486,526,629,554"/>
<area shape="rect" href="../../d5/d4a/classpip_1_1__vendor_1_1rich_1_1spinner_1_1Spinner.html#a78e888061a88ccae2941402521d067eb" title=" " alt="" coords="301,556,491,596"/>
<area shape="poly" title=" " alt="" coords="628,579,492,579,492,573,628,573"/>
<area shape="rect" href="../../d2/d69/classpip_1_1__vendor_1_1rich_1_1logging_1_1RichHandler.html#a5139c481cf6866279c9310b303c18d61" title=" " alt="" coords="305,620,487,660"/>
<area shape="poly" title=" " alt="" coords="629,598,488,625,487,620,628,593"/>
<area shape="poly" title=" " alt="" coords="630,590,605,601,585,617,568,639,561,661,560,684,562,707,563,731,562,755,554,779,537,802,514,818,489,828,487,823,512,813,533,798,549,776,557,754,558,731,556,708,554,684,556,660,563,636,581,613,603,596,628,585"/>
<area shape="poly" title=" " alt="" coords="291,845,199,854,199,849,291,840"/>
<area shape="rect" href="../../d4/d44/classpip_1_1__vendor_1_1packaging_1_1version_1_1Version.html#a2ff35bd0845c847001da948d07c5d867" title=" " alt="" coords="622,849,845,889"/>
<area shape="poly" title=" " alt="" coords="1015,798,885,840,837,852,835,847,883,835,1014,793"/>
<area shape="rect" href="../../dd/dbc/classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1WrappedSocket.html#a7a886419c7eb341e946f9e1435e03b25" title=" " alt="" coords="932,849,1233,889"/>
<area shape="poly" title=" " alt="" coords="1268,855,1234,858,1233,853,1268,850"/>
<area shape="rect" href="../../dd/dbc/classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1WrappedSocket.html#a3bdf3dae07c902f093d7a7e80fc11525" title=" " alt="" coords="583,913,884,953"/>
<area shape="poly" title=" " alt="" coords="960,894,844,916,843,911,959,889"/>
<area shape="rect" href="../../df/d3a/classpip_1_1__vendor_1_1urllib3_1_1util_1_1ssltransport_1_1SSLTransport.html#a215f9335d4796d5b0ddc333e078b2a53" title=" " alt="" coords="1931,648,2183,688"/>
<area shape="poly" title=" " alt="" coords="2244,709,2155,691,2156,685,2245,704"/>
<area shape="rect" href="../../df/d3a/classpip_1_1__vendor_1_1urllib3_1_1util_1_1ssltransport_1_1SSLTransport.html#a29a2df1456770df8f8782a1cbf3b1972" title=" " alt="" coords="1631,581,1883,621"/>
<area shape="poly" title=" " alt="" coords="1952,648,1847,624,1848,619,1953,642"/>
<area shape="rect" href="../../df/d3a/classpip_1_1__vendor_1_1urllib3_1_1util_1_1ssltransport_1_1SSLTransport.html#ad6e7d502181babe5a16b73eef51b882e" title=" " alt="" coords="1631,709,1883,749"/>
<area shape="poly" title=" " alt="" coords="1945,693,1856,712,1855,707,1944,688"/>
<area shape="rect" href="../../df/d3a/classpip_1_1__vendor_1_1urllib3_1_1util_1_1ssltransport_1_1SSLTransport.html#a2b9eb595689be65611ee045adea6c2d8" title=" " alt="" coords="1631,645,1883,685"/>
<area shape="poly" title=" " alt="" coords="1917,669,1883,669,1883,664,1917,664"/>
<area shape="poly" title=" " alt="" coords="1646,707,1629,700,1576,668,1526,632,1452,566,1455,562,1529,628,1579,664,1632,695,1648,702"/>
<area shape="poly" title=" " alt="" coords="1617,741,1554,745,1553,740,1616,736"/>
<area shape="poly" title=" " alt="" coords="1683,756,1494,820,1493,815,1682,751"/>
<area shape="poly" title=" " alt="" coords="1896,727,2230,727,2230,732,1896,732"/>
</map>
</div>

</div>
</div>
<a id="ae4c50a4a42be37efc838c81e6108f2dd" name="ae4c50a4a42be37efc838c81e6108f2dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4c50a4a42be37efc838c81e6108f2dd">&#9670;&#160;</a></span>rebuild_proxies()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rebuild_proxies </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prepared_request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>proxies</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This method re-evaluates the proxy configuration by considering the
environment variables. If we are redirected to a URL covered by
NO_PROXY, we strip the proxy configuration. Otherwise, we set missing
proxy keys for this URL (in case they were stripped by a previous
redirect).

This method also replaces the Proxy-Authorization header where
necessary.

:rtype: dict
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d6/dbb/sessions_8py_source.html#l00303">303</a> of file <a class="el" href="../../d6/dbb/sessions_8py_source.html">sessions.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  303</span>    <span class="keyword">def </span>rebuild_proxies(self, prepared_request, proxies):</div>
<div class="line"><span class="lineno">  304</span>        <span class="stringliteral">&quot;&quot;&quot;This method re-evaluates the proxy configuration by considering the</span></div>
<div class="line"><span class="lineno">  305</span><span class="stringliteral">        environment variables. If we are redirected to a URL covered by</span></div>
<div class="line"><span class="lineno">  306</span><span class="stringliteral">        NO_PROXY, we strip the proxy configuration. Otherwise, we set missing</span></div>
<div class="line"><span class="lineno">  307</span><span class="stringliteral">        proxy keys for this URL (in case they were stripped by a previous</span></div>
<div class="line"><span class="lineno">  308</span><span class="stringliteral">        redirect).</span></div>
<div class="line"><span class="lineno">  309</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  310</span><span class="stringliteral">        This method also replaces the Proxy-Authorization header where</span></div>
<div class="line"><span class="lineno">  311</span><span class="stringliteral">        necessary.</span></div>
<div class="line"><span class="lineno">  312</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  313</span><span class="stringliteral">        :rtype: dict</span></div>
<div class="line"><span class="lineno">  314</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  315</span>        headers = <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">prepared_request.headers</a></div>
<div class="line"><span class="lineno">  316</span>        scheme = urlparse(<a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">prepared_request.url</a>).scheme</div>
<div class="line"><span class="lineno">  317</span>        new_proxies = resolve_proxies(prepared_request, proxies, self.trust_env)</div>
<div class="line"><span class="lineno">  318</span> </div>
<div class="line"><span class="lineno">  319</span>        <span class="keywordflow">if</span> <span class="stringliteral">&quot;Proxy-Authorization&quot;</span> <span class="keywordflow">in</span> headers:</div>
<div class="line"><span class="lineno">  320</span>            del headers[<span class="stringliteral">&quot;Proxy-Authorization&quot;</span>]</div>
<div class="line"><span class="lineno">  321</span> </div>
<div class="line"><span class="lineno">  322</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  323</span>            username, password = get_auth_from_url(new_proxies[scheme])</div>
<div class="line"><span class="lineno">  324</span>        <span class="keywordflow">except</span> KeyError:</div>
<div class="line"><span class="lineno">  325</span>            username, password = <span class="keywordtype">None</span>, <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  326</span> </div>
<div class="line"><span class="lineno">  327</span>        <span class="comment"># urllib3 handles proxy authorization for us in the standard adapter.</span></div>
<div class="line"><span class="lineno">  328</span>        <span class="comment"># Avoid appending this to TLS tunneled requests where it may be leaked.</span></div>
<div class="line"><span class="lineno">  329</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">scheme.startswith</a>(<span class="stringliteral">&#39;https&#39;</span>) <span class="keywordflow">and</span> username <span class="keywordflow">and</span> password:</div>
<div class="line"><span class="lineno">  330</span>            headers[<span class="stringliteral">&quot;Proxy-Authorization&quot;</span>] = _basic_auth_str(username, password)</div>
<div class="line"><span class="lineno">  331</span> </div>
<div class="line"><span class="lineno">  332</span>        <span class="keywordflow">return</span> new_proxies</div>
<div class="line"><span class="lineno">  333</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/d00/prime__search_8m_source.html#l00010">i</a>, and <a class="el" href="../../d6/dbb/sessions_8py_source.html#l00440">Session.trust_env</a>.</p>

</div>
</div>
<a id="a37eca0b428de757f5dfe05976fb43cd3" name="a37eca0b428de757f5dfe05976fb43cd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37eca0b428de757f5dfe05976fb43cd3">&#9670;&#160;</a></span>resolve_redirects()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">resolve_redirects </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>resp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>stream</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>timeout</em> = <code><a class="el" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">None</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>verify</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cert</em> = <code><a class="el" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">None</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>proxies</em> = <code><a class="el" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">None</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>yield_requests</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>adapter_kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Receives a Response. Returns a generator of Responses or Requests.</pre> 
<p class="definition">Definition at line <a class="el" href="../../d6/dbb/sessions_8py_source.html#l00159">159</a> of file <a class="el" href="../../d6/dbb/sessions_8py_source.html">sessions.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  170</span>    ):</div>
<div class="line"><span class="lineno">  171</span>        <span class="stringliteral">&quot;&quot;&quot;Receives a Response. Returns a generator of Responses or Requests.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  172</span> </div>
<div class="line"><span class="lineno">  173</span>        hist = []  <span class="comment"># keep track of history</span></div>
<div class="line"><span class="lineno">  174</span> </div>
<div class="line"><span class="lineno">  175</span>        url = self.get_redirect_target(resp)</div>
<div class="line"><span class="lineno">  176</span>        previous_fragment = urlparse(<a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">req.url</a>).fragment</div>
<div class="line"><span class="lineno">  177</span>        <span class="keywordflow">while</span> url:</div>
<div class="line"><span class="lineno">  178</span>            prepared_request = <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">req.copy</a>()</div>
<div class="line"><span class="lineno">  179</span> </div>
<div class="line"><span class="lineno">  180</span>            <span class="comment"># Update history and keep track of redirects.</span></div>
<div class="line"><span class="lineno">  181</span>            <span class="comment"># resp.history must ignore the original request in this loop</span></div>
<div class="line"><span class="lineno">  182</span>            <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">hist.append</a>(resp)</div>
<div class="line"><span class="lineno">  183</span>            <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">resp.history</a> = hist[1:]</div>
<div class="line"><span class="lineno">  184</span> </div>
<div class="line"><span class="lineno">  185</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  186</span>                <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">resp.content</a>  <span class="comment"># Consume socket so it can be released</span></div>
<div class="line"><span class="lineno">  187</span>            <span class="keywordflow">except</span> (ChunkedEncodingError, ContentDecodingError, RuntimeError):</div>
<div class="line"><span class="lineno">  188</span>                <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">resp.raw.read</a>(decode_content=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  189</span> </div>
<div class="line"><span class="lineno">  190</span>            <span class="keywordflow">if</span> <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">len</a>(<a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">resp.history</a>) &gt;= self.max_redirects:</div>
<div class="line"><span class="lineno">  191</span>                <span class="keywordflow">raise</span> TooManyRedirects(</div>
<div class="line"><span class="lineno">  192</span>                    f<span class="stringliteral">&quot;Exceeded {self.max_redirects} redirects.&quot;</span>, response=resp</div>
<div class="line"><span class="lineno">  193</span>                )</div>
<div class="line"><span class="lineno">  194</span> </div>
<div class="line"><span class="lineno">  195</span>            <span class="comment"># Release the connection back into the pool.</span></div>
<div class="line"><span class="lineno">  196</span>            <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">resp.close</a>()</div>
<div class="line"><span class="lineno">  197</span> </div>
<div class="line"><span class="lineno">  198</span>            <span class="comment"># Handle redirection without scheme (see: RFC 1808 Section 4)</span></div>
<div class="line"><span class="lineno">  199</span>            <span class="keywordflow">if</span> <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">url.startswith</a>(<span class="stringliteral">&quot;//&quot;</span>):</div>
<div class="line"><span class="lineno">  200</span>                parsed_rurl = urlparse(<a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">resp.url</a>)</div>
<div class="line"><span class="lineno">  201</span>                url = <span class="stringliteral">&quot;:&quot;</span>.join([to_native_string(<a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">parsed_rurl.scheme</a>), url])</div>
<div class="line"><span class="lineno">  202</span> </div>
<div class="line"><span class="lineno">  203</span>            <span class="comment"># Normalize url case and attach previous fragment if needed (RFC 7231 7.1.2)</span></div>
<div class="line"><span class="lineno">  204</span>            parsed = urlparse(url)</div>
<div class="line"><span class="lineno">  205</span>            <span class="keywordflow">if</span> <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">parsed.fragment</a> == <span class="stringliteral">&quot;&quot;</span> <span class="keywordflow">and</span> previous_fragment:</div>
<div class="line"><span class="lineno">  206</span>                parsed = <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">parsed._replace</a>(fragment=previous_fragment)</div>
<div class="line"><span class="lineno">  207</span>            <span class="keywordflow">elif</span> <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">parsed.fragment</a>:</div>
<div class="line"><span class="lineno">  208</span>                previous_fragment = <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">parsed.fragment</a></div>
<div class="line"><span class="lineno">  209</span>            url = <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">parsed.geturl</a>()</div>
<div class="line"><span class="lineno">  210</span> </div>
<div class="line"><span class="lineno">  211</span>            <span class="comment"># Facilitate relative &#39;location&#39; headers, as allowed by RFC 7231.</span></div>
<div class="line"><span class="lineno">  212</span>            <span class="comment"># (e.g. &#39;/path/to/resource&#39; instead of &#39;http://domain.tld/path/to/resource&#39;)</span></div>
<div class="line"><span class="lineno">  213</span>            <span class="comment"># Compliant with RFC3986, we percent encode the url.</span></div>
<div class="line"><span class="lineno">  214</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">parsed.netloc</a>:</div>
<div class="line"><span class="lineno">  215</span>                url = urljoin(<a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">resp.url</a>, requote_uri(url))</div>
<div class="line"><span class="lineno">  216</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  217</span>                url = requote_uri(url)</div>
<div class="line"><span class="lineno">  218</span> </div>
<div class="line"><span class="lineno">  219</span>            <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">prepared_request.url</a> = to_native_string(url)</div>
<div class="line"><span class="lineno">  220</span> </div>
<div class="line"><span class="lineno">  221</span>            self.rebuild_method(prepared_request, resp)</div>
<div class="line"><span class="lineno">  222</span> </div>
<div class="line"><span class="lineno">  223</span>            <span class="comment"># https://github.com/psf/requests/issues/1084</span></div>
<div class="line"><span class="lineno">  224</span>            <span class="keywordflow">if</span> <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">resp.status_code</a> <span class="keywordflow">not</span> <span class="keywordflow">in</span> (</div>
<div class="line"><span class="lineno">  225</span>                <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">codes.temporary_redirect</a>,</div>
<div class="line"><span class="lineno">  226</span>                <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">codes.permanent_redirect</a>,</div>
<div class="line"><span class="lineno">  227</span>            ):</div>
<div class="line"><span class="lineno">  228</span>                <span class="comment"># https://github.com/psf/requests/issues/3490</span></div>
<div class="line"><span class="lineno">  229</span>                purged_headers = (<span class="stringliteral">&quot;Content-Length&quot;</span>, <span class="stringliteral">&quot;Content-Type&quot;</span>, <span class="stringliteral">&quot;Transfer-Encoding&quot;</span>)</div>
<div class="line"><span class="lineno">  230</span>                <span class="keywordflow">for</span> header <span class="keywordflow">in</span> purged_headers:</div>
<div class="line"><span class="lineno">  231</span>                    <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">prepared_request.headers.pop</a>(header, <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  232</span>                <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">prepared_request.body</a> = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  233</span> </div>
<div class="line"><span class="lineno">  234</span>            headers = <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">prepared_request.headers</a></div>
<div class="line"><span class="lineno">  235</span>            <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">headers.pop</a>(<span class="stringliteral">&quot;Cookie&quot;</span>, <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  236</span> </div>
<div class="line"><span class="lineno">  237</span>            <span class="comment"># Extract any cookies sent on the response to the cookiejar</span></div>
<div class="line"><span class="lineno">  238</span>            <span class="comment"># in the new request. Because we&#39;ve mutated our copied prepared</span></div>
<div class="line"><span class="lineno">  239</span>            <span class="comment"># request, use the old one that we haven&#39;t yet touched.</span></div>
<div class="line"><span class="lineno">  240</span>            extract_cookies_to_jar(<a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">prepared_request._cookies</a>, req, <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">resp.raw</a>)</div>
<div class="line"><span class="lineno">  241</span>            merge_cookies(<a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">prepared_request._cookies</a>, self.cookies)</div>
<div class="line"><span class="lineno">  242</span>            <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">prepared_request.prepare_cookies</a>(<a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">prepared_request._cookies</a>)</div>
<div class="line"><span class="lineno">  243</span> </div>
<div class="line"><span class="lineno">  244</span>            <span class="comment"># Rebuild auth and proxy information.</span></div>
<div class="line"><span class="lineno">  245</span>            proxies = self.rebuild_proxies(prepared_request, proxies)</div>
<div class="line"><span class="lineno">  246</span>            self.rebuild_auth(prepared_request, resp)</div>
<div class="line"><span class="lineno">  247</span> </div>
<div class="line"><span class="lineno">  248</span>            <span class="comment"># A failed tell() sets `_body_position` to `object()`. This non-None</span></div>
<div class="line"><span class="lineno">  249</span>            <span class="comment"># value ensures `rewindable` will be True, allowing us to raise an</span></div>
<div class="line"><span class="lineno">  250</span>            <span class="comment"># UnrewindableBodyError, instead of hanging the connection.</span></div>
<div class="line"><span class="lineno">  251</span>            rewindable = <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">prepared_request._body_position</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> (</div>
<div class="line"><span class="lineno">  252</span>                <span class="stringliteral">&quot;Content-Length&quot;</span> <span class="keywordflow">in</span> headers <span class="keywordflow">or</span> <span class="stringliteral">&quot;Transfer-Encoding&quot;</span> <span class="keywordflow">in</span> headers</div>
<div class="line"><span class="lineno">  253</span>            )</div>
<div class="line"><span class="lineno">  254</span> </div>
<div class="line"><span class="lineno">  255</span>            <span class="comment"># Attempt to rewind consumed file-like object.</span></div>
<div class="line"><span class="lineno">  256</span>            <span class="keywordflow">if</span> rewindable:</div>
<div class="line"><span class="lineno">  257</span>                rewind_body(prepared_request)</div>
<div class="line"><span class="lineno">  258</span> </div>
<div class="line"><span class="lineno">  259</span>            <span class="comment"># Override the original request.</span></div>
<div class="line"><span class="lineno">  260</span>            req = prepared_request</div>
<div class="line"><span class="lineno">  261</span> </div>
<div class="line"><span class="lineno">  262</span>            <span class="keywordflow">if</span> yield_requests:</div>
<div class="line"><span class="lineno">  263</span>                <span class="keywordflow">yield</span> req</div>
<div class="line"><span class="lineno">  264</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  265</span> </div>
<div class="line"><span class="lineno">  266</span>                resp = self.send(</div>
<div class="line"><span class="lineno">  267</span>                    req,</div>
<div class="line"><span class="lineno">  268</span>                    stream=stream,</div>
<div class="line"><span class="lineno">  269</span>                    timeout=timeout,</div>
<div class="line"><span class="lineno">  270</span>                    verify=verify,</div>
<div class="line"><span class="lineno">  271</span>                    cert=cert,</div>
<div class="line"><span class="lineno">  272</span>                    proxies=proxies,</div>
<div class="line"><span class="lineno">  273</span>                    allow_redirects=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno">  274</span>                    **adapter_kwargs,</div>
<div class="line"><span class="lineno">  275</span>                )</div>
<div class="line"><span class="lineno">  276</span> </div>
<div class="line"><span class="lineno">  277</span>                extract_cookies_to_jar(self.cookies, prepared_request, <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">resp.raw</a>)</div>
<div class="line"><span class="lineno">  278</span> </div>
<div class="line"><span class="lineno">  279</span>                <span class="comment"># extract redirect url, if any, for the next loop</span></div>
<div class="line"><span class="lineno">  280</span>                url = self.get_redirect_target(resp)</div>
<div class="line"><span class="lineno">  281</span>                <span class="keywordflow">yield</span> resp</div>
<div class="line"><span class="lineno">  282</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/dbb/sessions_8py_source.html#l00107">SessionRedirectMixin.get_redirect_target()</a>, <a class="el" href="../../d2/d00/prime__search_8m_source.html#l00010">i</a>, <a class="el" href="../../d6/dbb/sessions_8py_source.html#l00436">Session.max_redirects</a>, and <a class="el" href="../../d6/dbb/sessions_8py_source.html#l00334">SessionRedirectMixin.rebuild_method()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbb/sessions_8py_source.html#l00673">Session.send()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin_a37eca0b428de757f5dfe05976fb43cd3_cgraph.png" border="0" usemap="#ad2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin_a37eca0b428de757f5dfe05976fb43cd3_cgraph" alt=""/></div>
<map name="ad2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin_a37eca0b428de757f5dfe05976fb43cd3_cgraph" id="ad2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin_a37eca0b428de757f5dfe05976fb43cd3_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,140,56"/>
<area shape="rect" href="../../d2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin.html#a62b9f574341531d32cac009ed5fadf9b" title=" " alt="" coords="188,5,335,31"/>
<area shape="poly" title=" " alt="" coords="140,32,174,27,175,32,140,37"/>
<area shape="rect" href="../../d2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin.html#a30b50d8e183c453a1c92fe5265a9a34a" title=" " alt="" coords="199,55,323,80"/>
<area shape="poly" title=" " alt="" coords="140,49,186,55,185,60,140,55"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin_a37eca0b428de757f5dfe05976fb43cd3_icgraph.png" border="0" usemap="#ad2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin_a37eca0b428de757f5dfe05976fb43cd3_icgraph" alt=""/></div>
<map name="ad2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin_a37eca0b428de757f5dfe05976fb43cd3_icgraph" id="ad2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin_a37eca0b428de757f5dfe05976fb43cd3_icgraph">
<area shape="rect" title=" " alt="" coords="2800,483,2935,509"/>
<area shape="rect" href="../../d8/d88/classpip_1_1__vendor_1_1requests_1_1sessions_1_1Session.html#ad37f04d36bee73e86a56c5251a733671" title=" " alt="" coords="2531,476,2752,516"/>
<area shape="poly" title=" " alt="" coords="2786,499,2752,499,2752,493,2786,493"/>
<area shape="rect" href="../../d8/d88/classpip_1_1__vendor_1_1requests_1_1sessions_1_1Session.html#accf48da4057f687c5f174e07b86a34d4" title=" " alt="" coords="1321,293,1543,333"/>
<area shape="poly" title=" " alt="" coords="2602,470,2547,435,2482,405,2355,369,2224,343,2092,324,1962,313,1839,307,1726,305,1543,309,1543,303,1726,299,1839,301,1963,307,2093,319,2225,338,2357,364,2484,400,2549,430,2604,465"/>
<area shape="rect" href="../../d0/d47/classpip_1_1__vendor_1_1urllib3_1_1connection_1_1HTTPConnection.html#a450eceb4717554a39c1cbbc71b4315c0" title=" " alt="" coords="1311,440,1553,480"/>
<area shape="poly" title=" " alt="" coords="2517,519,2342,541,2121,557,1999,560,1875,558,1751,550,1630,533,1547,511,1475,483,1477,478,1548,506,1631,528,1752,544,1876,553,1999,555,2120,552,2342,535,2517,514"/>
<area shape="rect" href="../../dd/dbc/classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1WrappedSocket.html#ac4263cd0f592b9a15fe72b1ffc4a5b5c" title=" " alt="" coords="1281,587,1583,627"/>
<area shape="poly" title=" " alt="" coords="2583,524,2535,541,2483,555,2362,576,2238,591,1991,610,1765,616,1583,615,1583,610,1765,611,1991,605,2237,586,2361,570,2482,549,2533,536,2581,519"/>
<area shape="rect" href="../../df/d3a/classpip_1_1__vendor_1_1urllib3_1_1util_1_1ssltransport_1_1SSLTransport.html#a71dee473b4565935c7de9e0dd7ebcc12" title=" " alt="" coords="2231,415,2483,455"/>
<area shape="poly" title=" " alt="" coords="2534,476,2449,457,2451,452,2535,470"/>
<area shape="rect" href="../../d8/d88/classpip_1_1__vendor_1_1requests_1_1sessions_1_1Session.html#a4ecfc01eba5c54f55da17c4dcba34d07" title=" " alt="" coords="972,197,1193,237"/>
<area shape="poly" title=" " alt="" coords="1360,291,1233,252,1184,240,1185,235,1234,247,1362,286"/>
<area shape="rect" href="../../d8/d88/classpip_1_1__vendor_1_1requests_1_1sessions_1_1Session.html#ae65ffc33501bda50139df9c6e4903d57" title=" " alt="" coords="972,261,1193,301"/>
<area shape="poly" title=" " alt="" coords="1307,305,1193,294,1194,289,1308,299"/>
<area shape="rect" href="../../d8/d88/classpip_1_1__vendor_1_1requests_1_1sessions_1_1Session.html#aea5666eed92f188f209d6fb488ba602c" title=" " alt="" coords="972,325,1193,365"/>
<area shape="poly" title=" " alt="" coords="1308,327,1194,338,1193,333,1307,322"/>
<area shape="rect" href="../../d8/d88/classpip_1_1__vendor_1_1requests_1_1sessions_1_1Session.html#a7934a02ccaf206b271e9b2b4e258e456" title=" " alt="" coords="972,655,1193,695"/>
<area shape="poly" title=" " alt="" coords="1391,343,1338,383,1283,430,1226,491,1174,555,1100,656,1096,653,1170,551,1222,487,1279,426,1334,378,1387,339"/>
<area shape="rect" href="../../d8/d88/classpip_1_1__vendor_1_1requests_1_1sessions_1_1Session.html#a7ba5796ef02f3010aada5c329f64f419" title=" " alt="" coords="972,719,1193,759"/>
<area shape="poly" title=" " alt="" coords="1380,342,1328,379,1303,403,1284,429,1267,468,1261,504,1263,539,1268,573,1272,607,1271,640,1260,674,1235,709,1216,723,1195,734,1192,729,1214,719,1231,705,1255,672,1266,640,1267,607,1263,574,1258,540,1256,504,1262,466,1279,427,1299,399,1324,375,1376,338"/>
<area shape="rect" href="../../d8/d88/classpip_1_1__vendor_1_1requests_1_1sessions_1_1Session.html#a824c24cd63da3232865e3625d6dd20f0" title=" " alt="" coords="972,37,1193,77"/>
<area shape="poly" title=" " alt="" coords="1404,284,1331,206,1283,163,1232,124,1188,99,1143,80,1145,75,1190,94,1235,119,1287,158,1334,202,1408,281"/>
<area shape="rect" href="../../d8/d88/classpip_1_1__vendor_1_1requests_1_1sessions_1_1Session.html#a688de500f6aad8de9191e47f67900dac" title=" " alt="" coords="972,133,1193,173"/>
<area shape="poly" title=" " alt="" coords="1394,287,1322,236,1278,210,1232,188,1193,174,1194,169,1234,183,1280,205,1324,231,1397,282"/>
<area shape="rect" href="../../d4/d22/classpip_1_1__vendor_1_1distlib_1_1metadata_1_1LegacyMetadata.html#a45fe47d872f7d0ba6c3e6c59ff407767" title=" " alt="" coords="627,325,840,365"/>
<area shape="poly" title=" " alt="" coords="960,307,841,329,840,323,959,301"/>
<area shape="rect" href="../../d6/ddc/classpip_1_1__vendor_1_1rich_1_1layout_1_1Layout.html#a9828e7aea6afb24c43f6a5d5bb426a17" title=" " alt="" coords="646,69,821,109"/>
<area shape="poly" title=" " alt="" coords="958,269,930,251,916,236,909,219,905,186,902,153,895,138,882,123,853,106,820,96,822,90,855,101,886,119,900,135,907,152,911,185,914,217,921,233,934,247,960,264"/>
<area shape="rect" href="../../d4/d22/classpip_1_1__vendor_1_1distlib_1_1metadata_1_1LegacyMetadata.html#a403b9b48cdac446d90f007fabbd0d043" title=" " alt="" coords="627,133,839,173"/>
<area shape="poly" title=" " alt="" coords="957,265,930,252,914,236,906,218,898,202,883,188,839,168,841,163,885,183,902,199,910,216,918,232,934,247,960,260"/>
<area shape="rect" href="../../df/d93/classpip_1_1__vendor_1_1rich_1_1theme_1_1ThemeStack.html#a7c5736149a00adc9905481882cbed317" title=" " alt="" coords="623,197,843,237"/>
<area shape="poly" title=" " alt="" coords="959,261,843,240,844,235,960,256"/>
<area shape="rect" href="../../d4/d22/classpip_1_1__vendor_1_1distlib_1_1metadata_1_1LegacyMetadata.html#ac49ba1db71cb2ac0859a21e1fb607e0a" title=" " alt="" coords="627,261,839,301"/>
<area shape="poly" title=" " alt="" coords="958,284,840,284,840,279,958,279"/>
<area shape="rect" href="../../d3/d91/classpip_1_1__vendor_1_1pygments_1_1scanner_1_1Scanner.html#ae1a635b1cf68e27b2019c3bdf416874d" title=" " alt="" coords="284,133,508,173"/>
<area shape="poly" title=" " alt="" coords="614,156,508,156,508,151,614,151"/>
<area shape="rect" href="../../d4/d22/classpip_1_1__vendor_1_1distlib_1_1metadata_1_1LegacyMetadata.html#a0148811e141b0f54758962092c9b031a" title=" " alt="" coords="290,261,502,301"/>
<area shape="poly" title=" " alt="" coords="613,284,503,284,503,279,613,279"/>
<area shape="rect" href="../../d4/db8/classpip_1_1__vendor_1_1pygments_1_1lexer_1_1Lexer.html#a61a1f3a6a4df93d491cd753f617782a2" title=" " alt="" coords="631,804,836,844"/>
<area shape="poly" title=" " alt="" coords="961,694,934,709,917,729,911,750,904,773,886,794,862,808,837,817,835,812,860,803,882,790,899,770,905,749,912,726,930,705,958,689"/>
<area shape="rect" href="../../da/d32/classpip_1_1__vendor_1_1pygments_1_1formatters_1_1html_1_1HtmlFormatter.html#a6c2144637f5564384ae96c71b3cf2139" title=" " alt="" coords="595,979,872,1019"/>
<area shape="poly" title=" " alt="" coords="960,690,934,709,914,736,905,765,905,793,908,822,913,852,913,882,905,913,886,944,861,966,833,981,830,976,858,961,882,941,900,911,908,882,907,852,903,823,899,793,900,764,909,734,930,705,957,686"/>
<area shape="rect" href="../../d9/dd5/classpip_1_1__vendor_1_1rich_1_1console_1_1Console.html#aaa5101116b1aae20803bc8827580145b" title=" " alt="" coords="305,913,487,953"/>
<area shape="poly" title=" " alt="" coords="961,691,934,709,920,726,913,744,911,782,909,821,901,840,886,858,841,890,791,914,739,931,685,942,631,948,579,951,487,948,487,942,579,945,631,943,684,937,738,926,789,909,838,885,882,854,897,837,904,820,906,782,908,743,915,723,930,705,958,687"/>
<area shape="rect" href="../../d9/dd5/classpip_1_1__vendor_1_1rich_1_1console_1_1Console.html#ae52a7131751a431b690073dc6565176c" title=" " alt="" coords="642,740,825,780"/>
<area shape="poly" title=" " alt="" coords="969,700,933,709,885,724,815,743,814,737,883,719,931,704,968,695"/>
<area shape="rect" href="../../d9/dd5/classpip_1_1__vendor_1_1rich_1_1console_1_1Console.html#a29a3d7611cae695f4c93f89f5cf9998c" title=" " alt="" coords="305,351,487,391"/>
<area shape="poly" title=" " alt="" coords="1063,644,1035,596,995,539,944,482,914,458,883,437,852,424,811,413,706,396,591,384,487,377,488,372,592,379,707,391,812,408,854,419,885,432,918,453,947,478,999,535,1040,593,1068,641"/>
<area shape="rect" href="../../d9/dd5/classpip_1_1__vendor_1_1rich_1_1console_1_1Console.html#a55af87726ddecd3097b4f1ea7ed3d635" title=" " alt="" coords="642,625,825,665"/>
<area shape="poly" title=" " alt="" coords="958,667,825,656,825,650,958,662"/>
<area shape="rect" href="../../d9/dd5/classpip_1_1__vendor_1_1rich_1_1console_1_1Console.html#a77ca724f96f555c450d98689e0de8219" title=" " alt="" coords="305,849,487,889"/>
<area shape="poly" title=" " alt="" coords="958,684,730,702,635,715,602,723,584,730,572,742,565,754,561,782,556,811,549,826,536,839,514,854,488,863,487,858,511,849,533,835,544,823,551,810,555,781,560,753,568,739,581,726,601,718,634,710,730,697,958,679"/>
<area shape="rect" href="../../d9/dd5/classpip_1_1__vendor_1_1rich_1_1console_1_1Console.html#a4445885da61a6b0e3ccf3aad006a52e6" title=" " alt="" coords="16,785,199,825"/>
<area shape="poly" title=" " alt="" coords="1023,652,883,592,786,548,712,512,636,481,534,456,454,436,388,421,358,419,327,423,294,434,259,455,243,469,234,482,226,512,222,547,212,588,162,700,121,786,116,784,157,698,207,586,217,546,220,511,229,480,239,465,256,451,292,430,326,418,357,414,389,416,455,431,535,451,637,476,714,507,789,543,885,587,1025,647"/>
<area shape="rect" href="../../da/d32/classpip_1_1__vendor_1_1pygments_1_1formatters_1_1html_1_1HtmlFormatter.html#a47f89409ef351ace670f178a2e95f794" title=" " alt="" coords="257,978,535,1033"/>
<area shape="poly" title=" " alt="" coords="581,1004,535,1005,535,1000,581,999"/>
<area shape="rect" href="../../da/d32/classpip_1_1__vendor_1_1pygments_1_1formatters_1_1html_1_1HtmlFormatter.html#a8a7e9c7e994a5d5c80756962851071c4" title=" " alt="" coords="257,1057,535,1097"/>
<area shape="poly" title=" " alt="" coords="620,1024,583,1033,535,1048,488,1060,487,1055,534,1043,582,1028,619,1019"/>
<area shape="rect" href="../../d4/d73/classpip_1_1__internal_1_1utils_1_1__log_1_1VerboseLogger.html#acfa825cffb2d6489ccddcc9e903fc846" title=" " alt="" coords="5,913,209,953"/>
<area shape="poly" title=" " alt="" coords="291,936,210,936,210,931,291,931"/>
<area shape="rect" href="../../d9/dd5/classpip_1_1__vendor_1_1rich_1_1console_1_1Console.html#a282ed903fbc8d483c4bf42c6a3070a7a" title=" " alt="" coords="16,471,199,511"/>
<area shape="poly" title=" " alt="" coords="300,397,258,412,146,473,144,468,256,407,298,392"/>
<area shape="rect" href="../../d9/dd5/classpip_1_1__vendor_1_1rich_1_1console_1_1Console.html#affd303d1296fb276df424183cbc2c863" title=" " alt="" coords="16,535,199,575"/>
<area shape="poly" title=" " alt="" coords="293,391,259,411,247,425,241,438,236,466,231,495,224,510,211,525,194,537,191,532,208,521,219,507,226,494,230,465,236,436,243,422,256,407,290,386"/>
<area shape="rect" href="../../d9/dd5/classpip_1_1__vendor_1_1rich_1_1console_1_1Console.html#ae069d587a4c9f3c087f77248ba9ebcc0" title=" " alt="" coords="16,191,199,231"/>
<area shape="poly" title=" " alt="" coords="311,348,282,334,256,315,239,297,231,279,223,261,208,245,188,233,191,228,211,241,228,258,236,276,244,294,259,311,285,329,314,343"/>
<area shape="rect" href="../../d9/dd5/classpip_1_1__vendor_1_1rich_1_1console_1_1Console.html#a122d962897c0084e7cab946b4eb43a87" title=" " alt="" coords="16,255,199,295"/>
<area shape="poly" title=" " alt="" coords="324,349,208,309,172,297,173,292,210,304,326,344"/>
<area shape="rect" href="../../d9/dd5/classpip_1_1__vendor_1_1rich_1_1console_1_1Console.html#aaf78ceeece6e5a7b3e64e375fa9febec" title=" " alt="" coords="16,319,199,359"/>
<area shape="poly" title=" " alt="" coords="291,362,199,351,199,346,292,356"/>
<area shape="rect" href="../../d9/dd5/classpip_1_1__vendor_1_1rich_1_1console_1_1Console.html#a6d962ea3575b0dd559665f77307a89b5" title=" " alt="" coords="16,383,199,423"/>
<area shape="poly" title=" " alt="" coords="292,385,199,395,199,390,291,380"/>
<area shape="poly" title=" " alt="" coords="157,459,139,452,107,449,79,451,62,456,56,462,59,469,54,471,51,461,60,452,78,446,107,444,141,447,159,454"/>
<area shape="poly" title=" " alt="" coords="662,673,620,697,585,730,571,752,565,774,564,818,562,860,554,882,536,903,514,919,488,929,486,924,511,914,533,899,549,879,557,859,559,817,560,773,566,750,581,726,617,693,659,669"/>
<area shape="poly" title=" " alt="" coords="703,617,629,540,582,496,533,455,483,421,435,393,438,389,486,417,536,451,586,492,633,536,707,613"/>
<area shape="poly" title=" " alt="" coords="791,614,771,607,733,604,701,606,680,611,673,617,677,624,672,626,668,616,678,606,700,601,733,599,772,601,793,609"/>
<area shape="rect" href="../../df/dd7/classpip_1_1__vendor_1_1rich_1_1progress_1_1ProgressColumn.html#a525dd149076ea520b5ce842a1f33e2d9" title=" " alt="" coords="301,657,491,697"/>
<area shape="poly" title=" " alt="" coords="629,658,491,671,491,666,628,653"/>
<area shape="rect" href="../../d5/d4a/classpip_1_1__vendor_1_1rich_1_1spinner_1_1Spinner.html#a9666b4f3ea984736fd5f3e349b7c4820" title=" " alt="" coords="305,721,487,761"/>
<area shape="poly" title=" " alt="" coords="629,671,584,686,560,699,536,712,488,726,487,721,534,707,557,694,582,682,628,666"/>
<area shape="rect" href="../../d6/ddc/classpip_1_1__vendor_1_1rich_1_1layout_1_1Layout.html#a893253b4123f84b615b62f8cfd4e4aa6" title=" " alt="" coords="307,465,485,505"/>
<area shape="poly" title=" " alt="" coords="695,619,623,568,579,542,534,520,485,504,486,499,536,515,582,537,626,564,698,615"/>
<area shape="rect" href="../../d5/d4a/classpip_1_1__vendor_1_1rich_1_1spinner_1_1Spinner.html#a78e888061a88ccae2941402521d067eb" title=" " alt="" coords="301,529,491,569"/>
<area shape="poly" title=" " alt="" coords="661,623,534,584,487,572,489,567,535,579,662,618"/>
<area shape="rect" href="../../d2/d69/classpip_1_1__vendor_1_1rich_1_1logging_1_1RichHandler.html#a5139c481cf6866279c9310b303c18d61" title=" " alt="" coords="305,593,487,633"/>
<area shape="poly" title=" " alt="" coords="628,638,487,625,487,619,628,633"/>
<area shape="poly" title=" " alt="" coords="630,660,605,671,585,686,570,704,563,722,562,761,560,800,552,820,536,839,514,855,488,865,486,860,511,850,533,835,547,817,554,799,556,761,558,721,566,701,581,682,603,666,628,655"/>
<area shape="rect" href="../../d9/dd5/classpip_1_1__vendor_1_1rich_1_1console_1_1Console.html#a81e4d468380f778535d7319f316ab336" title=" " alt="" coords="291,785,501,825"/>
<area shape="poly" title=" " alt="" coords="630,662,606,672,584,686,568,707,561,730,555,753,536,775,503,794,500,789,533,771,550,750,556,728,563,705,581,682,604,668,628,657"/>
<area shape="poly" title=" " alt="" coords="291,849,197,828,199,823,292,844"/>
<area shape="poly" title=" " alt="" coords="277,808,199,808,199,803,277,803"/>
<area shape="rect" href="../../d4/d44/classpip_1_1__vendor_1_1packaging_1_1version_1_1Version.html#a2ff35bd0845c847001da948d07c5d867" title=" " alt="" coords="622,5,845,45"/>
<area shape="poly" title=" " alt="" coords="958,49,845,38,845,33,958,43"/>
<area shape="rect" href="../../dd/dbc/classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1WrappedSocket.html#a7a886419c7eb341e946f9e1435e03b25" title=" " alt="" coords="932,885,1233,925"/>
<area shape="poly" title=" " alt="" coords="1399,638,1109,887,1106,883,1395,634"/>
<area shape="rect" href="../../dd/dbc/classpip_1_1__vendor_1_1urllib3_1_1contrib_1_1securetransport_1_1WrappedSocket.html#a3bdf3dae07c902f093d7a7e80fc11525" title=" " alt="" coords="583,1043,884,1083"/>
<area shape="poly" title=" " alt="" coords="1047,936,974,986,931,1011,885,1033,850,1045,848,1040,883,1028,928,1007,972,981,1044,932"/>
<area shape="rect" href="../../df/d3a/classpip_1_1__vendor_1_1urllib3_1_1util_1_1ssltransport_1_1SSLTransport.html#a215f9335d4796d5b0ddc333e078b2a53" title=" " alt="" coords="1931,415,2183,455"/>
<area shape="poly" title=" " alt="" coords="2217,437,2183,437,2183,432,2217,432"/>
<area shape="rect" href="../../df/d3a/classpip_1_1__vendor_1_1urllib3_1_1util_1_1ssltransport_1_1SSLTransport.html#a29a2df1456770df8f8782a1cbf3b1972" title=" " alt="" coords="1631,479,1883,519"/>
<area shape="poly" title=" " alt="" coords="1950,460,1851,481,1850,476,1948,455"/>
<area shape="rect" href="../../df/d3a/classpip_1_1__vendor_1_1urllib3_1_1util_1_1ssltransport_1_1SSLTransport.html#ad6e7d502181babe5a16b73eef51b882e" title=" " alt="" coords="1631,351,1883,391"/>
<area shape="poly" title=" " alt="" coords="1948,414,1850,393,1851,388,1950,409"/>
<area shape="rect" href="../../df/d3a/classpip_1_1__vendor_1_1urllib3_1_1util_1_1ssltransport_1_1SSLTransport.html#a2b9eb595689be65611ee045adea6c2d8" title=" " alt="" coords="1631,415,1883,455"/>
<area shape="poly" title=" " alt="" coords="1917,437,1883,437,1883,432,1917,432"/>
<area shape="poly" title=" " alt="" coords="1629,351,1543,336,1544,330,1630,346"/>
<area shape="poly" title=" " alt="" coords="1663,397,1631,405,1501,443,1500,437,1630,400,1662,392"/>
<area shape="poly" title=" " alt="" coords="1639,400,1632,405,1615,425,1607,446,1600,469,1585,494,1557,522,1526,548,1469,589,1466,584,1523,544,1553,519,1581,490,1595,466,1602,444,1610,422,1629,401,1636,396"/>
<area shape="poly" title=" " alt="" coords="1897,375,2035,385,2183,400,2258,412,2257,417,2182,405,2035,390,1896,380"/>
</map>
</div>

</div>
</div>
<a id="a0bde8e57f0cd67a44286b2ad679bb0a6" name="a0bde8e57f0cd67a44286b2ad679bb0a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bde8e57f0cd67a44286b2ad679bb0a6">&#9670;&#160;</a></span>should_strip_auth()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">should_strip_auth </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>old_url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>new_url</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Decide whether Authorization header should be removed when redirecting</pre> 
<p class="definition">Definition at line <a class="el" href="../../d6/dbb/sessions_8py_source.html#l00127">127</a> of file <a class="el" href="../../d6/dbb/sessions_8py_source.html">sessions.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  127</span>    <span class="keyword">def </span>should_strip_auth(self, old_url, new_url):</div>
<div class="line"><span class="lineno">  128</span>        <span class="stringliteral">&quot;&quot;&quot;Decide whether Authorization header should be removed when redirecting&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  129</span>        old_parsed = urlparse(old_url)</div>
<div class="line"><span class="lineno">  130</span>        new_parsed = urlparse(new_url)</div>
<div class="line"><span class="lineno">  131</span>        <span class="keywordflow">if</span> <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">old_parsed.hostname</a> != <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">new_parsed.hostname</a>:</div>
<div class="line"><span class="lineno">  132</span>            <span class="keywordflow">return</span> <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  133</span>        <span class="comment"># Special case: allow http -&gt; https redirect when using the standard</span></div>
<div class="line"><span class="lineno">  134</span>        <span class="comment"># ports. This isn&#39;t specified by RFC 7235, but is kept to avoid</span></div>
<div class="line"><span class="lineno">  135</span>        <span class="comment"># breaking backwards compatibility with older versions of requests</span></div>
<div class="line"><span class="lineno">  136</span>        <span class="comment"># that allowed any redirects on the same host.</span></div>
<div class="line"><span class="lineno">  137</span>        <span class="keywordflow">if</span> (</div>
<div class="line"><span class="lineno">  138</span>            <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">old_parsed.scheme</a> == <span class="stringliteral">&quot;http&quot;</span></div>
<div class="line"><span class="lineno">  139</span>            <span class="keywordflow">and</span> <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">old_parsed.port</a> <span class="keywordflow">in</span> (80, <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  140</span>            <span class="keywordflow">and</span> <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">new_parsed.scheme</a> == <span class="stringliteral">&quot;https&quot;</span></div>
<div class="line"><span class="lineno">  141</span>            <span class="keywordflow">and</span> <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">new_parsed.port</a> <span class="keywordflow">in</span> (443, <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  142</span>        ):</div>
<div class="line"><span class="lineno">  143</span>            <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  144</span> </div>
<div class="line"><span class="lineno">  145</span>        <span class="comment"># Handle default port usage corresponding to scheme.</span></div>
<div class="line"><span class="lineno">  146</span>        changed_port = <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">old_parsed.port</a> != <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">new_parsed.port</a></div>
<div class="line"><span class="lineno">  147</span>        changed_scheme = <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">old_parsed.scheme</a> != <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">new_parsed.scheme</a></div>
<div class="line"><span class="lineno">  148</span>        default_port = (<a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">DEFAULT_PORTS.get</a>(<a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">old_parsed.scheme</a>, <span class="keywordtype">None</span>), <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  149</span>        <span class="keywordflow">if</span> (</div>
<div class="line"><span class="lineno">  150</span>            <span class="keywordflow">not</span> changed_scheme</div>
<div class="line"><span class="lineno">  151</span>            <span class="keywordflow">and</span> <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">old_parsed.port</a> <span class="keywordflow">in</span> default_port</div>
<div class="line"><span class="lineno">  152</span>            <span class="keywordflow">and</span> <a class="code hl_variable" href="../../d2/d00/prime__search_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">new_parsed.port</a> <span class="keywordflow">in</span> default_port</div>
<div class="line"><span class="lineno">  153</span>        ):</div>
<div class="line"><span class="lineno">  154</span>            <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  155</span> </div>
<div class="line"><span class="lineno">  156</span>        <span class="comment"># Standard case: root URI must match</span></div>
<div class="line"><span class="lineno">  157</span>        <span class="keywordflow">return</span> changed_port <span class="keywordflow">or</span> changed_scheme</div>
<div class="line"><span class="lineno">  158</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/d00/prime__search_8m_source.html#l00010">i</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dbb/sessions_8py_source.html#l00283">SessionRedirectMixin.rebuild_auth()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin_a0bde8e57f0cd67a44286b2ad679bb0a6_icgraph.png" border="0" usemap="#ad2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin_a0bde8e57f0cd67a44286b2ad679bb0a6_icgraph" alt=""/></div>
<map name="ad2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin_a0bde8e57f0cd67a44286b2ad679bb0a6_icgraph" id="ad2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin_a0bde8e57f0cd67a44286b2ad679bb0a6_icgraph">
<area shape="rect" title=" " alt="" coords="156,5,293,31"/>
<area shape="rect" href="../../d2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin.html#af1d0ff5f3ec99206653c6986ff5a7c1c" title=" " alt="" coords="5,5,108,31"/>
<area shape="poly" title=" " alt="" coords="142,21,108,21,108,15,142,15"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a id="acf6806cb451532910e49b7c25b368ec1" name="acf6806cb451532910e49b7c25b368ec1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf6806cb451532910e49b7c25b368ec1">&#9670;&#160;</a></span>cookies</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cookies</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dbb/sessions_8py_source.html#l00241">241</a> of file <a class="el" href="../../d6/dbb/sessions_8py_source.html">sessions.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d56/__vendor_2requests_2models_8py_source.html#l00296">Request.prepare()</a>, <a class="el" href="../../d6/dbb/sessions_8py_source.html#l00459">Session.prepare_request()</a>, and <a class="el" href="../../d6/dbb/sessions_8py_source.html#l00673">Session.send()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/liwuen/projects_dev/pqc-engineering-ssec-23/venv/lib/python3.12/site-packages/pip/_vendor/requests/<a class="el" href="../../d6/dbb/sessions_8py_source.html">sessions.py</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d4/d6e/namespacepip.html">pip</a></li><li class="navelem"><a class="el" href="../../d8/d63/namespacepip_1_1__vendor.html">_vendor</a></li><li class="navelem"><a class="el" href="../../d7/dbf/namespacepip_1_1__vendor_1_1requests.html">requests</a></li><li class="navelem"><a class="el" href="../../d8/d2e/namespacepip_1_1__vendor_1_1requests_1_1sessions.html">sessions</a></li><li class="navelem"><a class="el" href="../../d2/da7/classpip_1_1__vendor_1_1requests_1_1sessions_1_1SessionRedirectMixin.html">SessionRedirectMixin</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
